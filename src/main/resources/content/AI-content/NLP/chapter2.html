<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬2ç« ï¼šæ–‡æœ¬é¢„å¤„ç† - è®©æœºå™¨è¯»æ‡‚æ–‡å­—çš„ç¬¬ä¸€æ­¥</title>
    <meta name="description" content="ä»ä¸€ä¸ªæœç´¢å¼•æ“çš„bugè¯´èµ·ï¼Œæ·±å…¥ç†è§£åˆ†è¯ã€è¯æ€§æ ‡æ³¨ç­‰æ–‡æœ¬é¢„å¤„ç†æŠ€æœ¯">

    <style>
        /* ===== CSSå˜é‡å®šä¹‰ ===== */
        :root {
            /* æ¸å˜è‰² */
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --hero-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --card-gradient: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.05));

            /* ä¸»é¢˜è‰² */
            --primary: #6366f1;
            --primary-light: #818cf8;
            --primary-dark: #4f46e5;
            --secondary: #ec4899;
            --accent: #10b981;

            /* åŠŸèƒ½è‰² */
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;

            /* èƒŒæ™¯è‰² */
            --bg-dark: #0f172a;
            --bg-section: #1e293b;
            --bg-card: #334155;
            --bg-code: #0d1117;

            /* æ–‡å­—è‰² */
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;

            /* å…¶ä»– */
            --border-color: rgba(255, 255, 255, 0.1);
            --shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            --shadow-lg: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            --radius: 1rem;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* ===== å…¨å±€æ ·å¼ ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.7;
            font-size: 16px;
            overflow-x: hidden;
        }

        /* ===== èƒŒæ™¯æ•ˆæœ ===== */
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.03;
            background-image:
                    repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255,255,255,.5) 35px, rgba(255,255,255,.5) 70px);
            pointer-events: none;
            z-index: 0;
        }

        .floating-shapes {
            position: fixed;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
        }

        .shape {
            position: absolute;
            opacity: 0.1;
            animation: float 20s infinite ease-in-out;
        }

        .shape:nth-child(1) {
            width: 80px;
            height: 80px;
            background: var(--primary);
            border-radius: 50%;
            left: 10%;
            top: 20%;
            animation-delay: 0s;
        }

        .shape:nth-child(2) {
            width: 120px;
            height: 120px;
            background: var(--secondary);
            border-radius: 38% 62% 63% 37% / 41% 44% 56% 59%;
            left: 70%;
            top: 60%;
            animation-delay: 2s;
        }

        .shape:nth-child(3) {
            width: 100px;
            height: 100px;
            background: var(--accent);
            border-radius: 63% 37% 54% 46% / 55% 48% 52% 45%;
            left: 40%;
            top: 80%;
            animation-delay: 4s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-30px) rotate(120deg); }
            66% { transform: translateY(30px) rotate(240deg); }
        }

        /* ===== å¸ƒå±€ ===== */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
            position: relative;
            z-index: 1;
        }

        /* ===== å¯¼èˆªæ  ===== */
        .nav-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.85);
            backdrop-filter: blur(20px);
            z-index: 1000;
            border-bottom: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .nav-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 0;
        }

        .nav-title {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .nav-title h1 {
            font-size: 1.25rem;
            font-weight: 600;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-menu {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        /* è¿›åº¦æ¡ */
        .progress-container {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: rgba(255, 255, 255, 0.1);
        }

        .progress-bar {
            height: 100%;
            background: var(--primary-gradient);
            width: 0;
            transition: width 0.3s ease;
        }

        /* ===== ä¾§è¾¹æ  ===== */
        .sidebar {
            position: fixed;
            left: -300px;
            top: 60px;
            bottom: 0;
            width: 300px;
            background: var(--bg-section);
            border-right: 1px solid var(--border-color);
            padding: 2rem;
            overflow-y: auto;
            transition: transform 0.3s ease;
            z-index: 999;
            box-shadow: 5px 0 25px rgba(0, 0, 0, 0.5);
        }

        .sidebar.open {
            transform: translateX(300px);
        }

        .toc-title {
            color: var(--primary-light);
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .toc-section {
            margin-bottom: 1.5rem;
        }

        .toc-section-title {
            color: var(--text-muted);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
            padding-left: 0.5rem;
        }

        .toc-item {
            display: block;
            padding: 0.75rem 1rem;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
            margin-bottom: 0.25rem;
            font-size: 0.95rem;
            position: relative;
            overflow: hidden;
        }

        .toc-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--primary);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }

        .toc-item:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            padding-left: 1.5rem;
        }

        .toc-item.active {
            background: var(--card-gradient);
            color: var(--primary-light);
        }

        .toc-item.active::before {
            transform: translateX(0);
        }

        /* ===== æŒ‰é’®æ ·å¼ ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-size: 0.95rem;
            font-weight: 500;
            text-decoration: none;
            transition: var(--transition);
            cursor: pointer;
            border: none;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.5s, height 0.5s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: var(--primary-gradient);
            color: white;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-icon {
            background: transparent;
            padding: 0.5rem;
            color: var(--text-secondary);
        }

        /* ===== ä¸»å†…å®¹ ===== */
        main {
            margin-top: 80px;
            padding-bottom: 4rem;
            position: relative;
            z-index: 1;
        }

        /* ===== ç« èŠ‚å¤´éƒ¨ ===== */
        .chapter-hero {
            background: var(--hero-gradient);
            padding: 6rem 0;
            margin-bottom: 3rem;
            position: relative;
            overflow: hidden;
        }

        .chapter-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 30s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .chapter-hero-content {
            text-align: center;
            color: white;
            position: relative;
            z-index: 1;
        }

        .chapter-hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            font-weight: 800;
            letter-spacing: -0.02em;
            animation: fadeInUp 0.8s ease;
        }

        .chapter-hero p {
            font-size: 1.5rem;
            opacity: 0.95;
            animation: fadeInUp 0.8s ease 0.2s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ===== å†…å®¹å¡ç‰‡ ===== */
        .section-card {
            background: var(--bg-section);
            border-radius: var(--radius);
            padding: 3rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .section-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary-gradient);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s ease;
        }

        .section-card:hover::before {
            transform: scaleX(1);
        }

        .section-card h2 {
            color: var(--primary-light);
            margin-bottom: 2rem;
            font-size: 2.25rem;
            font-weight: 700;
        }

        .section-card h3 {
            color: var(--text-primary);
            margin: 2rem 0 1rem;
            font-size: 1.5rem;
            font-weight: 600;
        }

        /* ===== æ•…äº‹å¡ç‰‡ ===== */
        .story-card {
            background: linear-gradient(135deg, rgba(236, 72, 153, 0.1), rgba(239, 68, 68, 0.1));
            border: 2px solid rgba(236, 72, 153, 0.3);
            border-radius: var(--radius);
            padding: 2.5rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .story-card::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: var(--hero-gradient);
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: var(--radius);
        }

        .story-card:hover::after {
            opacity: 0.3;
        }

        .story-icon {
            font-size: 3rem;
            display: block;
            margin-bottom: 1rem;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* ===== ä»£ç å— ===== */
        .code-block {
            background: var(--bg-code);
            border: 1px solid #30363d;
            border-radius: 0.75rem;
            margin: 1.5rem 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .code-header {
            background: #161b22;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #30363d;
        }

        .code-lang {
            color: var(--primary-light);
            font-size: 0.875rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .code-lang::before {
            content: '';
            width: 12px;
            height: 12px;
            background: var(--primary);
            border-radius: 50%;
            display: inline-block;
        }

        .code-actions {
            display: flex;
            gap: 0.5rem;
        }

        .code-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--text-secondary);
            padding: 0.375rem 0.875rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }

        .code-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: translateY(-1px);
        }

        .code-content {
            padding: 1.5rem;
            overflow-x: auto;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', monospace;
            font-size: 0.875rem;
            line-height: 1.7;
        }

        .code-content pre {
            margin: 0;
            color: #e6edf3;
        }

        .code-content.collapsed {
            max-height: 300px;
            overflow: hidden;
            position: relative;
        }

        .code-content.collapsed::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: linear-gradient(transparent, var(--bg-code));
        }

        /* ä»£ç é«˜äº® */
        .keyword { color: #ff79c6; }
        .string { color: #f1fa8c; }
        .comment { color: #6272a4; }
        .function { color: #50fa7b; }
        .number { color: #bd93f9; }

        /* ===== å¡ç‰‡ç½‘æ ¼ ===== */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .info-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 2rem;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .info-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--primary-gradient);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary);
        }

        .info-card:hover::before {
            opacity: 0.05;
        }

        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
        }

        .card-title {
            color: var(--primary-light);
            margin-bottom: 1rem;
            font-size: 1.25rem;
            font-weight: 600;
        }

        /* ===== äº’åŠ¨æ¼”ç¤º ===== */
        .demo-container {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));
            border: 2px solid rgba(59, 130, 246, 0.3);
            border-radius: var(--radius);
            padding: 2.5rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .demo-container::before {
            content: 'ğŸ§ª';
            position: absolute;
            top: -20px;
            right: 20px;
            font-size: 4rem;
            opacity: 0.1;
        }

        .demo-input {
            width: 100%;
            padding: 1rem 1.5rem;
            background: var(--bg-dark);
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            color: var(--text-primary);
            font-size: 1.1rem;
            margin-bottom: 1rem;
            transition: all 0.3s;
        }

        .demo-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .demo-button {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 1rem 2.5rem;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(99, 102, 241, 0.3);
        }

        .demo-result {
            margin-top: 2rem;
            padding: 1.5rem;
            background: var(--bg-dark);
            border-radius: 0.75rem;
            min-height: 120px;
            border: 1px solid var(--border-color);
        }

        /* ===== åˆ†è¯å±•ç¤º ===== */
        .token {
            display: inline-block;
            padding: 0.5rem 1.25rem;
            margin: 0.375rem;
            border-radius: 2rem;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .token::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.5s, height 0.5s;
        }

        .token:hover::before {
            width: 100px;
            height: 100px;
        }

        .token:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .token-word {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(99, 102, 241, 0.2));
            border: 2px solid var(--info);
            color: var(--info);
        }

        .token-entity {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(34, 197, 94, 0.2));
            border: 2px solid var(--success);
            color: var(--success);
        }

        .token-pos {
            background: linear-gradient(135deg, rgba(236, 72, 153, 0.2), rgba(244, 114, 182, 0.2));
            border: 2px solid var(--secondary);
            color: var(--secondary);
            position: relative;
            padding-top: 2rem;
        }

        .pos-label {
            position: absolute;
            top: 0.25rem;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.65rem;
            background: var(--secondary);
            color: white;
            padding: 0.125rem 0.5rem;
            border-radius: 1rem;
        }

        /* ===== æµç¨‹å›¾ ===== */
        .flow-diagram {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 2.5rem;
            margin: 2rem 0;
            overflow-x: auto;
        }

        .flow-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            min-width: 800px;
            padding: 2rem 0;
        }

        .flow-step {
            background: var(--bg-section);
            border: 2px solid var(--border-color);
            border-radius: var(--radius);
            padding: 2rem;
            text-align: center;
            min-width: 150px;
            transition: all 0.3s ease;
            position: relative;
        }

        .flow-step:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: var(--shadow);
        }

        .flow-step-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .flow-step-title {
            font-weight: 600;
            color: var(--primary-light);
            margin-bottom: 0.5rem;
        }

        .flow-arrow {
            font-size: 2rem;
            color: var(--primary);
            animation: arrow-move 1.5s ease-in-out infinite;
        }

        @keyframes arrow-move {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }

        /* ===== æç¤ºæ¡† ===== */
        .tip {
            padding: 1.5rem 2rem;
            border-radius: var(--radius);
            margin: 2rem 0;
            border-left: 4px solid;
            position: relative;
            overflow: hidden;
        }

        .tip::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.05;
            background: currentColor;
        }

        .tip-icon {
            font-size: 1.5rem;
            margin-right: 1rem;
            vertical-align: middle;
        }

        .tip.info {
            background: rgba(59, 130, 246, 0.1);
            border-color: var(--info);
            color: var(--text-primary);
        }

        .tip.warning {
            background: rgba(245, 158, 11, 0.1);
            border-color: var(--warning);
            color: var(--text-primary);
        }

        .tip.success {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--success);
            color: var(--text-primary);
        }

        .tip.danger {
            background: rgba(239, 68, 68, 0.1);
            border-color: var(--danger);
            color: var(--text-primary);
        }

        /* ===== å¯¹æ¯”è¡¨æ ¼ ===== */
        .comparison-table {
            background: var(--bg-card);
            border-radius: var(--radius);
            overflow: hidden;
            margin: 2rem 0;
            box-shadow: var(--shadow);
        }

        .comparison-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .comparison-table th {
            background: var(--primary-gradient);
            color: white;
            padding: 1.25rem;
            text-align: left;
            font-weight: 600;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .comparison-table td {
            padding: 1.25rem;
            border-bottom: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .comparison-table tr:hover td {
            background: rgba(99, 102, 241, 0.05);
        }

        .comparison-table tr:last-child td {
            border-bottom: none;
        }

        /* ===== ç®—æ³•æ­¥éª¤ ===== */
        .algorithm-steps {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.05));
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: var(--radius);
            padding: 2.5rem;
            margin: 2rem 0;
        }

        .step-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 2rem;
            position: relative;
        }

        .step-item:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 24px;
            top: 50px;
            bottom: -30px;
            width: 2px;
            background: linear-gradient(to bottom, var(--primary), transparent);
        }

        .step-number {
            width: 48px;
            height: 48px;
            background: var(--primary-gradient);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.25rem;
            margin-right: 1.5rem;
            flex-shrink: 0;
            position: relative;
            z-index: 1;
        }

        .step-content h5 {
            color: var(--primary-light);
            margin-bottom: 0.5rem;
            font-size: 1.25rem;
        }

        /* ===== æ•°å­¦å…¬å¼ ===== */
        .math-display {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(99, 102, 241, 0.05));
            border: 2px solid rgba(139, 92, 246, 0.2);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
            font-size: 1.2rem;
            overflow-x: auto;
        }

        .math-formula {
            font-family: 'KaTeX_Math', 'Times New Roman', serif;
            font-style: italic;
            color: var(--primary-light);
            font-size: 1.3rem;
            margin: 1rem 0;
        }

        /* ===== å¯è§†åŒ–ç»„ä»¶ ===== */
        .visualization {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }

        .matrix-grid {
            display: inline-grid;
            gap: 0.5rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 0.5rem;
            margin: 1rem auto;
        }

        .matrix-cell {
            width: 60px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(99, 102, 241, 0.1);
            border: 1px solid var(--primary);
            border-radius: 0.375rem;
            font-size: 0.875rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .matrix-cell:hover {
            background: rgba(99, 102, 241, 0.3);
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(99, 102, 241, 0.4);
        }

        /* ===== å¿«é€Ÿå¯¼èˆª ===== */
        .quick-nav {
            position: fixed;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .quick-nav-item {
            width: 12px;
            height: 12px;
            background: var(--text-muted);
            border-radius: 50%;
            transition: all 0.3s;
            position: relative;
            cursor: pointer;
        }

        .quick-nav-item:hover,
        .quick-nav-item.active {
            background: var(--primary);
            transform: scale(1.5);
        }

        .quick-nav-tooltip {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--bg-dark);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            border: 1px solid var(--border-color);
            font-size: 0.875rem;
        }

        .quick-nav-item:hover .quick-nav-tooltip {
            opacity: 1;
        }

        /* ===== äº¤äº’æ•ˆæœ ===== */
        .interactive-box {
            background: var(--bg-card);
            border: 2px dashed var(--primary);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .interactive-box:hover {
            border-style: solid;
            background: rgba(99, 102, 241, 0.05);
        }

        /* ===== å“åº”å¼è®¾è®¡ ===== */
        @media (max-width: 768px) {
            .chapter-hero h1 {
                font-size: 2.5rem;
            }

            .section-card {
                padding: 2rem;
            }

            .quick-nav {
                display: none;
            }

            .card-grid {
                grid-template-columns: 1fr;
            }

            .flow-container {
                flex-direction: column;
                min-width: auto;
            }

            .flow-arrow {
                transform: rotate(90deg);
            }
        }

        /* ===== åŠ è½½åŠ¨ç”» ===== */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ===== å·¥å…·ç±» ===== */
        .text-center { text-align: center; }
        .text-muted { color: var(--text-muted); }
        .mt-1 { margin-top: 0.5rem; }
        .mt-2 { margin-top: 1rem; }
        .mt-3 { margin-top: 1.5rem; }
        .mt-4 { margin-top: 2rem; }
        .mb-1 { margin-bottom: 0.5rem; }
        .mb-2 { margin-bottom: 1rem; }
        .mb-3 { margin-bottom: 1.5rem; }
        .mb-4 { margin-bottom: 2rem; }
        .flex { display: flex; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .gap-1 { gap: 0.5rem; }
        .gap-2 { gap: 1rem; }
    </style>
</head>
<body>

<!-- èƒŒæ™¯æ•ˆæœ -->
<div class="bg-pattern"></div>
<div class="floating-shapes">
    <div class="shape"></div>
    <div class="shape"></div>
    <div class="shape"></div>
</div>

<!-- å¯¼èˆªæ  -->
<nav class="nav-header">
    <div class="container">
        <div class="nav-content">
            <div class="nav-title">
                <button id="toggle-sidebar" class="btn btn-icon">
                    <svg width="20" height="20" fill="currentColor">
                        <path d="M3 5h14M3 10h14M3 15h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
                <h1>ç¬¬2ç« ï¼šæ–‡æœ¬é¢„å¤„ç†</h1>
            </div>
            <div class="nav-menu">
                <button class="btn btn-icon" id="theme-toggle">ğŸŒ™</button>
                <a href="#summary" class="btn btn-secondary">ç« èŠ‚æ€»ç»“</a>
            </div>
        </div>
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
    </div>
</nav>

<!-- ä¾§è¾¹æ  -->
<aside class="sidebar" id="sidebar">
    <h3 class="toc-title">
        <span>ğŸ“š</span>
        <span>æœ¬ç« å¯¼èˆª</span>
    </h3>

    <div class="toc-section">
        <div class="toc-section-title">å¼€ç¯‡</div>
        <a href="#intro" class="toc-item active">åºè¨€ï¼šä¸€ä¸ªæœç´¢å¼•æ“çš„Bug</a>
        <a href="#why-preprocess" class="toc-item">ä¸ºä»€ä¹ˆéœ€è¦é¢„å¤„ç†</a>
    </div>

    <div class="toc-section">
        <div class="toc-section-title">æ ¸å¿ƒæŠ€æœ¯</div>
        <a href="#tokenization" class="toc-item">åˆ†è¯ï¼šåˆ‡åˆ†çš„è‰ºæœ¯</a>
        <a href="#tokenization-math" class="toc-item">åˆ†è¯çš„æ•°å­¦æœ¬è´¨</a>
        <a href="#chinese-challenges" class="toc-item">ä¸­æ–‡åˆ†è¯æŒ‘æˆ˜</a>
        <a href="#pos-tagging" class="toc-item">è¯æ€§æ ‡æ³¨</a>
        <a href="#ner" class="toc-item">å‘½åå®ä½“è¯†åˆ«</a>
    </div>

    <div class="toc-section">
        <div class="toc-section-title">å®è·µåº”ç”¨</div>
        <a href="#text-cleaning" class="toc-item">æ–‡æœ¬æ¸…æ´—</a>
        <a href="#tools-comparison" class="toc-item">å·¥å…·å¯¹æ¯”</a>
        <a href="#practice" class="toc-item">æ„å»ºé¢„å¤„ç†ç®¡é“</a>
        <a href="#optimization" class="toc-item">æ€§èƒ½ä¼˜åŒ–</a>
    </div>

    <div class="toc-section">
        <div class="toc-section-title">æ€»ç»“å±•æœ›</div>
        <a href="#summary" class="toc-item">æœ¬ç« æ€»ç»“</a>
        <a href="#exercises" class="toc-item">ç»ƒä¹ é¢˜</a>
    </div>
</aside>

<!-- å¿«é€Ÿå¯¼èˆª -->
<div class="quick-nav" id="quick-nav">
    <div class="quick-nav-item active" data-section="intro">
        <span class="quick-nav-tooltip">å¼€ç¯‡æ•…äº‹</span>
    </div>
    <div class="quick-nav-item" data-section="tokenization">
        <span class="quick-nav-tooltip">åˆ†è¯æŠ€æœ¯</span>
    </div>
    <div class="quick-nav-item" data-section="pos-tagging">
        <span class="quick-nav-tooltip">è¯æ€§æ ‡æ³¨</span>
    </div>
    <div class="quick-nav-item" data-section="ner">
        <span class="quick-nav-tooltip">å®ä½“è¯†åˆ«</span>
    </div>
    <div class="quick-nav-item" data-section="practice">
        <span class="quick-nav-tooltip">å®æˆ˜åº”ç”¨</span>
    </div>
</div>

<!-- ä¸»å†…å®¹ -->
<main>
    <!-- ç« èŠ‚æ ‡é¢˜ -->
    <section class="chapter-hero">
        <div class="container">
            <div class="chapter-hero-content">
                <h1>æ–‡æœ¬é¢„å¤„ç†</h1>
                <p>è®©æœºå™¨è¯»æ‡‚æ–‡å­—çš„ç¬¬ä¸€æ­¥</p>
            </div>
        </div>
    </section>

    <div class="container">
        <!-- åºè¨€ -->
        <section id="intro" class="section-card">
            <h2>ğŸ“– åºè¨€ï¼šä¸€ä¸ªä»·å€¼åƒä¸‡çš„ç©ºæ ¼</h2>

            <div class="story-card">
                <span class="story-icon">ğŸŒ™</span>
                <p><strong>2019å¹´ï¼ŒåŒ—äº¬ï¼ŒæŸäº’è”ç½‘å…¬å¸æ€»éƒ¨ã€‚</strong></p>
                <p class="mt-2">
                    å‡Œæ™¨3ç‚¹ï¼Œæœç´¢å›¢é˜Ÿçš„å€¼ç­å·¥ç¨‹å¸ˆå°æè¢«ä¸€é˜µæ€¥ä¿ƒçš„ç”µè¯é“ƒå£°æƒŠé†’ã€‚
                </p>
                <p class="mt-2">
                    "æœç´¢å´©äº†ï¼iPhone11çš„æ‰€æœ‰å•†å“éƒ½æœä¸å‡ºæ¥äº†ï¼"è¿è¥æ€»ç›‘åœ¨ç”µè¯é‚£å¤´å‡ ä¹æ˜¯åœ¨å’†å“®ï¼Œ"ç°åœ¨æ˜¯iPhone11é¦–å‘é¢„å”®ï¼Œæ¯åˆ†é’ŸæŸå¤±å‡ åä¸‡ï¼"
                </p>
                <p class="mt-2">
                    å°æç¡æ„å…¨æ— ï¼Œç«‹åˆ»ç™»å½•ç³»ç»Ÿã€‚å¥‡æ€ªçš„æ˜¯ï¼Œæœç´¢"iPhone 11"ï¼ˆæœ‰ç©ºæ ¼ï¼‰èƒ½æ‰¾åˆ°æˆåƒä¸Šä¸‡çš„å•†å“ï¼Œä½†æœç´¢"iPhone11"ï¼ˆæ— ç©ºæ ¼ï¼‰å´ä¸€ç‰‡ç©ºç™½ã€‚
                </p>
                <p class="mt-2">
                    ç»è¿‡ä¸¤ä¸ªå°æ—¶çš„å¥‹æˆ˜ï¼ŒçœŸç›¸ç»ˆäºæµ®å‡ºæ°´é¢ï¼šç³»ç»ŸæŠŠ"iPhone11"å½“ä½œä¸€ä¸ªå®Œæ•´çš„è¯ï¼Œè€Œå•†å®¶ä¸Šä¼ æ—¶99%éƒ½å†™çš„æ˜¯"iPhone 11"ã€‚<strong>ä¸€ä¸ªå°å°çš„ç©ºæ ¼ï¼Œè®©ä»·å€¼æ•°åƒä¸‡çš„å•†å“åœ¨ç”¨æˆ·é¢å‰"éšèº«"äº†ã€‚</strong>
                </p>
                <p class="mt-3 text-center" style="font-size: 1.25rem; color: var(--warning);">
                    ğŸ’¡ è¿™ä¸ªBugæ­ç¤ºäº†ä¸€ä¸ªæ·±åˆ»çš„é—®é¢˜ï¼š<br>
                    äººç±»è§‰å¾—"æ˜¾è€Œæ˜“è§"çš„äº‹ï¼Œå¯¹æœºå™¨æ¥è¯´å´æ˜¯å·¨å¤§çš„é¸¿æ²Ÿã€‚
                </p>
            </div>

            <div class="demo-container">
                <h3 class="text-center mb-3" style="color: var(--primary-light);">ğŸ” ä¸€ä¸ªç©ºæ ¼çš„è´è¶æ•ˆåº”</h3>

                <div class="card-grid">
                    <div class="info-card">
                        <span class="card-icon">âŒ</span>
                        <h4 class="card-title">Bugå‘ç”Ÿæ—¶</h4>
                        <p>ç”¨æˆ·æœç´¢ï¼š"iPhone11"</p>
                        <p class="text-muted">æ•°æ®åº“ä¸­ï¼š"iPhone 11"</p>
                        <p class="mt-2 text-center" style="color: var(--danger);">
                            åŒ¹é…å¤±è´¥ï¼0ä¸ªç»“æœ
                        </p>
                        <p class="mt-3 text-center" style="font-size: 2rem;">ğŸ’¸</p>
                        <p class="text-center" style="color: var(--danger);">æŸå¤±ï¼š3000ä¸‡/å¤©</p>
                    </div>

                    <div class="info-card">
                        <span class="card-icon">âœ…</span>
                        <h4 class="card-title">ä¿®å¤å</h4>
                        <p>æ™ºèƒ½åˆ†è¯ï¼š"iPhone11" â†’ "iPhone" + "11"</p>
                        <p class="text-muted">æ•°æ®åº“ï¼š"iPhone 11" â†’ "iPhone" + "11"</p>
                        <p class="mt-2 text-center" style="color: var(--success);">
                            åŒ¹é…æˆåŠŸï¼50000+ç»“æœ
                        </p>
                        <p class="mt-3 text-center" style="font-size: 2rem;">ğŸ‰</p>
                        <p class="text-center" style="color: var(--success);">æ•ˆæœï¼šé”€é‡æå‡300%</p>
                    </div>
                </div>
            </div>

            <div class="tip info mt-4">
                <span class="tip-icon">ğŸ¤”</span>
                <strong>æ·±å±‚æ€è€ƒï¼šç†è§£çš„é¸¿æ²Ÿ</strong>
                <p class="mt-2">è¿™ä¸ªBugèƒŒååæ˜ äº†äººæœºç†è§£çš„æœ¬è´¨å·®å¼‚ï¼š</p>
                <ul class="mt-2">
                    <li><strong>äººç±»ç†è§£ï¼š</strong>åŸºäºè¯­ä¹‰å’Œç»éªŒã€‚çœ‹åˆ°"iPhone11"ï¼Œå¤§è„‘ä¼šè‡ªåŠ¨ç†è§£ä¸º"iPhoneçš„ç¬¬11ä»£"</li>
                    <li><strong>æœºå™¨ç†è§£ï¼š</strong>åŸºäºå­—ç¬¦åŒ¹é…ã€‚"iPhone11"å°±æ˜¯13ä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä¸"iPhone 11"å®Œå…¨ä¸åŒ</li>
                    <li><strong>è§£å†³ä¹‹é“ï¼š</strong>é€šè¿‡é¢„å¤„ç†ï¼Œè®©æœºå™¨å­¦ä¼š"åƒäººä¸€æ ·ç†è§£"æ–‡æœ¬</li>
                </ul>
            </div>
        </section>

        <!-- ä¸ºä»€ä¹ˆéœ€è¦é¢„å¤„ç† -->
        <section id="why-preprocess" class="section-card">
            <h2>ğŸ¯ ä¸ºä»€ä¹ˆéœ€è¦é¢„å¤„ç†ï¼Ÿ</h2>

            <div class="story-card">
                <span class="story-icon">ğŸŒ</span>
                <p><strong>æƒ³è±¡ä¸€ä¸ªåœºæ™¯ï¼š</strong>ä½ æ˜¯ä¸€ä¸ªåˆšåˆ°åœ°çƒçš„å¤–æ˜Ÿäººï¼Œç¬¬ä¸€æ¬¡çœ‹åˆ°äººç±»çš„æ–‡å­—ã€‚</p>
                <p class="mt-2">ä½ çœ‹åˆ°è¿™æ ·ä¸€æ®µè¯ï¼š</p>
                <div class="code-block mt-2">
                    <div class="code-header">
                        <span class="code-lang">æ··ä¹±çš„åŸå§‹æ–‡æœ¬</span>
                    </div>
                    <div class="code-content">
                        <pre>"NLPå¾ˆæœ‰è¶£ï¼ï¼ï¼æˆ‘çˆ±N.L.P.~~~Machine Learningä¹Ÿä¸é”™ğŸ˜ŠğŸ˜ŠğŸ˜Š"</pre>
                    </div>
                </div>
                <p class="mt-2">ä½œä¸ºå¤–æ˜Ÿäººçš„ä½ ä¼šå›°æƒ‘ï¼š</p>
                <ul>
                    <li>NLPå’ŒN.L.P.æ˜¯åŒä¸€ä¸ªä¸œè¥¿å—ï¼Ÿ</li>
                    <li>é‚£äº›æ„Ÿå¹å·å’Œæ³¢æµªçº¿æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</li>
                    <li>ğŸ˜Šè¿™ä¸ªé»„è‰²åœ†è„¸æ˜¯æ–‡å­—çš„ä¸€éƒ¨åˆ†å—ï¼Ÿ</li>
                    <li>Machine Learningæ˜¯ä¸€ä¸ªè¯è¿˜æ˜¯ä¸¤ä¸ªè¯ï¼Ÿ</li>
                </ul>
                <p class="mt-3 text-center" style="color: var(--primary-light); font-size: 1.1rem;">
                    æœºå™¨å°±åƒè¿™ä¸ªå¤–æ˜Ÿäººï¼Œéœ€è¦æˆ‘ä»¬æ•™å®ƒå¦‚ä½•ç†è§£è¿™äº›"æ··ä¹±"çš„äººç±»æ–‡æœ¬ã€‚
                </p>
            </div>

            <h3>æ–‡æœ¬é¢„å¤„ç†é¢ä¸´çš„ä¸‰å¤§æŒ‘æˆ˜</h3>

            <div class="card-grid">
                <div class="info-card">
                    <span class="card-icon">ğŸŒ</span>
                    <h3 class="card-title">å½¢å¼å¤šæ ·æ€§æŒ‘æˆ˜</h3>
                    <p>åŒæ ·çš„æ„æ€ï¼Œåƒå˜ä¸‡åŒ–çš„å†™æ³•</p>
                    <div class="demo-container mt-3" style="padding: 1.5rem;">
                        <p style="font-size: 0.9rem;">ä¸€ä¸ªæ¦‚å¿µï¼Œå¤šç§è¡¨è¾¾ï¼š</p>
                        <ul style="font-size: 0.875rem;">
                            <li>äººå·¥æ™ºèƒ½ = AI = A.I. = Artificial Intelligence</li>
                            <li>äºŒã€‡äºŒä¸‰å¹´ = 2023å¹´ = 2023-å¹´ = è´°é›¶è´°åå¹´</li>
                            <li>iPhone 12 = iPhone12 = iphone12 = IPHONE12</li>
                        </ul>
                    </div>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ§¹</span>
                    <h3 class="card-title">å™ªå£°æ±¡æŸ“æŒ‘æˆ˜</h3>
                    <p>çœŸå®æ–‡æœ¬åƒæ²¡æ‰“æ‰«çš„æˆ¿é—´</p>
                    <div class="demo-container mt-3" style="padding: 1.5rem;">
                        <p style="font-size: 0.9rem;">å¸¸è§å™ªå£°ï¼š</p>
                        <code style="font-size: 0.75rem; display: block; white-space: pre-wrap;">
                            &lt;p&gt;è¿™æ˜¯&lt;b&gt;é‡è¦&lt;/b&gt;çš„å†…å®¹ï¼ï¼ï¼ï¼&lt;/p&gt;
                            å¤§å®¶å¥½ğŸ‘‹ğŸ‘‹ğŸ‘‹ä»Šå¤©å¤©æ°”çœŸå¥½â˜€ï¸â˜€ï¸
                            ä¹°ä¹°ä¹°ä¹°ä¹°ä¹°ï¼ï¼ï¼ä¾¿å®œï¼ï¼ï¼</code>
                    </div>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ“</span>
                    <h3 class="card-title">ç²’åº¦å›°å¢ƒæŒ‘æˆ˜</h3>
                    <p>ä»€ä¹ˆæ˜¯ä¸€ä¸ª"è¯"ï¼Ÿ</p>
                    <div class="demo-container mt-3" style="padding: 1.5rem;">
                        <p style="font-size: 0.9rem;">åˆ†è¯æ­§ä¹‰ï¼š</p>
                        <ul style="font-size: 0.875rem;">
                            <li>"ç ”ç©¶ç”Ÿå‘½èµ·æº" â†’ ç ”ç©¶/ç”Ÿå‘½/èµ·æº or ç ”ç©¶ç”Ÿ/å‘½/èµ·æºï¼Ÿ</li>
                            <li>"basketball" â†’ basket/ball or basketballï¼Ÿ</li>
                            <li>"æœºå™¨å­¦ä¹ ç®—æ³•" â†’ å‡ ä¸ªè¯ï¼Ÿ</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="flow-diagram">
                <h4 class="text-center mb-4" style="color: var(--primary-light);">ğŸ¨ æ–‡æœ¬é¢„å¤„ç†ï¼šä»æ··æ²Œåˆ°ç§©åº</h4>
                <div class="flow-container">
                    <div class="flow-step">
                        <span class="flow-step-icon">ğŸŒªï¸</span>
                        <div class="flow-step-title">åŸå§‹æ–‡æœ¬</div>
                        <div class="text-muted" style="font-size: 0.875rem;">
                            æ··ä¹±ã€å™ªå£°ã€ä¸è§„èŒƒ<br>
                            "NLPå¾ˆç‰›ğŸ‘ğŸ‘iphone12"
                        </div>
                    </div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-step">
                        <span class="flow-step-icon">ğŸ§¹</span>
                        <div class="flow-step-title">æ¸…æ´—</div>
                        <div class="text-muted" style="font-size: 0.875rem;">
                            å»å™ªã€è§„èŒƒåŒ–<br>
                            "nlpå¾ˆç‰›iphone12"
                        </div>
                    </div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-step">
                        <span class="flow-step-icon">âœ‚ï¸</span>
                        <div class="flow-step-title">åˆ†è¯</div>
                        <div class="text-muted" style="font-size: 0.875rem;">
                            åˆ‡åˆ†åŸºæœ¬å•å…ƒ<br>
                            ["nlp","å¾ˆ","ç‰›","iphone","12"]
                        </div>
                    </div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-step">
                        <span class="flow-step-icon">ğŸ·ï¸</span>
                        <div class="flow-step-title">æ ‡æ³¨</div>
                        <div class="text-muted" style="font-size: 0.875rem;">
                            è¯æ€§ã€å®ä½“è¯†åˆ«<br>
                            [åè¯,å‰¯è¯,å½¢å®¹è¯,åè¯,æ•°è¯]
                        </div>
                    </div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-step">
                        <span class="flow-step-icon">ğŸ“Š</span>
                        <div class="flow-step-title">ç»“æ„åŒ–æ•°æ®</div>
                        <div class="text-muted" style="font-size: 0.875rem;">
                            æœºå™¨å¯ç†è§£<br>
                            å‘é‡ã€ç‰¹å¾ã€æ ‡ç­¾
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- åˆ†è¯ï¼šåˆ‡åˆ†çš„è‰ºæœ¯ -->
        <section id="tokenization" class="section-card">
            <h2>âœ‚ï¸ åˆ†è¯ï¼šåˆ‡åˆ†çš„è‰ºæœ¯</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ‘½</span>
                <p><strong>å¤–æ˜Ÿäººå­¦ä¸­æ–‡çš„ç¬¬ä¸€å¤©</strong></p>
                <p class="mt-2">
                    æƒ³è±¡ä½ æ˜¯ä¸€ä¸ªå¤–æ˜Ÿè¯­è¨€å­¦å®¶ï¼Œç¬¬ä¸€æ¬¡æ¥è§¦åœ°çƒæ–‡å­—ã€‚ä½ çš„åŠ©æ‰‹ç»™ä½ çœ‹äº†ä¸¤æ®µæ–‡æœ¬ï¼š
                </p>
                <div class="card-grid mt-3">
                    <div class="demo-container">
                        <p style="font-weight: bold;">è‹±æ–‡ï¼š</p>
                        <p style="font-size: 1.2rem;">I love natural language processing</p>
                        <p class="text-muted mt-2">ç©ºæ ¼å¤©ç„¶åˆ†éš”ï¼Œ5ä¸ªè¯ä¸€ç›®äº†ç„¶</p>
                    </div>
                    <div class="demo-container">
                        <p style="font-weight: bold;">ä¸­æ–‡ï¼š</p>
                        <p style="font-size: 1.2rem;">æˆ‘çˆ±è‡ªç„¶è¯­è¨€å¤„ç†</p>
                        <p class="text-muted mt-2">æ²¡æœ‰åˆ†éš”ç¬¦ï¼Œè¿™æ˜¯1ä¸ªè¯è¿˜æ˜¯7ä¸ªè¯ï¼Ÿ</p>
                    </div>
                </div>
                <p class="mt-3 text-center" style="color: var(--primary-light); font-size: 1.1rem;">
                    æ¬¢è¿æ¥åˆ°åˆ†è¯çš„ä¸–ç•Œâ€”â€”ä¸€ä¸ªçœ‹ä¼¼ç®€å•å®åˆ™æ·±å¥¥çš„é¢†åŸŸï¼
                </p>
            </div>

            <h3>è‹±æ–‡åˆ†è¯ï¼šè§„åˆ™æ˜ç¡®çš„æ¸¸æˆ</h3>

            <div class="demo-container">
                <div class="mb-3">
                    <p class="mb-2"><strong>åŸæ–‡ï¼š</strong></p>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-lang">è‹±æ–‡æ–‡æœ¬</span>
                        </div>
                        <div class="code-content">
                            <pre>"Natural Language Processing is amazing! Let's learn NLP together."</pre>
                        </div>
                    </div>
                </div>

                <div>
                    <p class="mb-2"><strong>åˆ†è¯ç»“æœï¼š</strong></p>
                    <div>
                        <span class="token token-word">Natural</span>
                        <span class="token token-word">Language</span>
                        <span class="token token-word">Processing</span>
                        <span class="token token-word">is</span>
                        <span class="token token-word">amazing</span>
                        <span class="token" style="background: rgba(245, 158, 11, 0.2); border-color: var(--warning); color: var(--warning);">!</span>
                        <span class="token token-word">Let's</span>
                        <span class="token token-word">learn</span>
                        <span class="token token-word">NLP</span>
                        <span class="token token-word">together</span>
                        <span class="token" style="background: rgba(245, 158, 11, 0.2); border-color: var(--warning); color: var(--warning);">.</span>
                    </div>
                </div>

                <div class="tip info mt-3">
                    <span class="tip-icon">ğŸ’¡</span>
                    <strong>è‹±æ–‡åˆ†è¯è§„åˆ™ï¼š</strong>
                    <ul class="mt-2">
                        <li>ç©ºæ ¼æ˜¯å¤©ç„¶çš„åˆ†éš”ç¬¦</li>
                        <li>æ ‡ç‚¹ç¬¦å·éœ€è¦å•ç‹¬å¤„ç†</li>
                        <li>ç¼©å†™ï¼ˆå¦‚Let'sï¼‰éœ€è¦ç‰¹æ®Šè§„åˆ™</li>
                        <li>å¤§å°å†™å¯èƒ½å½±å“è¯­ä¹‰ï¼ˆApple vs appleï¼‰</li>
                    </ul>
                </div>
            </div>

            <h3 class="mt-4">ä¸­æ–‡åˆ†è¯ï¼šæ²¡æœ‰ç©ºæ ¼çš„å™©æ¢¦</h3>

            <div class="demo-container">
                <p class="mb-3"><strong>ä¸€ä¸ªç»å…¸çš„ä¾‹å­ï¼š</strong></p>
                <p style="font-size: 1.5rem; text-align: center; padding: 1.5rem; background: var(--bg-dark); border-radius: 0.5rem;">
                    "å—äº¬å¸‚é•¿æ±Ÿå¤§æ¡¥"
                </p>

                <div class="mt-4">
                    <p class="mb-3"><strong>å¯èƒ½çš„åˆ†è¯ç»“æœï¼š</strong></p>

                    <div class="mb-4">
                        <p style="color: var(--success); font-weight: 600;">âœ“ åœºæ™¯1ï¼šä»‹ç»æ™¯ç‚¹</p>
                        <div class="mb-2">
                            <span class="token token-word">å—äº¬å¸‚</span>
                            <span class="token token-word">é•¿æ±Ÿå¤§æ¡¥</span>
                        </div>
                        <p class="text-muted">â†’ å—äº¬å¸‚çš„é•¿æ±Ÿå¤§æ¡¥ï¼ˆä¸€åº§è‘—åçš„æ¡¥ï¼‰</p>
                    </div>

                    <div class="mb-4">
                        <p style="color: var(--danger); font-weight: 600;">âœ— åœºæ™¯2ï¼šæ–°é—»æ ‡é¢˜ï¼Ÿ</p>
                        <div class="mb-2">
                            <span class="token token-word">å—äº¬</span>
                            <span class="token token-word">å¸‚é•¿</span>
                            <span class="token token-word">æ±Ÿå¤§æ¡¥</span>
                        </div>
                        <p class="text-muted">â†’ å—äº¬çš„å¸‚é•¿å«æ±Ÿå¤§æ¡¥ï¼Ÿï¼ˆè¿™ä¼šæ˜¯ä¸ªå¤§æ–°é—»ï¼ï¼‰</p>
                    </div>

                    <div>
                        <p style="color: var(--warning); font-weight: 600;">? åœºæ™¯3ï¼šå¦ä¸€ç§å¯èƒ½</p>
                        <div class="mb-2">
                            <span class="token token-word">å—äº¬å¸‚é•¿</span>
                            <span class="token token-word">æ±Ÿ</span>
                            <span class="token token-word">å¤§æ¡¥</span>
                        </div>
                        <p class="text-muted">â†’ å—äº¬å¸‚é•¿ï¼ˆå«ï¼‰æ±Ÿï¼ˆçš„é‚£åº§ï¼‰å¤§æ¡¥ï¼Ÿ</p>
                    </div>
                </div>
            </div>

            <div class="tip warning mt-4">
                <span class="tip-icon">ğŸ¤¯</span>
                <strong>æ›´å¤šä»¤äººå¤´ç–¼çš„ä¾‹å­</strong>
                <div class="card-grid mt-3">
                    <div class="demo-container" style="padding: 1.5rem;">
                        <p style="font-weight: bold; color: var(--primary-light);">"ç»“å©šçš„å’Œå°šæœªç»“å©šçš„"</p>
                        <p style="font-size: 0.9rem;" class="mt-2">
                            A: ç»“å©šçš„ / å’Œ / å°šæœª / ç»“å©šçš„<br>
                            B: ç»“å©šçš„ / å’Œå°š / æœª / ç»“å©šçš„
                        </p>
                    </div>
                    <div class="demo-container" style="padding: 1.5rem;">
                        <p style="font-weight: bold; color: var(--primary-light);">"ä¹’ä¹“çƒæ‹å–å®Œäº†"</p>
                        <p style="font-size: 0.9rem;" class="mt-2">
                            A: ä¹’ä¹“çƒæ‹ / å– / å®Œäº†<br>
                            B: ä¹’ä¹“ / çƒæ‹å– / å®Œäº†
                        </p>
                    </div>
                </div>
                <p class="mt-3 text-center" style="color: var(--warning); font-size: 1.1rem;">
                    ğŸ’¡ åˆ†è¯çš„æ ¸å¿ƒæŒ‘æˆ˜ï¼šå¦‚ä½•è®©æœºå™¨é€‰æ‹©"æœ€åˆç†"çš„åˆ†è¯æ–¹æ¡ˆï¼Ÿ
                </p>
            </div>

            <h3 class="mt-4">åˆ†è¯äº’åŠ¨æ¼”ç¤º</h3>

            <div class="demo-container">
                <p class="mb-3"><strong>ğŸ§ª è¾“å…¥æ–‡æœ¬ï¼Œå®æ—¶æŸ¥çœ‹åˆ†è¯æ•ˆæœï¼š</strong></p>

                <textarea id="demo-input" class="demo-input" rows="3" placeholder="è¾“å…¥æ–‡æœ¬ï¼Œä¾‹å¦‚ï¼šæˆ‘çˆ±è‡ªç„¶è¯­è¨€å¤„ç†">æˆ‘çˆ±è‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯</textarea>

                <div class="flex gap-2">
                    <button class="demo-button" onclick="tokenizeDemo()">
                        å¼€å§‹åˆ†è¯
                    </button>
                    <button class="btn btn-secondary" onclick="clearDemo()">
                        æ¸…ç©º
                    </button>
                </div>

                <div id="demo-result" class="demo-result">
                    <p class="text-muted">åˆ†è¯ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</p>
                </div>
            </div>
        </section>

        <!-- åˆ†è¯çš„æ•°å­¦æœ¬è´¨ -->
        <section id="tokenization-math" class="section-card">
            <h2>ğŸ”¢ åˆ†è¯çš„æ•°å­¦æœ¬è´¨ï¼šä»ç›´è§‰åˆ°æ¦‚ç‡</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ²</span>
                <p><strong>èµŒåœºé‡Œçš„è¯­è¨€å­¦å®¶</strong></p>
                <p class="mt-2">
                    æƒ³è±¡ä½ åœ¨ä¸€ä¸ªç‰¹æ®Šçš„èµŒåœºï¼Œè¿™é‡Œçš„æ¸¸æˆæ˜¯"çŒœåˆ†è¯"ã€‚åº„å®¶ç»™ä½ ä¸€ä¸ªå¥å­ï¼Œä½ è¦çŒœæµ‹æ­£ç¡®çš„åˆ†è¯æ–¹å¼ã€‚
                </p>
                <p class="mt-2">
                    å¥å­ï¼š"ç‹¬ç«‹è‡ªä¸»å’Œå¹³ç­‰äº’åˆ©çš„åŸåˆ™"
                </p>
                <p class="mt-2">ä½ é¢å‰æœ‰å¤šä¸ªç­¹ç ï¼Œæ¯ä¸ªä»£è¡¨ä¸€ç§åˆ†è¯æ–¹æ¡ˆï¼š</p>
                <ul class="mt-2">
                    <li>æ–¹æ¡ˆAï¼šç‹¬ç«‹è‡ªä¸» / å’Œ / å¹³ç­‰äº’åˆ© / çš„ / åŸåˆ™ï¼ˆèµ”ç‡1:2ï¼‰</li>
                    <li>æ–¹æ¡ˆBï¼šç‹¬ç«‹ / è‡ªä¸» / å’Œå¹³ / ç­‰ / äº’åˆ© / çš„ / åŸåˆ™ï¼ˆèµ”ç‡1:1000ï¼‰</li>
                </ul>
                <p class="mt-3">
                    èµ”ç‡åæ˜ äº†æ¦‚ç‡â€”â€”<strong>æœ€å¯èƒ½çš„åˆ†è¯æ–¹æ¡ˆæœ‰æœ€ä½çš„èµ”ç‡</strong>ã€‚è¿™å°±æ˜¯åˆ†è¯ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³ï¼
                </p>
            </div>

            <div class="tip info">
                <span class="tip-icon">ğŸ¯</span>
                <strong>æ ¸å¿ƒæ´å¯Ÿï¼šåˆ†è¯æ˜¯ä¸€ä¸ªæ¦‚ç‡ä¼˜åŒ–é—®é¢˜</strong>
                <p class="mt-2">ç»™å®šå¥å­Sï¼Œæ‰¾åˆ°æ¦‚ç‡æœ€å¤§çš„åˆ†è¯åºåˆ—Wï¼š</p>
                <p class="text-center" style="font-size: 1.3rem; margin: 1.5rem 0;">
                    æœ€ä¼˜åˆ†è¯ = æ¦‚ç‡æœ€å¤§çš„åˆ†è¯æ–¹æ¡ˆ
                </p>
            </div>

            <div class="math-display">
                <h4 class="mb-3" style="color: var(--primary-light);">ğŸ“Š æ¦‚ç‡æ¨¡å‹çš„æ•°å­¦è¡¨è¾¾</h4>

                <div style="background: rgba(0, 0, 0, 0.2); padding: 2rem; border-radius: 0.5rem;">
                    <p class="mb-3"><strong>ç›®æ ‡ï¼š</strong>ç»™å®šå¥å­S = "å—äº¬å¸‚é•¿æ±Ÿå¤§æ¡¥"ï¼Œæ‰¾åˆ°æœ€ä¼˜åˆ†è¯W*</p>

                    <div class="math-formula">
                        W* = argmax<sub>W</sub> P(W|S)
                    </div>
                    <p class="text-muted text-center">ï¼ˆåœ¨æ‰€æœ‰å¯èƒ½çš„åˆ†è¯Wä¸­ï¼Œæ‰¾åˆ°ç»™å®šSæ—¶æ¦‚ç‡æœ€å¤§çš„ï¼‰</p>

                    <div class="mt-4">
                        <p class="mb-2"><strong>è´å¶æ–¯å˜æ¢ï¼š</strong></p>
                        <div class="math-formula">
                            P(W|S) = P(S|W) Ã— P(W) / P(S)
                        </div>
                    </div>

                    <div class="tip success mt-4">
                        <span class="tip-icon">âœ¨</span>
                        <strong>å…³é”®ç®€åŒ–ï¼š</strong>
                        <ul class="mt-2">
                            <li>P(S|W) = 1ï¼ˆç»™å®šåˆ†è¯åï¼Œå¥å­æ˜¯ç¡®å®šçš„ï¼‰</li>
                            <li>P(S)æ˜¯å¸¸æ•°ï¼ˆå¯¹æ‰€æœ‰åˆ†è¯æ–¹æ¡ˆéƒ½ä¸€æ ·ï¼‰</li>
                            <li>å› æ­¤ï¼š<strong>W* = argmax<sub>W</sub> P(W)</strong></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="algorithm-steps">
                <h4 class="mb-4" style="color: var(--primary-light);">ğŸ² ç”¨æ¦‚ç‡é€‰æ‹©æœ€ä½³åˆ†è¯</h4>

                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h5>ç»Ÿè®¡è¯é¢‘ï¼Œè®¡ç®—æ¦‚ç‡</h5>
                        <p>ä»æµ·é‡æ–‡æœ¬ä¸­å­¦ä¹ æ¯ä¸ªè¯å‡ºç°çš„æ¦‚ç‡</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">è¯é¢‘ç»Ÿè®¡ç¤ºä¾‹</span>
                            </div>
                            <div class="code-content">
                                <pre>è¯­æ–™åº“ç»Ÿè®¡ï¼ˆ1äº¿è¯ï¼‰ï¼š
"å—äº¬å¸‚"å‡ºç°12000æ¬¡ â†’ P("å—äº¬å¸‚") = 0.00012
"é•¿æ±Ÿå¤§æ¡¥"å‡ºç°2000æ¬¡ â†’ P("é•¿æ±Ÿå¤§æ¡¥") = 0.00002
"å¸‚é•¿"å‡ºç°10000æ¬¡ â†’ P("å¸‚é•¿") = 0.0001
"æ±Ÿå¤§æ¡¥"å‡ºç°1æ¬¡ â†’ P("æ±Ÿå¤§æ¡¥") = 0.00000001</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h5>åˆ—ä¸¾æ‰€æœ‰å¯èƒ½çš„åˆ†è¯</h5>
                        <p>åƒæšä¸¾å¯†ç ç»„åˆä¸€æ ·ï¼Œåˆ—å‡ºæ‰€æœ‰å¯èƒ½</p>
                        <div class="card-grid mt-3">
                            <div class="demo-container" style="padding: 1rem;">
                                <p style="font-size: 0.9rem;">æ–¹æ¡ˆ1ï¼šå—äº¬å¸‚/é•¿æ±Ÿå¤§æ¡¥</p>
                                <p style="font-size: 0.9rem;">æ–¹æ¡ˆ2ï¼šå—äº¬/å¸‚é•¿/æ±Ÿå¤§æ¡¥</p>
                                <p style="font-size: 0.9rem;">æ–¹æ¡ˆ3ï¼šå—äº¬å¸‚/é•¿æ±Ÿ/å¤§æ¡¥</p>
                            </div>
                            <div class="demo-container" style="padding: 1rem;">
                                <p style="font-size: 0.9rem;">æ–¹æ¡ˆ4ï¼šå—/äº¬å¸‚/é•¿æ±Ÿå¤§æ¡¥</p>
                                <p style="font-size: 0.9rem;">æ–¹æ¡ˆ5ï¼šå—äº¬å¸‚é•¿/æ±Ÿ/å¤§æ¡¥</p>
                                <p style="font-size: 0.9rem;">...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h5>è®¡ç®—æ¯ç§åˆ†è¯çš„è”åˆæ¦‚ç‡</h5>
                        <p>å‡è®¾è¯ä¹‹é—´ç‹¬ç«‹ï¼Œæ¦‚ç‡ç›¸ä¹˜</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">æ¦‚ç‡è®¡ç®—</span>
                            </div>
                            <div class="code-content">
                                <pre>P(æ–¹æ¡ˆ1) = P(å—äº¬å¸‚) Ã— P(é•¿æ±Ÿå¤§æ¡¥)
         = 0.00012 Ã— 0.00002 = 2.4Ã—10â»â¹ <span class="comment">âœ… æœ€å¤§ï¼</span>

P(æ–¹æ¡ˆ2) = P(å—äº¬) Ã— P(å¸‚é•¿) Ã— P(æ±Ÿå¤§æ¡¥)
         = 0.0001 Ã— 0.0001 Ã— 0.00000001 = 1Ã—10â»Â¹Â³</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h5>é€‰æ‹©æ¦‚ç‡æœ€å¤§çš„æ–¹æ¡ˆ</h5>
                        <p style="color: var(--success); font-size: 1.1rem;">âœ“ è·èƒœè€…ï¼š"å—äº¬å¸‚ / é•¿æ±Ÿå¤§æ¡¥"</p>
                        <p class="mt-2 text-muted">
                            è¿™ç¬¦åˆæˆ‘ä»¬çš„ç›´è§‰â€”â€”å¸¸è§çš„è¯ç»„åˆæ¯”ç½•è§çš„ç»„åˆæ›´å¯èƒ½æ˜¯æ­£ç¡®ç­”æ¡ˆï¼
                        </p>
                    </div>
                </div>
            </div>

            <div class="tip danger mt-4">
                <span class="tip-icon">ğŸ’¡</span>
                <strong>æ•ˆç‡é—®é¢˜ï¼šæŒ‡æ•°çˆ†ç‚¸çš„å™©æ¢¦</strong>
                <p class="mt-2">ç­‰ç­‰ï¼å¦‚æœå¥å­æœ‰nä¸ªå­—ç¬¦ï¼Œç†è®ºä¸Šæœ‰2<sup>n-1</sup>ç§åˆ†è¯æ–¹å¼ï¼</p>

                <div class="visualization mt-3">
                    <div class="matrix-grid" style="grid-template-columns: repeat(3, 1fr);">
                        <div class="matrix-cell">10ä¸ªå­—</div>
                        <div class="matrix-cell">â†’</div>
                        <div class="matrix-cell">512ç§åˆ†è¯</div>
                        <div class="matrix-cell">20ä¸ªå­—</div>
                        <div class="matrix-cell">â†’</div>
                        <div class="matrix-cell">524,288ç§åˆ†è¯</div>
                        <div class="matrix-cell">30ä¸ªå­—</div>
                        <div class="matrix-cell">â†’</div>
                        <div class="matrix-cell" style="color: var(--danger);">536,870,912ç§åˆ†è¯ ğŸ˜±</div>
                    </div>
                </div>

                <div class="mt-4">
                    <h4 style="color: var(--primary-light);">ğŸš€ è§£å†³æ–¹æ¡ˆï¼šåŠ¨æ€è§„åˆ’ï¼ˆViterbiç®—æ³•ï¼‰</h4>
                    <p class="mt-2">æ ¸å¿ƒæ€æƒ³ï¼šæœ€ä¼˜è·¯å¾„çš„å­è·¯å¾„ä¹Ÿæ˜¯æœ€ä¼˜çš„</p>

                    <div class="code-block mt-3">
                        <div class="code-header">
                            <span class="code-lang">åŠ¨æ€è§„åˆ’å…¬å¼</span>
                        </div>
                        <div class="code-content">
                            <pre>dp[i] = max{ dp[j] Ã— P(word[j:i]) } for all valid j < i</pre>
                        </div>
                    </div>
                    <p class="mt-2 text-center">
                        æ—¶é—´å¤æ‚åº¦ï¼šä»O(2<sup>n</sup>) é™åˆ° O(nÂ²Ã—m)ï¼Œå…¶ä¸­mæ˜¯è¯å…¸å¤§å°
                    </p>
                </div>
            </div>

            <div class="visualization mt-4">
                <h4 class="text-center mb-3" style="color: var(--primary-light);">ğŸ¯ åŠ¨æ€è§„åˆ’å¯è§†åŒ–</h4>

                <p class="text-center mb-3">å¥å­ï¼š"æˆ‘çˆ±åŒ—äº¬å¤©å®‰é—¨"</p>

                <div class="text-center">
                    <svg width="600" height="300" viewBox="0 0 600 300" style="max-width: 100%;">
                        <!-- èŠ‚ç‚¹ -->
                        <circle cx="50" cy="150" r="20" fill="#3b82f6" />
                        <text x="50" y="155" text-anchor="middle" fill="white" font-size="12">å§‹</text>

                        <circle cx="150" cy="80" r="20" fill="#8b5cf6" />
                        <text x="150" y="85" text-anchor="middle" fill="white" font-size="12">æˆ‘</text>

                        <circle cx="250" cy="80" r="20" fill="#8b5cf6" />
                        <text x="250" y="85" text-anchor="middle" fill="white" font-size="12">çˆ±</text>

                        <circle cx="350" cy="80" r="20" fill="#8b5cf6" />
                        <text x="350" y="85" text-anchor="middle" fill="white" font-size="12">åŒ—äº¬</text>

                        <circle cx="450" cy="80" r="20" fill="#8b5cf6" />
                        <text x="450" y="85" text-anchor="middle" fill="white" font-size="12">å¤©å®‰é—¨</text>

                        <circle cx="550" cy="150" r="20" fill="#22c55e" />
                        <text x="550" y="155" text-anchor="middle" fill="white" font-size="12">ç»ˆ</text>

                        <!-- å…¶ä»–å¯èƒ½çš„èŠ‚ç‚¹ -->
                        <circle cx="250" cy="220" r="20" fill="#ef4444" opacity="0.5" />
                        <text x="250" y="225" text-anchor="middle" fill="white" font-size="12">çˆ±åŒ—</text>

                        <circle cx="350" cy="220" r="20" fill="#ef4444" opacity="0.5" />
                        <text x="350" y="225" text-anchor="middle" fill="white" font-size="12">äº¬å¤©</text>

                        <!-- æœ€ä¼˜è·¯å¾„ï¼ˆå®çº¿ï¼‰ -->
                        <path d="M 70 150 L 130 80" stroke="#22c55e" stroke-width="3" fill="none" />
                        <path d="M 170 80 L 230 80" stroke="#22c55e" stroke-width="3" fill="none" />
                        <path d="M 270 80 L 330 80" stroke="#22c55e" stroke-width="3" fill="none" />
                        <path d="M 370 80 L 430 80" stroke="#22c55e" stroke-width="3" fill="none" />
                        <path d="M 470 80 L 530 150" stroke="#22c55e" stroke-width="3" fill="none" />

                        <!-- å…¶ä»–è·¯å¾„ï¼ˆè™šçº¿ï¼‰ -->
                        <path d="M 170 80 L 230 220" stroke="#ef4444" stroke-width="1" fill="none" stroke-dasharray="5,5" opacity="0.5" />
                        <path d="M 270 220 L 330 220" stroke="#ef4444" stroke-width="1" fill="none" stroke-dasharray="5,5" opacity="0.5" />

                        <!-- æ¦‚ç‡æ ‡æ³¨ -->
                        <text x="100" y="110" font-size="10" fill="#cbd5e1">0.8</text>
                        <text x="200" y="70" font-size="10" fill="#cbd5e1">0.9</text>
                        <text x="300" y="70" font-size="10" fill="#cbd5e1">0.95</text>
                        <text x="400" y="70" font-size="10" fill="#cbd5e1">0.98</text>
                        <text x="500" y="110" font-size="10" fill="#cbd5e1">1.0</text>
                    </svg>
                </div>

                <p class="mt-3 text-center text-muted">
                    ç»¿è‰²è·¯å¾„ï¼šæœ€ä¼˜åˆ†è¯è·¯å¾„ï¼ˆæ¦‚ç‡æœ€å¤§ï¼‰<br>
                    çº¢è‰²è·¯å¾„ï¼šå…¶ä»–å¯èƒ½ä½†æ¦‚ç‡è¾ƒä½çš„è·¯å¾„
                </p>
            </div>
        </section>

        <!-- ä¸­æ–‡åˆ†è¯æŒ‘æˆ˜ -->
        <section id="chinese-challenges" class="section-card">
            <h2>ğŸ€„ ä¸­æ–‡åˆ†è¯ï¼šç†æƒ³ä¸ç°å®çš„å·®è·</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ¥</span>
                <p><strong>ä¸€ä¸ªåŒ»ç–—AIçš„å›°å¢ƒ</strong></p>
                <p class="mt-2">
                    2020å¹´ï¼ŒæŸåŒ»é™¢éƒ¨ç½²äº†ä¸€ä¸ªåŒ»ç–—é—®ç­”AIã€‚ä¸Šçº¿ç¬¬ä¸€å¤©å°±é—¹äº†ç¬‘è¯ï¼š
                </p>
                <div class="code-block mt-3">
                    <div class="code-header">
                        <span class="code-lang">å¯¹è¯è®°å½•</span>
                    </div>
                    <div class="code-content">
                        <pre>æ‚£è€…ï¼š"æˆ‘æœ€è¿‘æ€»æ˜¯å¤±çœ å¤šæ¢¦æ€ä¹ˆåŠï¼Ÿ"
AIåˆ†è¯ï¼šå¤±çœ  / å¤š / æ¢¦ / æ€ä¹ˆåŠ
AIå›å¤ï¼š"æ‚¨å¥½ï¼Œå…³äºå¤šä¸ªæ¢¦çš„é—®é¢˜..."</pre>
                    </div>
                </div>
                <p class="mt-3">
                    é—®é¢˜å‡ºåœ¨å“ªï¼ŸAIä¸è®¤è¯†"å¤šæ¢¦"è¿™ä¸ªåŒ»å­¦æœ¯è¯­ï¼ŒæŠŠå®ƒæ‹†æˆäº†"å¤š"å’Œ"æ¢¦"ã€‚
                </p>
                <p class="mt-2 text-center" style="color: var(--warning); font-size: 1.1rem;">
                    è¿™æ­ç¤ºäº†ä¸­æ–‡åˆ†è¯çš„æ ¸å¿ƒæŒ‘æˆ˜ï¼š<strong>é¢†åŸŸæ–°è¯å±‚å‡ºä¸ç©·ï¼</strong>
                </p>
            </div>

            <div class="comparison-table">
                <table>
                    <thead>
                    <tr>
                        <th>æŒ‘æˆ˜ç±»å‹</th>
                        <th>å®é™…ä¾‹å­</th>
                        <th>ä¸ºä»€ä¹ˆå›°éš¾</th>
                        <th>è§£å†³æ€è·¯</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td><strong>æ­§ä¹‰åˆ‡åˆ†</strong></td>
                        <td>
                            "ç ”ç©¶ç”Ÿå‘½èµ·æº"<br>
                            â†’ ç ”ç©¶/ç”Ÿå‘½/èµ·æº âœ“<br>
                            â†’ ç ”ç©¶ç”Ÿ/å‘½/èµ·æº âœ—
                        </td>
                        <td>åŒæ ·çš„å­—ç¬¦ä¸²æœ‰å¤šç§åˆç†åˆ‡åˆ†</td>
                        <td>ç»“åˆä¸Šä¸‹æ–‡ï¼Œä½¿ç”¨N-gramæ¨¡å‹</td>
                    </tr>
                    <tr>
                        <td><strong>æœªç™»å½•è¯</strong></td>
                        <td>
                            æ–°è¯ï¼šå…ƒå®‡å®™ã€å†…å·ã€èººå¹³<br>
                            äººåï¼šæ˜“çƒŠåƒçºã€æ¬§é˜³å¨œå¨œ<br>
                            å“ç‰Œï¼šè”šæ¥ã€ç†æƒ³ã€å°é¹
                        </td>
                        <td>è¯å…¸æ°¸è¿œè·Ÿä¸ä¸Šè¯­è¨€å‘å±•</td>
                        <td>æ–°è¯å‘ç°ç®—æ³•ã€åœ¨çº¿å­¦ä¹ </td>
                    </tr>
                    <tr>
                        <td><strong>è¯­è¨€æ··æ‚</strong></td>
                        <td>
                            "ç”¨Pythonå†™NLPå¾ˆcool"<br>
                            "ä¹°äº†3ä¸ªN95å£ç½©"<br>
                            "Bç«™UPä¸»"
                        </td>
                        <td>ä¸­è‹±æ–‡ã€æ•°å­—æ··åˆï¼Œè¾¹ç•Œæ¨¡ç³Š</td>
                        <td>å¤šè¯­è¨€ç»Ÿä¸€å»ºæ¨¡</td>
                    </tr>
                    <tr>
                        <td><strong>é¢†åŸŸç‰¹æ®Šæ€§</strong></td>
                        <td>
                            åŒ»å­¦ï¼šç”²çŠ¶è…ºåŠŸèƒ½äº¢è¿›ç—‡<br>
                            é‡‘èï¼šè‚¡æƒæ¿€åŠ±è®¡åˆ’<br>
                            æ³•å¾‹ï¼šä¸å½“å¾—åˆ©è¿”è¿˜è¯·æ±‚æƒ
                        </td>
                        <td>ä¸“ä¸šæœ¯è¯­é•¿ã€ç»“æ„å¤æ‚</td>
                        <td>é¢†åŸŸè¯å…¸ã€è¿ç§»å­¦ä¹ </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <h3 class="mt-4">ä¸»æµåˆ†è¯å·¥å…·å®æˆ˜å¯¹æ¯”</h3>

            <div class="code-block">
                <div class="code-header">
                    <span class="code-lang">Python - åˆ†è¯å·¥å…·å¯¹æ¯”</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="toggleCode(this)">å±•å¼€</button>
                        <button class="code-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                    </div>
                </div>
                <div class="code-content collapsed">
                    <pre><span class="comment"># æµ‹è¯•ä¸åŒåˆ†è¯å·¥å…·çš„æ•ˆæœ</span>
<span class="keyword">import</span> jieba
<span class="keyword">import</span> pkuseg
<span class="keyword">import</span> thulac

<span class="comment"># æµ‹è¯•æ–‡æœ¬ï¼šåŒ…å«æ­§ä¹‰ã€æ–°è¯ã€ä¸“ä¸šæœ¯è¯­</span>
test_cases = [
    <span class="string">"å—äº¬å¸‚é•¿æ±Ÿå¤§æ¡¥"</span>,
    <span class="string">"æˆ‘ä»¬åœ¨Bç«™å­¦ä¹ è‡ªç„¶è¯­è¨€å¤„ç†"</span>,
    <span class="string">"å°æ˜ç¡•å£«æ¯•ä¸šäºå—äº¬å¤§å­¦"</span>,
    <span class="string">"è”šæ¥ES8æ˜¯ä¸€æ¬¾æ–°èƒ½æºSUV"</span>,
    <span class="string">"ç¡®è¯Šç”²çŠ¶è…ºåŠŸèƒ½äº¢è¿›ç—‡"</span>
]

<span class="comment"># jiebaåˆ†è¯ï¼ˆåŸºäºå‰ç¼€è¯å…¸+HMMï¼‰</span>
print(<span class="string">"=== jiebaåˆ†è¯ ==="</span>)
<span class="keyword">for</span> text <span class="keyword">in</span> test_cases:
    result = jieba.lcut(text)
    print(<span class="string">f"{text} â†’ {'/'.join(result)}"</span>)

<span class="comment"># æ·»åŠ è‡ªå®šä¹‰è¯å…¸</span>
jieba.add_word(<span class="string">'è”šæ¥ES8'</span>, freq=<span class="number">10000</span>)
jieba.add_word(<span class="string">'ç”²çŠ¶è…ºåŠŸèƒ½äº¢è¿›ç—‡'</span>, freq=<span class="number">10000</span>)

print(<span class="string">"\n=== jiebaåˆ†è¯ï¼ˆæ·»åŠ è¯å…¸åï¼‰==="</span>)
<span class="keyword">for</span> text <span class="keyword">in</span> test_cases:
    result = jieba.lcut(text)
    print(<span class="string">f"{text} â†’ {'/'.join(result)}"</span>)

<span class="comment"># pkusegï¼ˆåŒ—å¤§ï¼ŒåŸºäºCRFï¼‰</span>
print(<span class="string">"\n=== pkusegåˆ†è¯ ==="</span>)
seg = pkuseg.pkuseg()
<span class="keyword">for</span> text <span class="keyword">in</span> test_cases:
    result = seg.cut(text)
    print(<span class="string">f"{text} â†’ {'/'.join(result)}"</span>)

<span class="comment"># ä½¿ç”¨é¢†åŸŸæ¨¡å‹</span>
print(<span class="string">"\n=== pkusegåŒ»å­¦é¢†åŸŸåˆ†è¯ ==="</span>)
seg_med = pkuseg.pkuseg(model_name=<span class="string">'medicine'</span>)
result = seg_med.cut(<span class="string">"ç¡®è¯Šç”²çŠ¶è…ºåŠŸèƒ½äº¢è¿›ç—‡"</span>)
print(<span class="string">f"ç¡®è¯Šç”²çŠ¶è…ºåŠŸèƒ½äº¢è¿›ç—‡ â†’ {'/'.join(result)}"</span>)

<span class="comment">"""
è¾“å‡ºå¯¹æ¯”ï¼š
=== jiebaåˆ†è¯ ===
å—äº¬å¸‚é•¿æ±Ÿå¤§æ¡¥ â†’ å—äº¬å¸‚/é•¿æ±Ÿå¤§æ¡¥
æˆ‘ä»¬åœ¨Bç«™å­¦ä¹ è‡ªç„¶è¯­è¨€å¤„ç† â†’ æˆ‘ä»¬/åœ¨/B/ç«™/å­¦ä¹ /è‡ªç„¶è¯­è¨€/å¤„ç†
å°æ˜ç¡•å£«æ¯•ä¸šäºå—äº¬å¤§å­¦ â†’ å°æ˜/ç¡•å£«/æ¯•ä¸š/äº/å—äº¬å¤§å­¦
è”šæ¥ES8æ˜¯ä¸€æ¬¾æ–°èƒ½æºSUV â†’ è”š/æ¥/ES8/æ˜¯/ä¸€æ¬¾/æ–°èƒ½æº/SUV
ç¡®è¯Šç”²çŠ¶è…ºåŠŸèƒ½äº¢è¿›ç—‡ â†’ ç¡®è¯Š/ç”²çŠ¶è…º/åŠŸèƒ½/äº¢è¿›/ç—‡

=== jiebaåˆ†è¯ï¼ˆæ·»åŠ è¯å…¸åï¼‰===
è”šæ¥ES8æ˜¯ä¸€æ¬¾æ–°èƒ½æºSUV â†’ è”šæ¥ES8/æ˜¯/ä¸€æ¬¾/æ–°èƒ½æº/SUV
ç¡®è¯Šç”²çŠ¶è…ºåŠŸèƒ½äº¢è¿›ç—‡ â†’ ç¡®è¯Š/ç”²çŠ¶è…ºåŠŸèƒ½äº¢è¿›ç—‡
"""</span></pre>
                </div>
            </div>

            <div class="tip info mt-4">
                <span class="tip-icon">ğŸš€</span>
                <strong>åˆ†è¯æŠ€æœ¯çš„æ¼”è¿›</strong>
                <div class="flow-container mt-3" style="justify-content: space-between;">
                    <div class="flow-step" style="flex: 1;">
                        <span class="flow-step-icon">ğŸ“</span>
                        <h5 style="color: var(--info);">ç¬¬ä¸€ä»£ï¼šè§„åˆ™åŒ¹é…</h5>
                        <ul style="font-size: 0.875rem; text-align: left;">
                            <li>æœ€å¤§åŒ¹é…æ³•</li>
                            <li>è¯å…¸+è§„åˆ™</li>
                            <li>é€Ÿåº¦å¿«ä½†å‡†ç¡®ç‡ä½</li>
                        </ul>
                    </div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-step" style="flex: 1;">
                        <span class="flow-step-icon">ğŸ“Š</span>
                        <h5 style="color: var(--primary);">ç¬¬äºŒä»£ï¼šç»Ÿè®¡æ¨¡å‹</h5>
                        <ul style="font-size: 0.875rem; text-align: left;">
                            <li>HMMã€CRF</li>
                            <li>æ¦‚ç‡å»ºæ¨¡</li>
                            <li>å‡†ç¡®ç‡æå‡æ˜æ˜¾</li>
                        </ul>
                    </div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-step" style="flex: 1;">
                        <span class="flow-step-icon">ğŸ§ </span>
                        <h5 style="color: var(--success);">ç¬¬ä¸‰ä»£ï¼šæ·±åº¦å­¦ä¹ </h5>
                        <ul style="font-size: 0.875rem; text-align: left;">
                            <li>BERTã€RoBERTa</li>
                            <li>ç«¯åˆ°ç«¯å­¦ä¹ </li>
                            <li>æ¥è¿‘äººç±»æ°´å¹³</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- è¯æ€§æ ‡æ³¨ -->
        <section id="pos-tagging" class="section-card">
            <h2>ğŸ·ï¸ è¯æ€§æ ‡æ³¨ï¼šç†è§£è¯çš„è§’è‰²</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ­</span>
                <p><strong>èå£«æ¯”äºšçš„å›°æƒ‘</strong></p>
                <p class="mt-2">
                    å¦‚æœèå£«æ¯”äºšæ´»åœ¨ä»Šå¤©ï¼Œä»–å¯èƒ½ä¼šå¯¹ä¸­æ–‡æ„Ÿåˆ°å›°æƒ‘ï¼š
                </p>
                <div class="card-grid mt-3">
                    <div class="demo-container">
                        <p style="font-weight: bold;">å¥å­1ï¼š</p>
                        <p style="font-size: 1.1rem;">"ç ”ç©¶è¡¨æ˜è¿™ä¸ªæ–¹æ³•æœ‰æ•ˆ"</p>
                        <p style="color: var(--warning); margin-top: 0.5rem;">ç ”ç©¶ = åè¯ï¼ˆä¸»è¯­ï¼‰</p>
                    </div>
                    <div class="demo-container">
                        <p style="font-weight: bold;">å¥å­2ï¼š</p>
                        <p style="font-size: 1.1rem;">"æˆ‘ä»¬ç ”ç©¶è¿™ä¸ªé—®é¢˜"</p>
                        <p style="color: var(--success); margin-top: 0.5rem;">ç ”ç©¶ = åŠ¨è¯ï¼ˆè°“è¯­ï¼‰</p>
                    </div>
                </div>
                <p class="mt-3 text-center">
                    åŒä¸€ä¸ªè¯ï¼Œä¸åŒçš„è§’è‰²â€”â€”è¿™å°±æ˜¯è¯æ€§æ ‡æ³¨è¦è§£å†³çš„é—®é¢˜ï¼
                </p>
            </div>

            <div class="demo-container">
                <h3 class="text-center mb-3" style="color: var(--primary-light);">è¯æ€§æ ‡æ³¨ç¤ºä¾‹</h3>

                <div class="text-center" style="font-size: 1.3rem; line-height: 3;">
                    <span class="token token-pos">
                        <span class="pos-label" style="background: var(--info);">ä»£è¯</span>
                        æˆ‘ä»¬
                    </span>
                    <span class="token token-pos">
                        <span class="pos-label" style="background: var(--danger);">åŠ¨è¯</span>
                        ä½¿ç”¨
                    </span>
                    <span class="token token-pos">
                        <span class="pos-label" style="background: var(--warning);">åè¯</span>
                        æ·±åº¦å­¦ä¹ 
                    </span>
                    <span class="token token-pos">
                        <span class="pos-label" style="background: var(--danger);">åŠ¨è¯</span>
                        è§£å†³
                    </span>
                    <span class="token token-pos">
                        <span class="pos-label" style="background: var(--success);">å½¢å®¹è¯</span>
                        å¤æ‚çš„
                    </span>
                    <span class="token token-pos">
                        <span class="pos-label" style="background: var(--warning);">åè¯</span>
                        é—®é¢˜
                    </span>
                </div>

                <p class="mt-4 text-center" style="color: var(--primary-light);">
                    è¯æ€§æ ‡æ³¨è®©æœºå™¨ç†è§£å¥å­çš„è¯­æ³•ç»“æ„ï¼Œè¿™æ˜¯æ·±å±‚ç†è§£çš„åŸºç¡€ï¼
                </p>
            </div>

            <div class="math-display">
                <h3 class="mb-3" style="color: var(--primary-light);">ğŸ§® è¯æ€§æ ‡æ³¨çš„æ•°å­¦æ¨¡å‹ï¼šéšé©¬å°”å¯å¤«æ¨¡å‹ï¼ˆHMMï¼‰</h3>

                <p>è¯æ€§æ ‡æ³¨å¯ä»¥çœ‹ä½œä¸€ä¸ªåºåˆ—æ ‡æ³¨é—®é¢˜ï¼š</p>

                <div class="mt-3 mb-3">
                    <p class="math-formula">ç»™å®šè¯åºåˆ— W = wâ‚, wâ‚‚, ..., wâ‚™</p>
                    <p class="math-formula">æ‰¾åˆ°è¯æ€§åºåˆ— T = tâ‚, tâ‚‚, ..., tâ‚™</p>
                    <p class="math-formula" style="font-size: 1.5rem; color: var(--warning);">
                        T* = argmax<sub>T</sub> P(T|W)
                    </p>
                </div>

                <div class="card-grid mt-4">
                    <div class="info-card">
                        <span class="card-icon">ğŸ”„</span>
                        <h4 style="color: var(--success);">è½¬ç§»æ¦‚ç‡</h4>
                        <p class="math-formula">P(t<sub>i</sub>|t<sub>i-1</sub>)</p>
                        <p class="mt-2">æŸä¸ªè¯æ€§åé¢è·Ÿå¦ä¸€ä¸ªè¯æ€§çš„æ¦‚ç‡</p>
                        <div class="demo-container mt-3" style="padding: 1rem;">
                            <p style="font-size: 0.875rem;">
                                P(åŠ¨è¯|åè¯) = 0.4<br>
                                P(åè¯|å½¢å®¹è¯) = 0.7<br>
                                P(åŠ¨è¯|åŠ¨è¯) = 0.1
                            </p>
                        </div>
                    </div>

                    <div class="info-card">
                        <span class="card-icon">ğŸ“¡</span>
                        <h4 style="color: var(--secondary);">å‘å°„æ¦‚ç‡</h4>
                        <p class="math-formula">P(w<sub>i</sub>|t<sub>i</sub>)</p>
                        <p class="mt-2">æŸä¸ªè¯æ€§äº§ç”ŸæŸä¸ªè¯çš„æ¦‚ç‡</p>
                        <div class="demo-container mt-3" style="padding: 1rem;">
                            <p style="font-size: 0.875rem;">
                                P("ç ”ç©¶"|åŠ¨è¯) = 0.01<br>
                                P("ç ”ç©¶"|åè¯) = 0.005<br>
                                P("çš„"|åŠ©è¯) = 0.9
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">Python - è¯æ€§æ ‡æ³¨å®æˆ˜</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="toggleCode(this)">å±•å¼€</button>
                        <button class="code-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                    </div>
                </div>
                <div class="code-content collapsed">
                    <pre><span class="comment"># è¯æ€§æ ‡æ³¨å®æˆ˜</span>
<span class="keyword">import</span> jieba.posseg <span class="keyword">as</span> pseg

<span class="comment"># æµ‹è¯•å¥å­</span>
sentences = [
    <span class="string">"ç ”ç©¶è¡¨æ˜è¿™ä¸ªæ–¹æ³•æœ‰æ•ˆ"</span>,
    <span class="string">"æˆ‘ä»¬ç ”ç©¶è¿™ä¸ªé—®é¢˜"</span>,
    <span class="string">"è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„ç ”ç©¶"</span>,
    <span class="string">"è‹¹æœå…¬å¸å‘å¸ƒäº†æ–°äº§å“"</span>,
    <span class="string">"æˆ‘å–œæ¬¢åƒè‹¹æœ"</span>
]

print(<span class="string">"=== è¯æ€§æ ‡æ³¨ç»“æœ ==="</span>)
<span class="keyword">for</span> sent <span class="keyword">in</span> sentences:
    words_pos = pseg.cut(sent)
    result = []
    <span class="keyword">for</span> word, pos <span class="keyword">in</span> words_pos:
        result.append(<span class="string">f"{word}/{pos}"</span>)
        <span class="comment"># ç‰¹åˆ«æ ‡æ³¨åŒå½¢å¼‚ä¹‰è¯</span>
        <span class="keyword">if</span> word == <span class="string">"ç ”ç©¶"</span>:
            print(<span class="string">f"  '{word}' â†’ {pos} ({'åè¯' if pos.startswith('n') else 'åŠ¨è¯'})"</span>)
        <span class="keyword">elif</span> word == <span class="string">"è‹¹æœ"</span>:
            print(<span class="string">f"  '{word}' â†’ {pos} ({'å…¬å¸' if 'å…¬å¸' in sent else 'æ°´æœ'})"</span>)
    print(<span class="string">f"{sent}"</span>)
    print(<span class="string">f"â†’ {' '.join(result)}"</span>)
    print()

<span class="comment"># è¯æ€§æ ‡æ³¨åœ¨ä¸‹æ¸¸ä»»åŠ¡ä¸­çš„åº”ç”¨</span>
<span class="keyword">def</span> <span class="function">extract_verb_noun_pairs</span>(sentence):
    <span class="string">"""æå–åŠ¨å®¾ç»“æ„"""</span>
    words_pos = list(pseg.cut(sentence))
    pairs = []

    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(words_pos) - <span class="number">1</span>):
        word1, pos1 = words_pos[i]
        word2, pos2 = words_pos[i + <span class="number">1</span>]

        <span class="comment"># åŠ¨è¯ + åè¯ = åŠ¨å®¾ç»“æ„</span>
        <span class="keyword">if</span> pos1.startswith(<span class="string">'v'</span>) <span class="keyword">and</span> pos2.startswith(<span class="string">'n'</span>):
            pairs.append((word1, word2))

    <span class="keyword">return</span> pairs

<span class="comment"># æµ‹è¯•åŠ¨å®¾æå–</span>
test_sents = [
    <span class="string">"æˆ‘ä»¬åˆ†ææ•°æ®å‘ç°é—®é¢˜"</span>,
    <span class="string">"ç ”ç©¶äººå‘˜å¼€å‘ç®—æ³•è§£å†³éš¾é¢˜"</span>,
    <span class="string">"ç”¨æˆ·ä½¿ç”¨è½¯ä»¶å¤„ç†æ–‡æ¡£"</span>
]

print(<span class="string">"\n=== åŠ¨å®¾ç»“æ„æå– ==="</span>)
<span class="keyword">for</span> sent <span class="keyword">in</span> test_sents:
    pairs = extract_verb_noun_pairs(sent)
    print(<span class="string">f"{sent}"</span>)
    print(<span class="string">f"åŠ¨å®¾ç»“æ„ï¼š{pairs}"</span>)
    print()</pre>
                </div>
            </div>
        </section>

        <!-- å‘½åå®ä½“è¯†åˆ« -->
        <section id="ner" class="section-card">
            <h2>ğŸ¯ å‘½åå®ä½“è¯†åˆ«ï¼ˆNERï¼‰ï¼šæ‰¾åˆ°æ–‡æœ¬ä¸­çš„ä¸»è§’</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ•µï¸</span>
                <p><strong>æƒ…æŠ¥åˆ†æå‘˜çš„æ—¥å¸¸</strong></p>
                <p class="mt-2">
                    æƒ³è±¡ä½ æ˜¯ä¸€åæƒ…æŠ¥åˆ†æå‘˜ï¼Œæ¯å¤©è¦å¤„ç†æˆåƒä¸Šä¸‡ä»½æŠ¥å‘Šã€‚ä½ çš„ä»»åŠ¡æ˜¯å¿«é€Ÿæ‰¾å‡ºï¼š
                </p>
                <ul class="mt-2">
                    <li>ğŸ§‘ è°ï¼ˆäººç‰©ï¼‰å‚ä¸äº†äº‹ä»¶ï¼Ÿ</li>
                    <li>ğŸ¢ å“ªäº›ç»„ç»‡ï¼ˆæœºæ„ï¼‰ç›¸å…³ï¼Ÿ</li>
                    <li>ğŸ“ äº‹ä»¶å‘ç”Ÿåœ¨å“ªé‡Œï¼ˆåœ°ç‚¹ï¼‰ï¼Ÿ</li>
                    <li>ğŸ“… ä»€ä¹ˆæ—¶é—´ï¼ˆæ—¶é—´ï¼‰å‘ç”Ÿï¼Ÿ</li>
                </ul>
                <p class="mt-3">
                    è¿™æ­£æ˜¯NERè¦åšçš„äº‹â€”â€”ä»æµ·é‡æ–‡æœ¬ä¸­è‡ªåŠ¨æå–å…³é”®å®ä½“ä¿¡æ¯ï¼
                </p>
            </div>

            <div class="demo-container">
                <h3 class="mb-3" style="color: var(--primary-light);">ğŸ” NERå®æˆ˜æ¼”ç¤º</h3>

                <p class="mb-3"><strong>æ–°é—»åŸæ–‡ï¼š</strong></p>
                <p style="font-size: 1.2rem; line-height: 2.5;">
                    2024å¹´1æœˆï¼Œ<span class="token token-entity" style="background: linear-gradient(135deg, rgba(236, 72, 153, 0.2), rgba(244, 114, 182, 0.2)); border-color: var(--secondary); color: var(--secondary);">é©¬æ–¯å…‹</span>åœ¨
                    <span class="token token-entity">ä¸Šæµ·</span>å®£å¸ƒ
                    <span class="token token-entity" style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(99, 102, 241, 0.2)); border-color: var(--info); color: var(--info);">ç‰¹æ–¯æ‹‰</span>å°†åœ¨
                    <span class="token token-entity">ä¸­å›½</span>å»ºè®¾ç¬¬äºŒåº§è¶…çº§å·¥å‚ã€‚
                    <span class="token token-entity" style="background: linear-gradient(135deg, rgba(236, 72, 153, 0.2), rgba(244, 114, 182, 0.2)); border-color: var(--secondary); color: var(--secondary);">ææ–Œ</span>è¡¨ç¤º
                    <span class="token token-entity" style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(99, 102, 241, 0.2)); border-color: var(--info); color: var(--info);">è”šæ¥æ±½è½¦</span>å°†åŠ å¿«åœ¨
                    <span class="token token-entity">æ¬§æ´²</span>çš„æ‰©å¼ æ­¥ä¼ã€‚
                </p>

                <div class="card-grid mt-4">
                    <div class="text-center">
                        <div style="font-size: 3rem;">ğŸ‘¤</div>
                        <h4 style="color: var(--secondary);">äººåï¼ˆPERï¼‰</h4>
                        <p>é©¬æ–¯å…‹ã€ææ–Œ</p>
                    </div>
                    <div class="text-center">
                        <div style="font-size: 3rem;">ğŸ“</div>
                        <h4 style="color: var(--success);">åœ°åï¼ˆLOCï¼‰</h4>
                        <p>ä¸Šæµ·ã€ä¸­å›½ã€æ¬§æ´²</p>
                    </div>
                    <div class="text-center">
                        <div style="font-size: 3rem;">ğŸ¢</div>
                        <h4 style="color: var(--info);">æœºæ„ï¼ˆORGï¼‰</h4>
                        <p>ç‰¹æ–¯æ‹‰ã€è”šæ¥æ±½è½¦</p>
                    </div>
                </div>
            </div>

            <div class="tip warning mt-4">
                <span class="tip-icon">ğŸ¤”</span>
                <strong>NERçš„æ ¸å¿ƒæŒ‘æˆ˜</strong>
                <div class="card-grid mt-3">
                    <div class="demo-container" style="padding: 1.5rem;">
                        <h5 style="color: var(--info);">è¾¹ç•Œè¯†åˆ«</h5>
                        <p style="font-size: 0.9rem;">
                            "å—äº¬å¸‚é•¿" vs "å—äº¬å¸‚/é•¿"<br>
                            "ä¸­å›½é“¶è¡Œ" vs "ä¸­å›½/é“¶è¡Œ"<br>
                            å®ä½“çš„è¾¹ç•Œåœ¨å“ªé‡Œï¼Ÿ
                        </p>
                    </div>

                    <div class="demo-container" style="padding: 1.5rem;">
                        <h5 style="color: var(--primary);">ç±»å‹æ­§ä¹‰</h5>
                        <p style="font-size: 0.9rem;">
                            "è‹¹æœ"â†’ å…¬å¸è¿˜æ˜¯æ°´æœï¼Ÿ<br>
                            "é•¿æ±Ÿ"â†’ åœ°åè¿˜æ˜¯å…¶ä»–ï¼Ÿ<br>
                            éœ€è¦ç»“åˆä¸Šä¸‹æ–‡åˆ¤æ–­
                        </p>
                    </div>

                    <div class="demo-container" style="padding: 1.5rem;">
                        <h5 style="color: var(--secondary);">åµŒå¥—å®ä½“</h5>
                        <p style="font-size: 0.9rem;">
                            "åŒ—äº¬å¤§å­¦"ï¼š<br>
                            - åœ°åï¼šåŒ—äº¬<br>
                            - æœºæ„ï¼šåŒ—äº¬å¤§å­¦
                        </p>
                    </div>

                    <div class="demo-container" style="padding: 1.5rem;">
                        <h5 style="color: var(--warning);">æ–°å®ä½“æ¶Œç°</h5>
                        <p style="font-size: 0.9rem;">
                            æ–°å…¬å¸ï¼šå­—èŠ‚è·³åŠ¨ã€æ‹¼å¤šå¤š<br>
                            æ–°äººåï¼šç½‘çº¢ã€æ˜æ˜Ÿ<br>
                            å¦‚ä½•è¯†åˆ«è¯å…¸ä¸­æ²¡æœ‰çš„å®ä½“ï¼Ÿ
                        </p>
                    </div>
                </div>
            </div>

            <div class="algorithm-steps">
                <h4 class="mb-4" style="color: var(--primary-light);">ğŸ—ï¸ åŸºäºæ¡ä»¶éšæœºåœº(CRF)çš„NER</h4>

                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h5>BIOæ ‡æ³¨ä½“ç³»</h5>
                        <p>å°†NERè½¬åŒ–ä¸ºåºåˆ—æ ‡æ³¨é—®é¢˜</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">BIOæ ‡æ³¨ç¤ºä¾‹</span>
                            </div>
                            <div class="code-content">
                                <pre>é©¬   æ–¯   å…‹   åœ¨   ä¸Š   æµ·   å·¥   ä½œ
B-PER I-PER I-PER O  B-LOC I-LOC O   O

â€¢ B-PERï¼šäººåå¼€å§‹
â€¢ I-PERï¼šäººåå†…éƒ¨
â€¢ B-LOCï¼šåœ°åå¼€å§‹
â€¢ Oï¼šéå®ä½“</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h5>ç‰¹å¾å·¥ç¨‹</h5>
                        <p>æå–æœ‰åŠ©äºè¯†åˆ«å®ä½“çš„ç‰¹å¾</p>
                        <div class="card-grid mt-3">
                            <div class="demo-container" style="padding: 1rem;">
                                <strong>è¯æ±‡ç‰¹å¾</strong>
                                <ul style="font-size: 0.875rem;">
                                    <li>å½“å‰è¯</li>
                                    <li>å‰åè¯</li>
                                    <li>è¯æ€§æ ‡æ³¨</li>
                                </ul>
                            </div>
                            <div class="demo-container" style="padding: 1rem;">
                                <strong>å­—ç¬¦ç‰¹å¾</strong>
                                <ul style="font-size: 0.875rem;">
                                    <li>æ˜¯å¦å¤§å†™</li>
                                    <li>æ˜¯å¦åŒ…å«æ•°å­—</li>
                                    <li>è¯ç¼€ï¼ˆå…¬å¸ã€é›†å›¢ï¼‰</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h5>CRFå»ºæ¨¡</h5>
                        <p>å­¦ä¹ æ ‡ç­¾ä¹‹é—´çš„è½¬ç§»è§„å¾‹</p>
                        <div class="demo-container mt-3">
                            <p><strong>åˆç†çš„æ ‡ç­¾åºåˆ—ï¼š</strong></p>
                            <p style="color: var(--success);">âœ“ B-PER â†’ I-PER â†’ O</p>
                            <p><strong>ä¸åˆç†çš„æ ‡ç­¾åºåˆ—ï¼š</strong></p>
                            <p style="color: var(--danger);">âœ— I-PER â†’ B-PERï¼ˆå®ä½“å†…éƒ¨ä¸èƒ½æ¥å¼€å§‹ï¼‰</p>
                            <p style="color: var(--danger);">âœ— B-PER â†’ I-LOCï¼ˆäººåä¸èƒ½æ¥åœ°åå†…éƒ¨ï¼‰</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">Python - NERå®æˆ˜ä»£ç </span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="toggleCode(this)">å±•å¼€</button>
                        <button class="code-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                    </div>
                </div>
                <div class="code-content collapsed">
                    <pre><span class="comment"># NERå®æˆ˜ä»£ç </span>
<span class="keyword">import</span> re
<span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict

<span class="keyword">class</span> <span class="function">SimpleNER</span>:
    <span class="string">"""ç®€å•çš„è§„åˆ™+è¯å…¸NERç³»ç»Ÿ"""</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        <span class="comment"># å®ä½“è¯å…¸</span>
        self.person_dict = {<span class="string">'é©¬äº‘'</span>, <span class="string">'é©¬åŒ–è…¾'</span>, <span class="string">'æå½¦å®'</span>, <span class="string">'é›·å†›'</span>, <span class="string">'é©¬æ–¯å…‹'</span>, <span class="string">'ææ–Œ'</span>}
        self.org_dict = {<span class="string">'é˜¿é‡Œå·´å·´'</span>, <span class="string">'è…¾è®¯'</span>, <span class="string">'ç™¾åº¦'</span>, <span class="string">'å°ç±³'</span>, <span class="string">'ç‰¹æ–¯æ‹‰'</span>, <span class="string">'è”šæ¥'</span>,
                         <span class="string">'å­—èŠ‚è·³åŠ¨'</span>, <span class="string">'ç¾å›¢'</span>, <span class="string">'äº¬ä¸œ'</span>, <span class="string">'æ‹¼å¤šå¤š'</span>}
        self.loc_dict = {<span class="string">'åŒ—äº¬'</span>, <span class="string">'ä¸Šæµ·'</span>, <span class="string">'æ·±åœ³'</span>, <span class="string">'æ­å·'</span>, <span class="string">'å¹¿å·'</span>, <span class="string">'ä¸­å›½'</span>,
                         <span class="string">'ç¾å›½'</span>, <span class="string">'æ¬§æ´²'</span>, <span class="string">'äºšæ´²'</span>}

        <span class="comment"># å®ä½“åç¼€æ¨¡å¼</span>
        self.org_suffix = [<span class="string">'å…¬å¸'</span>, <span class="string">'é›†å›¢'</span>, <span class="string">'é“¶è¡Œ'</span>, <span class="string">'å¤§å­¦'</span>, <span class="string">'å­¦é™¢'</span>, <span class="string">'åŒ»é™¢'</span>,
                           <span class="string">'ç ”ç©¶é™¢'</span>, <span class="string">'å®éªŒå®¤'</span>, <span class="string">'å·¥ä½œå®¤'</span>]
        self.person_prefix = [<span class="string">'è‘£äº‹é•¿'</span>, <span class="string">'æ€»ç»ç†'</span>, <span class="string">'CEO'</span>, <span class="string">'åˆ›å§‹äºº'</span>, <span class="string">'æ•™æˆ'</span>,
                             <span class="string">'åšå£«'</span>, <span class="string">'é™¢å£«'</span>]

    <span class="keyword">def</span> <span class="function">recognize</span>(self, text):
        <span class="string">"""è¯†åˆ«æ–‡æœ¬ä¸­çš„å‘½åå®ä½“"""</span>
        entities = {
            <span class="string">'PER'</span>: [],  <span class="comment"># äººå</span>
            <span class="string">'ORG'</span>: [],  <span class="comment"># æœºæ„</span>
            <span class="string">'LOC'</span>: []   <span class="comment"># åœ°å</span>
        }

        <span class="comment"># 1. åŸºäºè¯å…¸çš„ç²¾ç¡®åŒ¹é…</span>
        <span class="keyword">for</span> person <span class="keyword">in</span> self.person_dict:
            <span class="keyword">if</span> person <span class="keyword">in</span> text:
                entities[<span class="string">'PER'</span>].append(person)

        <span class="keyword">for</span> org <span class="keyword">in</span> self.org_dict:
            <span class="keyword">if</span> org <span class="keyword">in</span> text:
                entities[<span class="string">'ORG'</span>].append(org)

        <span class="keyword">for</span> loc <span class="keyword">in</span> self.loc_dict:
            <span class="keyword">if</span> loc <span class="keyword">in</span> text:
                entities[<span class="string">'LOC'</span>].append(loc)

        <span class="comment"># 2. åŸºäºæ¨¡å¼çš„è¯†åˆ«</span>
        <span class="comment"># è¯†åˆ«"XXå…¬å¸"æ ¼å¼çš„æœºæ„å</span>
        <span class="keyword">for</span> suffix <span class="keyword">in</span> self.org_suffix:
            pattern = <span class="string">f'[\u4e00-\u9fa5]+{suffix}'</span>
            matches = re.findall(pattern, text)
            entities[<span class="string">'ORG'</span>].extend(matches)

        <span class="comment"># è¯†åˆ«"è‘£äº‹é•¿XX"æ ¼å¼çš„äººå</span>
        <span class="keyword">for</span> prefix <span class="keyword">in</span> self.person_prefix:
            pattern = <span class="string">f'{prefix}[\u4e00-\u9fa5]{{2,4}}'</span>
            matches = re.findall(pattern, text)
            <span class="comment"># æå–äººåéƒ¨åˆ†</span>
            <span class="keyword">for</span> match <span class="keyword">in</span> matches:
                name = match.replace(prefix, <span class="string">''</span>)
                <span class="keyword">if</span> len(name) >= <span class="number">2</span>:
                    entities[<span class="string">'PER'</span>].append(name)

        <span class="comment"># 3. å»é‡</span>
        <span class="keyword">for</span> key <span class="keyword">in</span> entities:
            entities[key] = list(set(entities[key]))

        <span class="keyword">return</span> entities

    <span class="keyword">def</span> <span class="function">visualize</span>(self, text, entities):
        <span class="string">"""å¯è§†åŒ–NERç»“æœ"""</span>
        <span class="comment"># ä¸ºä¸åŒç±»å‹çš„å®ä½“æ·»åŠ æ ‡è®°</span>
        result = text

        <span class="comment"># æŒ‰é•¿åº¦æ’åºï¼Œå…ˆæ›¿æ¢é•¿çš„ï¼Œé¿å…é‡å </span>
        all_entities = []
        <span class="keyword">for</span> ent_type, ent_list <span class="keyword">in</span> entities.items():
            <span class="keyword">for</span> ent <span class="keyword">in</span> ent_list:
                all_entities.append((ent, ent_type))

        all_entities.sort(key=<span class="keyword">lambda</span> x: len(x[<span class="number">0</span>]), reverse=<span class="keyword">True</span>)

        <span class="comment"># æ›¿æ¢å®ä½“</span>
        <span class="keyword">for</span> ent, ent_type <span class="keyword">in</span> all_entities:
            <span class="keyword">if</span> ent_type == <span class="string">'PER'</span>:
                result = result.replace(ent, <span class="string">f'[äººåï¼š{ent}]'</span>)
            <span class="keyword">elif</span> ent_type == <span class="string">'ORG'</span>:
                result = result.replace(ent, <span class="string">f'[æœºæ„ï¼š{ent}]'</span>)
            <span class="keyword">elif</span> ent_type == <span class="string">'LOC'</span>:
                result = result.replace(ent, <span class="string">f'[åœ°ç‚¹ï¼š{ent}]'</span>)

        <span class="keyword">return</span> result

<span class="comment"># æµ‹è¯•NERç³»ç»Ÿ</span>
ner = SimpleNER()

test_texts = [
    <span class="string">"é©¬äº‘åˆ›åŠçš„é˜¿é‡Œå·´å·´æ€»éƒ¨ä½äºæ­å·ï¼Œé©¬åŒ–è…¾çš„è…¾è®¯æ€»éƒ¨åœ¨æ·±åœ³ã€‚"</span>,
    <span class="string">"ç‰¹æ–¯æ‹‰CEOé©¬æ–¯å…‹å®£å¸ƒå°†åœ¨ä¸Šæµ·å»ºè®¾æ–°å·¥å‚ã€‚"</span>,
    <span class="string">"åŒ—äº¬å¤§å­¦æ•™æˆææ˜åœ¨è‡ªç„¶è¯­è¨€å¤„ç†å®éªŒå®¤å·¥ä½œã€‚"</span>,
    <span class="string">"å­—èŠ‚è·³åŠ¨åˆ›å§‹äººå¼ ä¸€é¸£æ¯•ä¸šäºå—å¼€å¤§å­¦è½¯ä»¶å­¦é™¢ã€‚"</span>
]

print(<span class="string">"=== NERè¯†åˆ«ç»“æœ ===\n"</span>)
<span class="keyword">for</span> text <span class="keyword">in</span> test_texts:
    print(<span class="string">f"åŸæ–‡ï¼š{text}"</span>)
    entities = ner.recognize(text)
    print(<span class="string">f"è¯†åˆ«çš„å®ä½“ï¼š{entities}"</span>)
    result = ner.visualize(text, entities)
    print(<span class="string">f"æ ‡æ³¨ç»“æœï¼š{result}"</span>)
    print(<span class="string">"-"</span> * <span class="number">50</span>)</pre>
                </div>
            </div>
        </section>

        <!-- æ–‡æœ¬æ¸…æ´— -->
        <section id="text-cleaning" class="section-card">
            <h2>ğŸ§¹ æ–‡æœ¬æ¸…æ´—ï¼šåƒåœ¾è¿›ï¼Œåƒåœ¾å‡º</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ—‘ï¸</span>
                <p><strong>æ•°æ®ç§‘å­¦å®¶çš„å™©æ¢¦</strong></p>
                <p class="mt-2">
                    å°ç‹æ¥æ‰‹äº†ä¸€ä¸ªæƒ…æ„Ÿåˆ†æé¡¹ç›®ï¼Œä¿¡å¿ƒæ»¡æ»¡åœ°å¼€å§‹è®­ç»ƒæ¨¡å‹ã€‚ä¸€å‘¨åï¼Œæ¨¡å‹å‡†ç¡®ç‡åªæœ‰60%ã€‚
                </p>
                <p class="mt-2">ä»–æ£€æŸ¥äº†é¢„æµ‹é”™è¯¯çš„æ ·æœ¬ï¼Œå‘ç°äº†é—®é¢˜ï¼š</p>
                <div class="code-block mt-3">
                    <div class="code-header">
                        <span class="code-lang">è„æ•°æ®ç¤ºä¾‹</span>
                    </div>
                    <div class="code-content">
                        <pre>åŸå§‹è¯„è®ºï¼š&lt;p&gt;è¿™ä¸ªäº§å“çœŸçš„å¾ˆå¥½å¥½å¥½å¥½å¥½ï¼ï¼ï¼ï¼ï¼&lt;/p&gt;ğŸ˜ğŸ˜ğŸ˜
æ¨¡å‹çœ‹åˆ°çš„ï¼šæ•´ä¸ªHTMLå’Œä¸€å †ç¬¦å·
æ¨¡å‹é¢„æµ‹ï¼šè´Ÿé¢ï¼ˆå› ä¸ºè®­ç»ƒæ•°æ®ä¸­HTMLæ ‡ç­¾å¸¸å‡ºç°åœ¨åƒåœ¾è¯„è®ºä¸­ï¼‰</pre></div>
                </div>
                <p class="mt-3 text-center" style="color: var(--danger); font-size: 1.1rem;">
                    ğŸ’¡ åƒåœ¾è¿›ï¼Œåƒåœ¾å‡ºï¼ˆGarbage In, Garbage Outï¼‰â€”â€”æ•°æ®è´¨é‡å†³å®šæ¨¡å‹ä¸Šé™ï¼
                </p>
            </div>

            <div class="tip danger">
                <span class="tip-icon">ğŸš¨</span>
                <strong>çœŸå®ä¸–ç•Œçš„æ–‡æœ¬æœ‰å¤šè„ï¼Ÿ</strong>
                <div class="card-grid mt-3">
                    <div class="demo-container" style="padding: 1rem;">
                        <h5 style="color: var(--danger);">ç¤¾äº¤åª’ä½“</h5>
                        <code style="font-size: 0.8rem;">
                            è½¬å‘è¿™æ¡é”¦é²¤ğŸŸğŸŸğŸŸ<br>
                            ï¼ï¼ï¼æš´å¯Œï¼ï¼ï¼<br>
                            @å°æ˜ @å°çº¢ @å°æ<br>
                            #è½¬å‘æŠ½å¥–# #é”¦é²¤#
                        </code>
                    </div>
                    <div class="demo-container" style="padding: 1rem;">
                        <h5 style="color: var(--warning);">ç”µå•†è¯„è®º</h5>
                        <code style="font-size: 0.8rem;">
                            å®è´å¾ˆå¥½å¥½å¥½å¥½å¥½ï¼ï¼ï¼<br>
                            å–å®¶äººnice~~~ä¹ˆä¹ˆå“’ğŸ˜˜<br>
                            ç‰©æµå¿«å¿«å¿«å¿«å¿«ï¼5æ˜Ÿâ­â­â­â­â­
                        </code>
                    </div>
                    <div class="demo-container" style="padding: 1rem;">
                        <h5 style="color: var(--info);">ç½‘é¡µçˆ¬å–</h5>
                        <code style="font-size: 0.8rem;">
                            &lt;div&gt;ä»·æ ¼ï¼š&lt;span&gt;ï¿¥99&lt;/span&gt;&lt;/div&gt;<br>
                            &amp;nbsp;&amp;nbsp;ç«‹å³è´­ä¹°<br>
                            CopyrightÂ©2024
                        </code>
                    </div>
                </div>
            </div>

            <h3 class="mt-4">æ–‡æœ¬æ¸…æ´—çš„å±‚æ¬¡</h3>

            <div class="algorithm-steps">
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h5>åŸºç¡€æ¸…æ´—ï¼šå»é™¤æ˜æ˜¾å™ªå£°</h5>
                        <p>å¤„ç†æœ€åŸºæœ¬çš„æ ¼å¼é—®é¢˜</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">Python - åŸºç¡€æ¸…æ´—</span>
                            </div>
                            <div class="code-content">
                                <pre><span class="keyword">import</span> re
<span class="keyword">import</span> html

<span class="keyword">def</span> <span class="function">basic_clean</span>(text):
    <span class="comment"># 1. å»é™¤HTMLæ ‡ç­¾</span>
    text = re.sub(<span class="string">r'<[^>]+>'</span>, <span class="string">''</span>, text)

    <span class="comment"># 2. å¤„ç†HTMLå®ä½“</span>
    text = html.unescape(text)  <span class="comment"># &amp;nbsp; â†’ ç©ºæ ¼</span>

    <span class="comment"># 3. ç»Ÿä¸€ç©ºç™½å­—ç¬¦</span>
    text = re.sub(<span class="string">r'\s+'</span>, <span class="string">' '</span>, text)

    <span class="comment"># 4. å»é™¤é¦–å°¾ç©ºç™½</span>
    text = text.strip()

    <span class="keyword">return</span> text

<span class="comment"># ç¤ºä¾‹</span>
dirty = <span class="string">"&lt;p&gt;è¿™æ˜¯ä¸€æ®µ&amp;nbsp;&amp;nbsp;&amp;nbsp;æ–‡æœ¬&lt;/p&gt;"</span>
clean = basic_clean(dirty)
print(clean)  <span class="comment"># "è¿™æ˜¯ä¸€æ®µ æ–‡æœ¬"</span></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h5>è§„èŒƒåŒ–ï¼šç»Ÿä¸€è¡¨è¾¾å½¢å¼</h5>
                        <p>è®©ç›¸åŒå«ä¹‰çš„æ–‡æœ¬æœ‰ç›¸åŒçš„å½¢å¼</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">Python - æ–‡æœ¬è§„èŒƒåŒ–</span>
                            </div>
                            <div class="code-content">
                                <pre><span class="keyword">def</span> <span class="function">normalize_text</span>(text):
    <span class="comment"># 1. ç¹ç®€è½¬æ¢</span>
    <span class="keyword">from</span> opencc <span class="keyword">import</span> OpenCC
    cc = OpenCC(<span class="string">'t2s'</span>)  <span class="comment"># ç¹ä½“è½¬ç®€ä½“</span>
    text = cc.convert(text)

    <span class="comment"># 2. å…¨è§’è½¬åŠè§’</span>
    <span class="keyword">def</span> <span class="function">full2half</span>(s):
        n = []
        <span class="keyword">for</span> char <span class="keyword">in</span> s:
            num = ord(char)
            <span class="keyword">if</span> num == <span class="number">0x3000</span>:  <span class="comment"># å…¨è§’ç©ºæ ¼</span>
                n.append(<span class="string">' '</span>)
            <span class="keyword">elif</span> <span class="number">0xFF01</span> <= num <= <span class="number">0xFF5E</span>:
                n.append(chr(num - <span class="number">0xFEE0</span>))
            <span class="keyword">else</span>:
                n.append(char)
        <span class="keyword">return</span> <span class="string">''</span>.join(n)

    text = full2half(text)

    <span class="comment"># 3. å¤§å°å†™ç»Ÿä¸€ï¼ˆè‹±æ–‡ï¼‰</span>
    text = text.lower()

    <span class="comment"># 4. æ•°å­—è§„èŒƒåŒ–</span>
    text = re.sub(<span class="string">r'[ï¼-ï¼™]'</span>, <span class="keyword">lambda</span> x: str(ord(x.group()) - ord(<span class="string">'ï¼'</span>)), text)

    <span class="keyword">return</span> text

<span class="comment"># ç¤ºä¾‹</span>
print(normalize_text(<span class="string">"é€™æ˜¯ç¹é«”å­—ï¼Œï¼¡ï¼¢ï¼£ï¼‘ï¼’ï¼“"</span>))
<span class="comment"># è¾“å‡ºï¼šè¿™æ˜¯ç¹ä½“å­—ï¼Œabc123</span></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h5>å™ªå£°è¿‡æ»¤ï¼šå»é™¤æ— æ„ä¹‰å†…å®¹</h5>
                        <p>è¯†åˆ«å¹¶å»é™¤å¯¹ä»»åŠ¡æ— ç”¨çš„å†…å®¹</p>
                        <div class="card-grid mt-3">
                            <div class="demo-container" style="padding: 1.5rem;">
                                <h6 style="color: var(--primary-light);">é‡å¤å­—ç¬¦</h6>
                                <p style="font-size: 0.9rem;">
                                    "å¥½å¥½å¥½å¥½å¥½" â†’ "å¥½"<br>
                                    "å“ˆå“ˆå“ˆå“ˆå“ˆ" â†’ "å“ˆå“ˆ"<br>
                                    "ï¼ï¼ï¼ï¼ï¼" â†’ "ï¼"
                                </p>
                            </div>
                            <div class="demo-container" style="padding: 1.5rem;">
                                <h6 style="color: var(--secondary);">è¡¨æƒ…ç¬¦å·</h6>
                                <p style="font-size: 0.9rem;">
                                    æ ¹æ®ä»»åŠ¡å†³å®šï¼š<br>
                                    â€¢ æƒ…æ„Ÿåˆ†æï¼šä¿ç•™ğŸ˜Š<br>
                                    â€¢ ä¸»é¢˜åˆ†ç±»ï¼šå»é™¤ğŸ‘
                                </p>
                            </div>
                            <div class="demo-container" style="padding: 1.5rem;">
                                <h6 style="color: var(--warning);">ç‰¹æ®Šç¬¦å·</h6>
                                <p style="font-size: 0.9rem;">
                                    @ç”¨æˆ·åã€#è¯é¢˜#<br>
                                    URLé“¾æ¥<br>
                                    ç‰¹æ®Šæ ‡è®°
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h5>æ™ºèƒ½æ¸…æ´—ï¼šåŸºäºä»»åŠ¡çš„ä¼˜åŒ–</h5>
                        <p>æ ¹æ®å…·ä½“ä»»åŠ¡å®šåˆ¶æ¸…æ´—ç­–ç•¥</p>
                        <div class="demo-container">
                            <p><strong>ç¤ºä¾‹ï¼šä¸åŒä»»åŠ¡çš„æ¸…æ´—ç­–ç•¥</strong></p>
                            <div class="comparison-table mt-3">
                                <table>
                                    <thead>
                                    <tr>
                                        <th>ä»»åŠ¡ç±»å‹</th>
                                        <th>ä¿ç•™å†…å®¹</th>
                                        <th>å»é™¤å†…å®¹</th>
                                        <th>ç‰¹æ®Šå¤„ç†</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>æƒ…æ„Ÿåˆ†æ</td>
                                        <td>è¡¨æƒ…ã€æ„Ÿå¹å·ã€ç¨‹åº¦å‰¯è¯</td>
                                        <td>URLã€@æåŠ</td>
                                        <td>é‡å¤å­—ç¬¦é™åˆ¶ä¸º2ä¸ª</td>
                                    </tr>
                                    <tr>
                                        <td>ä¸»é¢˜åˆ†ç±»</td>
                                        <td>åè¯ã€å®ä½“è¯</td>
                                        <td>è¡¨æƒ…ã€æ ‡ç‚¹ã€è¯­æ°”è¯</td>
                                        <td>åœç”¨è¯è¿‡æ»¤</td>
                                    </tr>
                                    <tr>
                                        <td>æœºå™¨ç¿»è¯‘</td>
                                        <td>æ‰€æœ‰æ ‡ç‚¹ã€å¤§å°å†™</td>
                                        <td>ä»…å»é™¤æ§åˆ¶å­—ç¬¦</td>
                                        <td>ä¿æŒåŸå§‹æ ¼å¼</td>
                                    </tr>
                                    <tr>
                                        <td>é—®ç­”ç³»ç»Ÿ</td>
                                        <td>é—®å·ã€å®ä½“ã€æ•°å­—</td>
                                        <td>è¡¨æƒ…ã€è£…é¥°ç¬¦å·</td>
                                        <td>é—®å¥è§„èŒƒåŒ–</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">Python - å®Œæ•´çš„æ–‡æœ¬æ¸…æ´—ç®¡é“</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="toggleCode(this)">å±•å¼€</button>
                        <button class="code-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                    </div>
                </div>
                <div class="code-content collapsed">
                    <pre><span class="keyword">import</span> re
<span class="keyword">import</span> string
<span class="keyword">import</span> emoji
<span class="keyword">from</span> typing <span class="keyword">import</span> List, Set

<span class="keyword">class</span> <span class="function">TextCleaner</span>:
    <span class="string">"""å¯é…ç½®çš„æ–‡æœ¬æ¸…æ´—å™¨"""</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self, config=None):
        self.config = config <span class="keyword">or</span> {}

        <span class="comment"># é»˜è®¤åœç”¨è¯</span>
        self.stopwords = {
            <span class="string">'çš„'</span>, <span class="string">'äº†'</span>, <span class="string">'å’Œ'</span>, <span class="string">'æ˜¯'</span>, <span class="string">'åœ¨'</span>, <span class="string">'æˆ‘'</span>, <span class="string">'æœ‰'</span>,
            <span class="string">'å°±'</span>, <span class="string">'ä¸'</span>, <span class="string">'ä¹Ÿ'</span>, <span class="string">'è¿™'</span>, <span class="string">'é‚£'</span>, <span class="string">'ä½†'</span>, <span class="string">'ä½ '</span>
        }

    <span class="keyword">def</span> <span class="function">remove_html</span>(self, text: str) -> str:
        <span class="string">"""å»é™¤HTMLæ ‡ç­¾å’Œå®ä½“"""</span>
        <span class="comment"># å»é™¤scriptå’Œstyleå†…å®¹</span>
        text = re.sub(<span class="string">r'<script.*?</script>'</span>, <span class="string">''</span>, text, flags=re.DOTALL)
        text = re.sub(<span class="string">r'<style.*?</style>'</span>, <span class="string">''</span>, text, flags=re.DOTALL)
        <span class="comment"># å»é™¤æ ‡ç­¾</span>
        text = re.sub(<span class="string">r'<[^>]+>'</span>, <span class="string">''</span>, text)
        <span class="comment"># å¤„ç†HTMLå®ä½“</span>
        text = re.sub(<span class="string">r'&[a-zA-Z]+;'</span>, <span class="string">' '</span>, text)
        <span class="keyword">return</span> text

    <span class="keyword">def</span> <span class="function">remove_urls</span>(self, text: str) -> str:
        <span class="string">"""å»é™¤URLé“¾æ¥"""</span>
        <span class="comment"># HTTP(S)é“¾æ¥</span>
        text = re.sub(<span class="string">r'https?://[^\s]+'</span>, <span class="string">''</span>, text)
        <span class="comment"># wwwé“¾æ¥</span>
        text = re.sub(<span class="string">r'www\.[^\s]+'</span>, <span class="string">''</span>, text)
        <span class="keyword">return</span> text

    <span class="keyword">def</span> <span class="function">remove_emails</span>(self, text: str) -> str:
        <span class="string">"""å»é™¤é‚®ç®±åœ°å€"""</span>
        text = re.sub(<span class="string">r'[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}'</span>, <span class="string">''</span>, text)
        <span class="keyword">return</span> text

    <span class="keyword">def</span> <span class="function">handle_emojis</span>(self, text: str, mode=<span class="string">'remove'</span>) -> str:
        <span class="string">"""å¤„ç†è¡¨æƒ…ç¬¦å·"""</span>
        <span class="keyword">if</span> mode == <span class="string">'remove'</span>:
            <span class="keyword">return</span> emoji.replace_emoji(text, <span class="string">''</span>)
        <span class="keyword">elif</span> mode == <span class="string">'replace'</span>:
            <span class="keyword">return</span> emoji.demojize(text)  <span class="comment"># ğŸ˜Š â†’ :smiling_face:</span>
        <span class="keyword">else</span>:
            <span class="keyword">return</span> text

    <span class="keyword">def</span> <span class="function">reduce_repetitions</span>(self, text: str, max_repeat=<span class="number">2</span>) -> str:
        <span class="string">"""å‡å°‘é‡å¤å­—ç¬¦"""</span>
        <span class="comment"># å¤„ç†ä¸­æ–‡é‡å¤</span>
        pattern = <span class="string">r'([\u4e00-\u9fa5])\1{' + str(max_repeat) + <span class="string">',}'</span>
        text = re.sub(pattern, <span class="string">r'\1' * max_repeat, text)

        <span class="comment"># å¤„ç†æ ‡ç‚¹é‡å¤</span>
        text = re.sub(<span class="string">r'([!?ã€‚ï¼ï¼Ÿ])\1+'</span>, <span class="string">r'\1'</span>, text)

        <span class="comment"># å¤„ç†è‹±æ–‡é‡å¤</span>
        text = re.sub(<span class="string">r'([a-zA-Z])\1{2,}'</span>, <span class="string">r'\1\1'</span>, text)

        <span class="keyword">return</span> text

    <span class="keyword">def</span> <span class="function">normalize_whitespace</span>(self, text: str) -> str:
        <span class="string">"""è§„èŒƒåŒ–ç©ºç™½å­—ç¬¦"""</span>
        <span class="comment"># æ›¿æ¢å„ç§ç©ºç™½ä¸ºæ ‡å‡†ç©ºæ ¼</span>
        text = re.sub(<span class="string">r'[\xa0\u3000\t\r\n]+'</span>, <span class="string">' '</span>, text)
        <span class="comment"># å¤šä¸ªç©ºæ ¼åˆå¹¶ä¸ºä¸€ä¸ª</span>
        text = re.sub(<span class="string">r' +'</span>, <span class="string">' '</span>, text)
        <span class="keyword">return</span> text.strip()

    <span class="keyword">def</span> <span class="function">remove_special_chars</span>(self, text: str, keep_chars=<span class="string">''</span>) -> str:
        <span class="string">"""å»é™¤ç‰¹æ®Šå­—ç¬¦"""</span>
        <span class="comment"># ä¿ç•™ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—å’ŒæŒ‡å®šå­—ç¬¦</span>
        pattern = <span class="string">f'[^\\u4e00-\\u9fa5a-zA-Z0-9{re.escape(keep_chars)}]+'</span>
        text = re.sub(pattern, <span class="string">' '</span>, text)
        <span class="keyword">return</span> text

    <span class="keyword">def</span> <span class="function">remove_stopwords</span>(self, text: str, custom_stopwords: Set[str] = None) -> str:
        <span class="string">"""å»é™¤åœç”¨è¯"""</span>
        stopwords = self.stopwords
        <span class="keyword">if</span> custom_stopwords:
            stopwords = stopwords.union(custom_stopwords)

        words = text.split()
        words = [w <span class="keyword">for</span> w <span class="keyword">in</span> words <span class="keyword">if</span> w <span class="keyword">not in</span> stopwords]
        <span class="keyword">return</span> <span class="string">' '</span>.join(words)

    <span class="keyword">def</span> <span class="function">clean</span>(self, text: str, pipeline: List[str] = None) -> str:
        <span class="string">"""æ‰§è¡Œæ¸…æ´—ç®¡é“"""</span>
        <span class="keyword">if</span> pipeline <span class="keyword">is</span> None:
            pipeline = [
                <span class="string">'html'</span>, <span class="string">'urls'</span>, <span class="string">'emails'</span>, <span class="string">'whitespace'</span>,
                <span class="string">'repetitions'</span>, <span class="string">'emojis'</span>
            ]

        <span class="keyword">for</span> step <span class="keyword">in</span> pipeline:
            <span class="keyword">if</span> step == <span class="string">'html'</span>:
                text = self.remove_html(text)
            <span class="keyword">elif</span> step == <span class="string">'urls'</span>:
                text = self.remove_urls(text)
            <span class="keyword">elif</span> step == <span class="string">'emails'</span>:
                text = self.remove_emails(text)
            <span class="keyword">elif</span> step == <span class="string">'whitespace'</span>:
                text = self.normalize_whitespace(text)
            <span class="keyword">elif</span> step == <span class="string">'repetitions'</span>:
                text = self.reduce_repetitions(text)
            <span class="keyword">elif</span> step == <span class="string">'emojis'</span>:
                text = self.handle_emojis(text, mode=<span class="string">'remove'</span>)
            <span class="keyword">elif</span> step == <span class="string">'special'</span>:
                text = self.remove_special_chars(text)
            <span class="keyword">elif</span> step == <span class="string">'stopwords'</span>:
                text = self.remove_stopwords(text)

        <span class="keyword">return</span> text

<span class="comment"># ä½¿ç”¨ç¤ºä¾‹</span>
cleaner = TextCleaner()

<span class="comment"># é’ˆå¯¹ä¸åŒä»»åŠ¡çš„æ¸…æ´—é…ç½®</span>
<span class="comment"># 1. æƒ…æ„Ÿåˆ†æ</span>
sentiment_pipeline = [<span class="string">'html'</span>, <span class="string">'urls'</span>, <span class="string">'whitespace'</span>, <span class="string">'repetitions'</span>]
text = <span class="string">"è¿™ä¸ªäº§å“çœŸçš„å¾ˆå¥½å¥½å¥½å¥½ï¼ï¼ï¼ğŸ˜ğŸ˜ http://example.com"</span>
cleaned = cleaner.clean(text, sentiment_pipeline)
print(<span class="string">f"æƒ…æ„Ÿåˆ†ææ¸…æ´—ï¼š{cleaned}"</span>)  <span class="comment"># ä¿ç•™äº†è¡¨æƒ…</span>

<span class="comment"># 2. ä¸»é¢˜åˆ†ç±»</span>
topic_pipeline = [<span class="string">'html'</span>, <span class="string">'urls'</span>, <span class="string">'emails'</span>, <span class="string">'emojis'</span>, <span class="string">'special'</span>, <span class="string">'stopwords'</span>]
text = <span class="string">"åˆ†äº«ä¸€ä¸ªæœºå™¨å­¦ä¹ çš„æ•™ç¨‹ https://ml-tutorial.com ğŸ‘ğŸ‘"</span>
cleaned = cleaner.clean(text, topic_pipeline)
print(<span class="string">f"ä¸»é¢˜åˆ†ç±»æ¸…æ´—ï¼š{cleaned}"</span>)  <span class="comment"># å»é™¤äº†URLå’Œè¡¨æƒ…</span>

<span class="comment"># 3. æ‰¹é‡å¤„ç†</span>
texts = [
    <span class="string">"&lt;p&gt;äº§å“å¾ˆæ£’ï¼ï¼ï¼&lt;/p&gt;"</span>,
    <span class="string">"å®¢æœæ€åº¦å¥½å¥½å¥½å¥½ ğŸ˜ŠğŸ˜ŠğŸ˜Š"</span>,
    <span class="string">"ç‰©æµé€Ÿåº¦å¿«å¿«å¿«å¿«å¿«ï¼"</span>
]

cleaned_texts = [cleaner.clean(t) <span class="keyword">for</span> t <span class="keyword">in</span> texts]
<span class="keyword">for</span> original, cleaned <span class="keyword">in</span> zip(texts, cleaned_texts):
    print(<span class="string">f"{original} â†’ {cleaned}"</span>)</pre>
                </div>
            </div>

            <div class="tip success mt-4">
                <span class="tip-icon">âœ¨</span>
                <strong>æ¸…æ´—çš„é»„é‡‘æ³•åˆ™</strong>
                <ul class="mt-2">
                    <li><strong>ä¿å®ˆåŸåˆ™ï¼š</strong>å®å¯å°‘æ¸…æ´—ï¼Œä¸å¯è¿‡åº¦æ¸…æ´—ã€‚ä¸¢å¤±çš„ä¿¡æ¯æ— æ³•æ¢å¤ï¼</li>
                    <li><strong>ä»»åŠ¡å¯¼å‘ï¼š</strong>ä¸åŒä»»åŠ¡éœ€è¦ä¸åŒçš„æ¸…æ´—ç­–ç•¥ï¼Œæ²¡æœ‰ä¸€åˆ€åˆ‡çš„æ–¹æ¡ˆ</li>
                    <li><strong>ä¿ç•™å¤‡ä»½ï¼š</strong>æ°¸è¿œä¿å­˜åŸå§‹æ•°æ®ï¼Œæ¸…æ´—åçš„æ•°æ®å¦å­˜</li>
                    <li><strong>è¿­ä»£ä¼˜åŒ–ï¼š</strong>å…ˆç®€å•æ¸…æ´—ï¼Œæ ¹æ®æ•ˆæœé€æ­¥è°ƒæ•´ç­–ç•¥</li>
                </ul>
            </div>
        </section>

        <!-- å·¥å…·å¯¹æ¯” -->
        <section id="tools-comparison" class="section-card">
            <h2>ğŸ› ï¸ å·¥å…·å¯¹æ¯”ï¼šé€‰æ‹©åˆé€‚çš„æ­¦å™¨</h2>

            <div class="story-card">
                <span class="story-icon">âš”ï¸</span>
                <p><strong>å·¥å…·é€‰æ‹©å›°éš¾ç—‡</strong></p>
                <p class="mt-2">
                    æ–°æ‰‹å°å¼ è¦åšä¸€ä¸ªä¸­æ–‡NLPé¡¹ç›®ï¼Œæ‰“å¼€æœç´¢å¼•æ“ï¼Œå‘ç°æœ‰å‡ åç§åˆ†è¯å·¥å…·ï¼šjiebaã€THULACã€pkusegã€HanLPã€LAC...
                </p>
                <p class="mt-2">
                    "é€‰å“ªä¸ªï¼Ÿ"å°å¼ é™·å…¥äº†æ·±æ·±çš„çº ç»“ã€‚
                </p>
                <p class="mt-3 text-center" style="color: var(--primary-light); font-size: 1.1rem;">
                    æ²¡æœ‰æœ€å¥½çš„å·¥å…·ï¼Œåªæœ‰æœ€åˆé€‚çš„å·¥å…·ï¼
                </p>
            </div>

            <div class="comparison-table">
                <table>
                    <thead>
                    <tr>
                        <th>å·¥å…·åç§°</th>
                        <th>æ ¸å¿ƒç®—æ³•</th>
                        <th>é€Ÿåº¦</th>
                        <th>å‡†ç¡®ç‡</th>
                        <th>ç‰¹è‰²åŠŸèƒ½</th>
                        <th>é€‚ç”¨åœºæ™¯</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td><strong>jieba</strong></td>
                        <td>å‰ç¼€è¯å…¸+HMM</td>
                        <td>âš¡âš¡âš¡âš¡âš¡<br><small>50MB/s</small></td>
                        <td>â­â­â­â­<br><small>~95%</small></td>
                        <td>â€¢ æ”¯æŒè‡ªå®šä¹‰è¯å…¸<br>â€¢ ä¸‰ç§åˆ†è¯æ¨¡å¼<br>â€¢ å…³é”®è¯æå–</td>
                        <td>é€šç”¨åœºæ™¯ã€å¿«é€ŸåŸå‹</td>
                    </tr>
                    <tr>
                        <td><strong>THULAC</strong></td>
                        <td>ç»“æ„åŒ–æ„ŸçŸ¥æœº</td>
                        <td>âš¡âš¡âš¡<br><small>10MB/s</small></td>
                        <td>â­â­â­â­â­<br><small>~97%</small></td>
                        <td>â€¢ è¯æ€§æ ‡æ³¨ä¸€ä½“åŒ–<br>â€¢ æ¨¡å‹ç²¾åº¦é«˜<br>â€¢ æ”¯æŒè‡ªå®šä¹‰</td>
                        <td>å­¦æœ¯ç ”ç©¶ã€é«˜ç²¾åº¦éœ€æ±‚</td>
                    </tr>
                    <tr>
                        <td><strong>pkuseg</strong></td>
                        <td>CRF</td>
                        <td>âš¡âš¡<br><small>5MB/s</small></td>
                        <td>â­â­â­â­â­<br><small>~96%</small></td>
                        <td>â€¢ é¢†åŸŸæ¨¡å‹<br>â€¢ ç»†ç²’åº¦åˆ†è¯<br>â€¢ å¤šçº¿ç¨‹</td>
                        <td>ç‰¹å®šé¢†åŸŸã€ç²¾ç»†åˆ†è¯</td>
                    </tr>
                    <tr>
                        <td><strong>HanLP</strong></td>
                        <td>æ·±åº¦å­¦ä¹ </td>
                        <td>âš¡âš¡âš¡âš¡<br><small>20MB/s</small></td>
                        <td>â­â­â­â­â­<br><small>~98%</small></td>
                        <td>â€¢ å…¨åŠŸèƒ½NLP<br>â€¢ å¤šè¯­è¨€<br>â€¢ é¢„è®­ç»ƒæ¨¡å‹</td>
                        <td>ä¼ä¸šçº§åº”ç”¨ã€å…¨æ ˆNLP</td>
                    </tr>
                    <tr>
                        <td><strong>LAC</strong></td>
                        <td>Bi-LSTM+CRF</td>
                        <td>âš¡âš¡âš¡<br><small>15MB/s</small></td>
                        <td>â­â­â­â­â­<br><small>~97%</small></td>
                        <td>â€¢ è¯æ€§+NERä¸€ä½“<br>â€¢ ç™¾åº¦å‡ºå“<br>â€¢ å·¥ä¸šçº§</td>
                        <td>å·¥ä¸šåº”ç”¨ã€ä¸€ä½“åŒ–å¤„ç†</td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="flow-diagram mt-4">
                <h4 class="text-center mb-4" style="color: var(--primary-light);">ğŸ¯ å·¥å…·é€‰æ‹©å†³ç­–æ ‘</h4>

                <div class="algorithm-steps">
                    <div class="step-item">
                        <div class="step-number">?</div>
                        <div class="step-content">
                            <h5>é€Ÿåº¦æ˜¯é¦–è¦è€ƒè™‘å—ï¼Ÿ</h5>
                            <div class="card-grid mt-3">
                                <div class="demo-container" style="padding: 1rem;">
                                    <p style="color: var(--success); font-weight: bold;">âœ“ æ˜¯</p>
                                    <p>â†’ é€‰æ‹© <strong>jieba</strong></p>
                                    <p style="font-size: 0.875rem;">æœ€å¿«ã€æ˜“ç”¨ã€ç¤¾åŒºæ´»è·ƒ</p>
                                </div>
                                <div class="demo-container" style="padding: 1rem;">
                                    <p style="color: var(--danger); font-weight: bold;">âœ— å¦</p>
                                    <p>â†’ ç»§ç»­ä¸‹ä¸€ä¸ªé—®é¢˜</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="step-item">
                        <div class="step-number">?</div>
                        <div class="step-content">
                            <h5>éœ€è¦ç‰¹å®šé¢†åŸŸä¼˜åŒ–å—ï¼Ÿ</h5>
                            <div class="card-grid mt-3">
                                <div class="demo-container" style="padding: 1rem;">
                                    <p style="color: var(--success); font-weight: bold;">âœ“ æ˜¯</p>
                                    <p>â†’ é€‰æ‹© <strong>pkuseg</strong></p>
                                    <p style="font-size: 0.875rem;">åŒ»ç–—ã€æ–°é—»ç­‰é¢†åŸŸæ¨¡å‹</p>
                                </div>
                                <div class="demo-container" style="padding: 1rem;">
                                    <p style="color: var(--danger); font-weight: bold;">âœ— å¦</p>
                                    <p>â†’ ç»§ç»­ä¸‹ä¸€ä¸ªé—®é¢˜</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="step-item">
                        <div class="step-number">?</div>
                        <div class="step-content">
                            <h5>éœ€è¦å®Œæ•´çš„NLPåŠŸèƒ½å—ï¼Ÿ</h5>
                            <div class="card-grid mt-3">
                                <div class="demo-container" style="padding: 1rem;">
                                    <p style="color: var(--success); font-weight: bold;">âœ“ æ˜¯</p>
                                    <p>â†’ é€‰æ‹© <strong>HanLP</strong></p>
                                    <p style="font-size: 0.875rem;">ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆ</p>
                                </div>
                                <div class="demo-container" style="padding: 1rem;">
                                    <p style="color: var(--primary); font-weight: bold;">~ åªéœ€è¦åˆ†è¯+è¯æ€§+NER</p>
                                    <p>â†’ é€‰æ‹© <strong>LAC</strong></p>
                                    <p style="font-size: 0.875rem;">ä¸€ä½“åŒ–å¤„ç†ï¼Œæ€§èƒ½å‡è¡¡</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">Python - å¤šå·¥å…·æ•ˆæœå¯¹æ¯”</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="toggleCode(this)">å±•å¼€</button>
                        <button class="code-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                    </div>
                </div>
                <div class="code-content collapsed">
                    <pre><span class="comment"># å¤šå·¥å…·æ•ˆæœå¯¹æ¯”å®éªŒ</span>
<span class="keyword">import</span> time
<span class="keyword">import</span> jieba
<span class="keyword">import</span> pkuseg
<span class="keyword">import</span> thulac
<span class="keyword">from</span> LAC <span class="keyword">import</span> LAC

<span class="comment"># æµ‹è¯•æ–‡æœ¬</span>
test_texts = [
    <span class="string">"å—äº¬å¸‚é•¿æ±Ÿå¤§æ¡¥"</span>,  <span class="comment"># æ­§ä¹‰</span>
    <span class="string">"ä»–ç ”ç©¶ç”Ÿç‰©åŒ–å­¦"</span>,  <span class="comment"># æ­§ä¹‰</span>
    <span class="string">"é©¬äº‘å’Œé©¬åŒ–è…¾æ˜¯ä¸­å›½äº’è”ç½‘çš„ä»£è¡¨äººç‰©"</span>,  <span class="comment"># äººåè¯†åˆ«</span>
    <span class="string">"æˆ‘ç”¨Pythonå†™è‡ªç„¶è¯­è¨€å¤„ç†ç¨‹åº"</span>,  <span class="comment"># æ··åˆè¯­è¨€</span>
    <span class="string">"æ–°å† ç–«è‹—æ¥ç§ç‡è¾¾åˆ°85%ä»¥ä¸Š"</span>,  <span class="comment"># æ–°è¯</span>
]

<span class="keyword">def</span> <span class="function">benchmark_tools</span>(texts):
    <span class="string">"""å¯¹æ¯”ä¸åŒå·¥å…·çš„æ•ˆæœå’Œæ€§èƒ½"""</span>
    results = {}

    <span class="comment"># 1. jieba</span>
    print(<span class="string">"=== jieba ==="</span>)
    start = time.time()
    jieba_results = []
    <span class="keyword">for</span> text <span class="keyword">in</span> texts:
        result = list(jieba.cut(text))
        jieba_results.append(result)
        print(<span class="string">f"{text} â†’ {'/'.join(result)}"</span>)
    jieba_time = time.time() - start
    results[<span class="string">'jieba'</span>] = {<span class="string">'time'</span>: jieba_time, <span class="string">'results'</span>: jieba_results}

    <span class="comment"># 2. pkuseg</span>
    print(<span class="string">"\n=== pkuseg ==="</span>)
    seg = pkuseg.pkuseg()
    start = time.time()
    pkuseg_results = []
    <span class="keyword">for</span> text <span class="keyword">in</span> texts:
        result = seg.cut(text)
        pkuseg_results.append(result)
        print(<span class="string">f"{text} â†’ {'/'.join(result)}"</span>)
    pkuseg_time = time.time() - start
    results[<span class="string">'pkuseg'</span>] = {<span class="string">'time'</span>: pkuseg_time, <span class="string">'results'</span>: pkuseg_results}

    <span class="comment"># 3. THULAC</span>
    print(<span class="string">"\n=== THULAC ==="</span>)
    thu = thulac.thulac(seg_only=<span class="keyword">True</span>)
    start = time.time()
    thulac_results = []
    <span class="keyword">for</span> text <span class="keyword">in</span> texts:
        result = thu.cut(text, text=<span class="keyword">True</span>).split()
        thulac_results.append(result)
        print(<span class="string">f"{text} â†’ {'/'.join(result)}"</span>)
    thulac_time = time.time() - start
    results[<span class="string">'thulac'</span>] = {<span class="string">'time'</span>: thulac_time, <span class="string">'results'</span>: thulac_results}

    <span class="comment"># 4. LACï¼ˆè¯æ³•åˆ†æï¼‰</span>
    print(<span class="string">"\n=== LAC (ç™¾åº¦) ==="</span>)
    lac = LAC(mode=<span class="string">'seg'</span>)
    start = time.time()
    lac_results = []
    <span class="keyword">for</span> text <span class="keyword">in</span> texts:
        result = lac.run(text)[<span class="number">0</span>]
        lac_results.append(result)
        print(<span class="string">f"{text} â†’ {'/'.join(result)}"</span>)
    lac_time = time.time() - start
    results[<span class="string">'lac'</span>] = {<span class="string">'time'</span>: lac_time, <span class="string">'results'</span>: lac_results}

    <span class="comment"># æ€§èƒ½å¯¹æ¯”</span>
    print(<span class="string">"\n=== æ€§èƒ½å¯¹æ¯” ==="</span>)
    <span class="keyword">for</span> tool, data <span class="keyword">in</span> results.items():
        print(<span class="string">f"{tool}: {data['time']:.3f}ç§’"</span>)

    <span class="comment"># å·®å¼‚åˆ†æ</span>
    print(<span class="string">"\n=== åˆ†è¯å·®å¼‚åˆ†æ ==="</span>)
    <span class="keyword">for</span> i, text <span class="keyword">in</span> enumerate(texts):
        diffs = []
        tools = list(results.keys())
        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(tools)):
            <span class="keyword">for</span> k <span class="keyword">in</span> range(j+<span class="number">1</span>, len(tools)):
                result1 = results[tools[j]][<span class="string">'results'</span>][i]
                result2 = results[tools[k]][<span class="string">'results'</span>][i]
                <span class="keyword">if</span> result1 != result2:
                    diffs.append(<span class="string">f"{tools[j]} vs {tools[k]}"</span>)

        <span class="keyword">if</span> diffs:
            print(<span class="string">f"\næ–‡æœ¬ï¼š{text}"</span>)
            print(<span class="string">f"å­˜åœ¨åˆ†æ­§ï¼š{', '.join(diffs)}"</span>)
            <span class="keyword">for</span> tool <span class="keyword">in</span> tools:
                print(<span class="string">f"  {tool}: {'/'.join(results[tool]['results'][i])}"</span>)

<span class="comment"># è¿è¡Œå¯¹æ¯”</span>
benchmark_tools(test_texts)

<span class="comment"># é¢†åŸŸé€‚åº”æ€§æµ‹è¯•</span>
print(<span class="string">"\n=== é¢†åŸŸé€‚åº”æ€§æµ‹è¯• ==="</span>)
domain_texts = {
    <span class="string">'åŒ»ç–—'</span>: <span class="string">"æ‚£è€…ç¡®è¯Šä¸ºç”²çŠ¶è…ºåŠŸèƒ½äº¢è¿›ç—‡"</span>,
    <span class="string">'é‡‘è'</span>: <span class="string">"å¤®è¡Œé™å‡†é‡Šæ”¾æµåŠ¨æ€§"</span>,
    <span class="string">'ç§‘æŠ€'</span>: <span class="string">"æ·±åº¦å­¦ä¹ æ¡†æ¶TensorFlowå‘å¸ƒæ–°ç‰ˆæœ¬"</span>,
    <span class="string">'æ³•å¾‹'</span>: <span class="string">"è¢«å‘ŠäººçŠ¯æ•…æ„ä¼¤å®³ç½ª"</span>
}

<span class="comment"># ä½¿ç”¨pkusegçš„é¢†åŸŸæ¨¡å‹</span>
<span class="keyword">for</span> domain, text <span class="keyword">in</span> domain_texts.items():
    print(<span class="string">f"\n{domain}é¢†åŸŸï¼š{text}"</span>)

    <span class="comment"># é€šç”¨æ¨¡å‹</span>
    seg_general = pkuseg.pkuseg()
    result_general = seg_general.cut(text)
    print(<span class="string">f"é€šç”¨æ¨¡å‹ï¼š{'/'.join(result_general)}"</span>)

    <span class="comment"># é¢†åŸŸæ¨¡å‹ï¼ˆå¦‚æœæœ‰ï¼‰</span>
    <span class="keyword">try</span>:
        <span class="keyword">if</span> domain == <span class="string">'åŒ»ç–—'</span>:
            seg_domain = pkuseg.pkuseg(model_name=<span class="string">'medicine'</span>)
        <span class="keyword">elif</span> domain == <span class="string">'æ–°é—»'</span>:
            seg_domain = pkuseg.pkuseg(model_name=<span class="string">'news'</span>)
        <span class="keyword">else</span>:
            <span class="keyword">continue</span>

        result_domain = seg_domain.cut(text)
        print(<span class="string">f"é¢†åŸŸæ¨¡å‹ï¼š{'/'.join(result_domain)}"</span>)
    <span class="keyword">except</span>:
        <span class="keyword">pass</span></pre>
                </div>
            </div>
        </section>

        <!-- æ„å»ºé¢„å¤„ç†ç®¡é“ -->
        <section id="practice" class="section-card">
            <h2>ğŸ”§ å®æˆ˜ï¼šæ„å»ºå·¥ä¸šçº§é¢„å¤„ç†ç®¡é“</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ­</span>
                <p><strong>ä»å®éªŒå®¤åˆ°ç”Ÿäº§ç¯å¢ƒ</strong></p>
                <p class="mt-2">
                    "åœ¨Jupyteré‡Œè·‘å¾—å¥½å¥½çš„ä»£ç ï¼Œä¸ºä»€ä¹ˆåˆ°ç”Ÿäº§ç¯å¢ƒå°±å´©äº†ï¼Ÿ"
                </p>
                <p class="mt-2">
                    è¿™æ˜¯æ¯ä¸ªNLPå·¥ç¨‹å¸ˆéƒ½ä¼šé‡åˆ°çš„é—®é¢˜ã€‚å®éªŒå®¤ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„å·®å¼‚ï¼š
                </p>
                <ul class="mt-2">
                    <li>æ•°æ®é‡ï¼š100æ¡ vs 1äº¿æ¡</li>
                    <li>å®æ—¶æ€§ï¼šç¦»çº¿å¤„ç† vs æ¯«ç§’çº§å“åº”</li>
                    <li>å®¹é”™æ€§ï¼šå´©æºƒé‡è·‘ vs 7Ã—24ç¨³å®šè¿è¡Œ</li>
                </ul>
            </div>

            <div class="algorithm-steps">
                <h4 class="mb-4" style="color: var(--primary-light);">ğŸ—ï¸ å·¥ä¸šçº§é¢„å¤„ç†ç®¡é“æ¶æ„</h4>

                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h5>æ¨¡å—åŒ–è®¾è®¡</h5>
                        <p>æ¯ä¸ªå¤„ç†æ­¥éª¤ç‹¬ç«‹å°è£…ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">Python - æ¨¡å—åŒ–é¢„å¤„ç†ç®¡é“</span>
                            </div>
                            <div class="code-content">
                                <pre><span class="keyword">from</span> abc <span class="keyword">import</span> ABC, abstractmethod
<span class="keyword">from</span> typing <span class="keyword">import</span> List, Dict, Any
<span class="keyword">import</span> logging

<span class="keyword">class</span> <span class="function">PreprocessStep</span>(ABC):
    <span class="string">"""é¢„å¤„ç†æ­¥éª¤åŸºç±»"""</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self, name: str):
        self.name = name
        self.logger = logging.getLogger(name)

    @abstractmethod
    <span class="keyword">def</span> <span class="function">process</span>(self, text: str) -> str:
        <span class="string">"""å¤„ç†æ–‡æœ¬"""</span>
        <span class="keyword">pass</span>

    <span class="keyword">def</span> <span class="function">__call__</span>(self, text: str) -> str:
        <span class="keyword">try</span>:
            result = self.process(text)
            self.logger.debug(<span class="string">f"å¤„ç†æˆåŠŸ: {self.name}"</span>)
            <span class="keyword">return</span> result
        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:
            self.logger.error(<span class="string">f"å¤„ç†å¤±è´¥: {self.name}, é”™è¯¯: {e}"</span>)
            <span class="comment"># å¤±è´¥æ—¶è¿”å›åŸæ–‡æœ¬ï¼Œä¿è¯ç®¡é“ç»§ç»­è¿è¡Œ</span>
            <span class="keyword">return</span> text

<span class="keyword">class</span> <span class="function">Pipeline</span>:
    <span class="string">"""é¢„å¤„ç†ç®¡é“"""</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self, steps: List[PreprocessStep] = None):
        self.steps = steps <span class="keyword">or</span> []
        self.logger = logging.getLogger(<span class="string">'Pipeline'</span>)

    <span class="keyword">def</span> <span class="function">add_step</span>(self, step: PreprocessStep):
        <span class="string">"""æ·»åŠ å¤„ç†æ­¥éª¤"""</span>
        self.steps.append(step)
        <span class="keyword">return</span> self  <span class="comment"># æ”¯æŒé“¾å¼è°ƒç”¨</span>

    <span class="keyword">def</span> <span class="function">process</span>(self, text: str) -> Dict[str, Any]:
        <span class="string">"""æ‰§è¡Œç®¡é“å¤„ç†"""</span>
        result = {<span class="string">'original'</span>: text}
        current_text = text

        <span class="keyword">for</span> step <span class="keyword">in</span> self.steps:
            current_text = step(current_text)
            result[step.name] = current_text

        result[<span class="string">'final'</span>] = current_text
        <span class="keyword">return</span> result

    <span class="keyword">def</span> <span class="function">batch_process</span>(self, texts: List[str],
                        n_jobs: int = <span class="number">1</span>) -> List[Dict[str, Any]]:
        <span class="string">"""æ‰¹é‡å¤„ç†"""</span>
        <span class="keyword">if</span> n_jobs == <span class="number">1</span>:
            <span class="keyword">return</span> [self.process(text) <span class="keyword">for</span> text <span class="keyword">in</span> texts]
        <span class="keyword">else</span>:
            <span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pool
            <span class="keyword">with</span> Pool(n_jobs) <span class="keyword">as</span> pool:
                <span class="keyword">return</span> pool.map(self.process, texts)</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h5>å®ç°å…·ä½“çš„å¤„ç†æ­¥éª¤</h5>
                        <p>æ ¹æ®ä¸šåŠ¡éœ€æ±‚å®ç°å„ç§é¢„å¤„ç†æ¨¡å—</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">Python - å…·ä½“å¤„ç†æ­¥éª¤å®ç°</span>
                            </div>
                            <div class="code-content collapsed">
                                <pre><span class="keyword">import</span> re
<span class="keyword">import</span> jieba
<span class="keyword">from</span> typing <span class="keyword">import</span> Set

<span class="keyword">class</span> <span class="function">TextCleaner</span>(PreprocessStep):
    <span class="string">"""æ–‡æœ¬æ¸…æ´—æ­¥éª¤"""</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        <span class="keyword">super</span>().__init__(<span class="string">'text_cleaner'</span>)

    <span class="keyword">def</span> <span class="function">process</span>(self, text: str) -> str:
        <span class="comment"># å»é™¤HTML</span>
        text = re.sub(<span class="string">r'<[^>]+>'</span>, <span class="string">''</span>, text)
        <span class="comment"># å»é™¤URL</span>
        text = re.sub(<span class="string">r'https?://[^\s]+'</span>, <span class="string">''</span>, text)
        <span class="comment"># ç»Ÿä¸€ç©ºç™½</span>
        text = re.sub(<span class="string">r'\s+'</span>, <span class="string">' '</span>, text)
        <span class="keyword">return</span> text.strip()

<span class="keyword">class</span> <span class="function">TextNormalizer</span>(PreprocessStep):
    <span class="string">"""æ–‡æœ¬è§„èŒƒåŒ–æ­¥éª¤"""</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        <span class="keyword">super</span>().__init__(<span class="string">'normalizer'</span>)
        <span class="comment"># æ„å»ºæ˜ å°„è¡¨</span>
        self.char_mapping = self._build_mapping()

    <span class="keyword">def</span> <span class="function">_build_mapping</span>(self):
        <span class="string">"""æ„å»ºå­—ç¬¦æ˜ å°„è¡¨"""</span>
        mapping = {}
        <span class="comment"># å…¨è§’è½¬åŠè§’</span>
        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0xFF01</span>, <span class="number">0xFF5F</span>):
            mapping[chr(i)] = chr(i - <span class="number">0xFEE0</span>)
        <span class="comment"># å¸¸è§å˜ä½“</span>
        mapping.update({
            <span class="string">'ã€'</span>: <span class="string">'['</span>, <span class="string">'ã€‘'</span>: <span class="string">']'</span>,
            <span class="string">'ï¼ˆ'</span>: <span class="string">'('</span>, <span class="string">'ï¼‰'</span>: <span class="string">')'</span>,
            <span class="string">'ï½'</span>: <span class="string">'~'</span>, <span class="string">'ï¼'</span>: <span class="string">'!'</span>
        })
        <span class="keyword">return</span> mapping

    <span class="keyword">def</span> <span class="function">process</span>(self, text: str) -> str:
        <span class="comment"># å­—ç¬¦æ›¿æ¢</span>
        chars = []
        <span class="keyword">for</span> char <span class="keyword">in</span> text:
            chars.append(self.char_mapping.get(char, char))
        <span class="keyword">return</span> <span class="string">''</span>.join(chars).lower()

<span class="keyword">class</span> <span class="function">Tokenizer</span>(PreprocessStep):
    <span class="string">"""åˆ†è¯æ­¥éª¤"""</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self, custom_dict: str = None):
        <span class="keyword">super</span>().__init__(<span class="string">'tokenizer'</span>)
        <span class="keyword">if</span> custom_dict:
            jieba.load_userdict(custom_dict)

    <span class="keyword">def</span> <span class="function">process</span>(self, text: str) -> str:
        tokens = jieba.cut(text)
        <span class="keyword">return</span> <span class="string">' '</span>.join(tokens)

<span class="keyword">class</span> <span class="function">StopwordRemover</span>(PreprocessStep):
    <span class="string">"""åœç”¨è¯è¿‡æ»¤æ­¥éª¤"""</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self, stopwords_file: str = None):
        <span class="keyword">super</span>().__init__(<span class="string">'stopword_remover'</span>)
        self.stopwords = self._load_stopwords(stopwords_file)

    <span class="keyword">def</span> <span class="function">_load_stopwords</span>(self, file_path: str) -> Set[str]:
        <span class="keyword">if</span> <span class="keyword">not</span> file_path:
            <span class="keyword">return</span> {<span class="string">'çš„'</span>, <span class="string">'äº†'</span>, <span class="string">'å’Œ'</span>, <span class="string">'æ˜¯'</span>, <span class="string">'åœ¨'</span>}

        <span class="keyword">with</span> open(file_path, <span class="string">'r'</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:
            <span class="keyword">return</span> set(line.strip() <span class="keyword">for</span> line <span class="keyword">in</span> f)

    <span class="keyword">def</span> <span class="function">process</span>(self, text: str) -> str:
        tokens = text.split()
        filtered = [t <span class="keyword">for</span> t <span class="keyword">in</span> tokens <span class="keyword">if</span> t <span class="keyword">not in</span> self.stopwords]
        <span class="keyword">return</span> <span class="string">' '</span>.join(filtered)

<span class="keyword">class</span> <span class="function">LengthFilter</span>(PreprocessStep):
    <span class="string">"""é•¿åº¦è¿‡æ»¤æ­¥éª¤"""</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self, min_len: int = <span class="number">2</span>, max_len: int = <span class="number">1000</span>):
        <span class="keyword">super</span>().__init__(<span class="string">'length_filter'</span>)
        self.min_len = min_len
        self.max_len = max_len

    <span class="keyword">def</span> <span class="function">process</span>(self, text: str) -> str:
        <span class="keyword">if</span> len(text) < self.min_len:
            <span class="keyword">return</span> <span class="string">''</span>
        <span class="keyword">if</span> len(text) > self.max_len:
            <span class="keyword">return</span> text[:self.max_len]
        <span class="keyword">return</span> text</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h5>é…ç½®åŒ–ç®¡ç†</h5>
                        <p>é€šè¿‡é…ç½®æ–‡ä»¶çµæ´»æ§åˆ¶ç®¡é“è¡Œä¸º</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">YAML - ç®¡é“é…ç½®æ–‡ä»¶</span>
                            </div>
                            <div class="code-content">
                                <pre><span class="comment"># preprocess_config.yaml</span>
pipeline:
  name: <span class="string">"production_pipeline"</span>
  version: <span class="string">"1.0.0"</span>

steps:
  - name: <span class="string">"cleaner"</span>
    class: <span class="string">"TextCleaner"</span>
    enabled: <span class="keyword">true</span>

  - name: <span class="string">"normalizer"</span>
    class: <span class="string">"TextNormalizer"</span>
    enabled: <span class="keyword">true</span>

  - name: <span class="string">"tokenizer"</span>
    class: <span class="string">"Tokenizer"</span>
    enabled: <span class="keyword">true</span>
    params:
      custom_dict: <span class="string">"./data/custom_dict.txt"</span>

  - name: <span class="string">"stopword_remover"</span>
    class: <span class="string">"StopwordRemover"</span>
    enabled: <span class="keyword">true</span>
    params:
      stopwords_file: <span class="string">"./data/stopwords.txt"</span>

  - name: <span class="string">"length_filter"</span>
    class: <span class="string">"LengthFilter"</span>
    enabled: <span class="keyword">true</span>
    params:
      min_len: <span class="number">5</span>
      max_len: <span class="number">500</span>

logging:
  level: <span class="string">"INFO"</span>
  format: <span class="string">"%(asctime)s - %(name)s - %(levelname)s - %(message)s"</span>

performance:
  batch_size: <span class="number">1000</span>
  n_jobs: <span class="number">4</span>
  timeout: <span class="number">30</span></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h5>ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²</h5>
                        <p>æ„å»ºé«˜æ€§èƒ½ã€é«˜å¯ç”¨çš„æœåŠ¡</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">Python - ç”Ÿäº§çº§é¢„å¤„ç†æœåŠ¡</span>
                            </div>
                            <div class="code-content collapsed">
                                <pre><span class="keyword">import</span> yaml
<span class="keyword">import</span> asyncio
<span class="keyword">import</span> aioredis
<span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI, HTTPException
<span class="keyword">from</span> pydantic <span class="keyword">import</span> BaseModel
<span class="keyword">from</span> typing <span class="keyword">import</span> List, Optional
<span class="keyword">import</span> hashlib
<span class="keyword">import</span> json

<span class="keyword">class</span> <span class="function">PreprocessRequest</span>(BaseModel):
    texts: List[str]
    pipeline: Optional[str] = <span class="string">"default"</span>
    use_cache: Optional[bool] = <span class="keyword">True</span>

<span class="keyword">class</span> <span class="function">PreprocessResponse</span>(BaseModel):
    results: List[Dict[str, Any]]
    pipeline_used: str
    processing_time: float

<span class="keyword">class</span> <span class="function">PreprocessService</span>:
    <span class="string">"""é¢„å¤„ç†æœåŠ¡"""</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self, config_file: str):
        self.config = self._load_config(config_file)
        self.pipelines = {}
        self.redis = None
        self._init_pipelines()

    <span class="keyword">def</span> <span class="function">_load_config</span>(self, config_file: str):
        <span class="keyword">with</span> open(config_file, <span class="string">'r'</span>) <span class="keyword">as</span> f:
            <span class="keyword">return</span> yaml.safe_load(f)

    <span class="keyword">def</span> <span class="function">_init_pipelines</span>(self):
        <span class="string">"""åˆå§‹åŒ–ç®¡é“"""</span>
        <span class="comment"># æ ¹æ®é…ç½®æ„å»ºç®¡é“</span>
        pipeline = Pipeline()

        <span class="keyword">for</span> step_config <span class="keyword">in</span> self.config[<span class="string">'steps'</span>]:
            <span class="keyword">if</span> <span class="keyword">not</span> step_config.get(<span class="string">'enabled'</span>, <span class="keyword">True</span>):
                <span class="keyword">continue</span>

            <span class="comment"># åŠ¨æ€åŠ è½½ç±»</span>
            class_name = step_config[<span class="string">'class'</span>]
            params = step_config.get(<span class="string">'params'</span>, {})

            <span class="keyword">if</span> class_name == <span class="string">'TextCleaner'</span>:
                step = TextCleaner()
            <span class="keyword">elif</span> class_name == <span class="string">'TextNormalizer'</span>:
                step = TextNormalizer()
            <span class="keyword">elif</span> class_name == <span class="string">'Tokenizer'</span>:
                step = Tokenizer(**params)
            <span class="keyword">elif</span> class_name == <span class="string">'StopwordRemover'</span>:
                step = StopwordRemover(**params)
            <span class="keyword">elif</span> class_name == <span class="string">'LengthFilter'</span>:
                step = LengthFilter(**params)

            pipeline.add_step(step)

        self.pipelines[<span class="string">'default'</span>] = pipeline

    <span class="keyword">async</span> <span class="keyword">def</span> <span class="function">init_cache</span>(self):
        <span class="string">"""åˆå§‹åŒ–ç¼“å­˜"""</span>
        self.redis = <span class="keyword">await</span> aioredis.create_redis_pool(
            <span class="string">'redis://localhost'</span>,
            encoding=<span class="string">'utf-8'</span>
        )

    <span class="keyword">def</span> <span class="function">_get_cache_key</span>(self, text: str, pipeline: str) -> str:
        <span class="string">"""ç”Ÿæˆç¼“å­˜é”®"""</span>
        content = <span class="string">f"{pipeline}:{text}"</span>
        <span class="keyword">return</span> hashlib.md5(content.encode()).hexdigest()

    <span class="keyword">async</span> <span class="keyword">def</span> <span class="function">process_with_cache</span>(self, text: str,
                                   pipeline_name: str) -> Dict[str, Any]:
        <span class="string">"""å¸¦ç¼“å­˜çš„å¤„ç†"""</span>
        cache_key = self._get_cache_key(text, pipeline_name)

        <span class="comment"># å°è¯•ä»ç¼“å­˜è·å–</span>
        <span class="keyword">if</span> self.redis:
            cached = <span class="keyword">await</span> self.redis.get(cache_key)
            <span class="keyword">if</span> cached:
                <span class="keyword">return</span> json.loads(cached)

        <span class="comment"># å¤„ç†æ–‡æœ¬</span>
        pipeline = self.pipelines[pipeline_name]
        result = pipeline.process(text)

        <span class="comment"># å†™å…¥ç¼“å­˜</span>
        <span class="keyword">if</span> self.redis:
            <span class="keyword">await</span> self.redis.setex(
                cache_key,
                <span class="number">3600</span>,  <span class="comment"># 1å°æ—¶è¿‡æœŸ</span>
                json.dumps(result)
            )

        <span class="keyword">return</span> result

    <span class="keyword">async</span> <span class="keyword">def</span> <span class="function">batch_process</span>(self, texts: List[str],
                            pipeline_name: str,
                            use_cache: bool) -> List[Dict[str, Any]]:
        <span class="string">"""æ‰¹é‡å¤„ç†"""</span>
        <span class="keyword">if</span> use_cache <span class="keyword">and</span> self.redis:
            <span class="comment"># å¹¶å‘å¤„ç†</span>
            tasks = [
                self.process_with_cache(text, pipeline_name)
                <span class="keyword">for</span> text <span class="keyword">in</span> texts
            ]
            <span class="keyword">return</span> <span class="keyword">await</span> asyncio.gather(*tasks)
        <span class="keyword">else</span>:
            <span class="comment"># ä¸ä½¿ç”¨ç¼“å­˜</span>
            pipeline = self.pipelines[pipeline_name]
            <span class="keyword">return</span> [pipeline.process(text) <span class="keyword">for</span> text <span class="keyword">in</span> texts]

<span class="comment"># FastAPIåº”ç”¨</span>
app = FastAPI(title=<span class="string">"æ–‡æœ¬é¢„å¤„ç†æœåŠ¡"</span>)
service = PreprocessService(<span class="string">"preprocess_config.yaml"</span>)

@app.on_event(<span class="string">"startup"</span>)
<span class="keyword">async</span> <span class="keyword">def</span> <span class="function">startup_event</span>():
    <span class="keyword">await</span> service.init_cache()

@app.post(<span class="string">"/preprocess"</span>, response_model=PreprocessResponse)
<span class="keyword">async</span> <span class="keyword">def</span> <span class="function">preprocess</span>(request: PreprocessRequest):
    <span class="string">"""é¢„å¤„ç†æ¥å£"""</span>
    <span class="keyword">import</span> time

    start_time = time.time()

    <span class="keyword">try</span>:
        results = <span class="keyword">await</span> service.batch_process(
            request.texts,
            request.pipeline,
            request.use_cache
        )

        processing_time = time.time() - start_time

        <span class="keyword">return</span> PreprocessResponse(
            results=results,
            pipeline_used=request.pipeline,
            processing_time=processing_time
        )

    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:
        <span class="keyword">raise</span> HTTPException(status_code=<span class="number">500</span>, detail=str(e))

@app.get(<span class="string">"/health"</span>)
<span class="keyword">async</span> <span class="keyword">def</span> <span class="function">health_check</span>():
    <span class="string">"""å¥åº·æ£€æŸ¥"""</span>
    <span class="keyword">return</span> {<span class="string">"status"</span>: <span class="string">"healthy"</span>}

<span class="comment"># è¿è¡ŒæœåŠ¡</span>
<span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:
    <span class="keyword">import</span> uvicorn
    uvicorn.run(app, host=<span class="string">"0.0.0.0"</span>, port=<span class="number">8000</span>)</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tip info mt-4">
                <span class="tip-icon">ğŸš€</span>
                <strong>ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ</strong>
                <ul class="mt-2">
                    <li><strong>ç›‘æ§å‘Šè­¦ï¼š</strong>è®°å½•å¤„ç†æ—¶é—´ã€é”™è¯¯ç‡ã€èµ„æºä½¿ç”¨</li>
                    <li><strong>ä¼˜é›…é™çº§ï¼š</strong>æŸä¸ªæ­¥éª¤å¤±è´¥ä¸å½±å“æ•´ä½“</li>
                    <li><strong>ç‰ˆæœ¬ç®¡ç†ï¼š</strong>æ”¯æŒå¤šç‰ˆæœ¬ç®¡é“å…±å­˜</li>
                    <li><strong>A/Bæµ‹è¯•ï¼š</strong>ç°åº¦å‘å¸ƒæ–°çš„é¢„å¤„ç†ç­–ç•¥</li>
                    <li><strong>æ€§èƒ½ä¼˜åŒ–ï¼š</strong>ç¼“å­˜ã€æ‰¹å¤„ç†ã€å¼‚æ­¥å¤„ç†</li>
                </ul>
            </div>
        </section>

        <!-- æ€§èƒ½ä¼˜åŒ– -->
        <section id="optimization" class="section-card">
            <h2>âš¡ æ€§èƒ½ä¼˜åŒ–ï¼šè®©é¢„å¤„ç†é£èµ·æ¥</h2>

            <div class="story-card">
                <span class="story-icon">ğŸŒ</span>
                <p><strong>ä»èœ—ç‰›åˆ°ç«ç®­</strong></p>
                <p class="mt-2">
                    "å¤„ç†100ä¸‡æ¡æ–‡æœ¬è¦è·‘3ä¸ªå°æ—¶ï¼Ÿ"è€æ¿çœ‹ç€è¿›åº¦æ¡ï¼Œçœ‰å¤´ç´§é”ã€‚
                </p>
                <p class="mt-2">
                    "è¿™æ ·ä¸‹å»ï¼Œæˆ‘ä»¬çš„å®æ—¶æ¨èç³»ç»Ÿæ°¸è¿œä¸Šä¸äº†çº¿ã€‚"
                </p>
                <p class="mt-3">
                    ä¸‰å¤©åï¼ŒåŒæ ·çš„100ä¸‡æ¡æ–‡æœ¬ï¼Œ5åˆ†é’Ÿå¤„ç†å®Œæ¯•ã€‚å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ
                </p>
            </div>

            <div class="visualization">
                <h4 class="mb-3" style="color: var(--primary-light);">ğŸ“Š ä¼˜åŒ–å‰åå¯¹æ¯”</h4>

                <div class="card-grid">
                    <div class="info-card">
                        <h5 style="color: var(--danger);">ä¼˜åŒ–å‰</h5>
                        <ul style="font-size: 0.9rem; text-align: left;">
                            <li>å¤„ç†é€Ÿåº¦ï¼š100æ¡/ç§’</li>
                            <li>å†…å­˜å ç”¨ï¼š8GB</li>
                            <li>CPUåˆ©ç”¨ç‡ï¼š25%ï¼ˆå•æ ¸ï¼‰</li>
                            <li>æ€»è€—æ—¶ï¼š3å°æ—¶</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h5 style="color: var(--success);">ä¼˜åŒ–å</h5>
                        <ul style="font-size: 0.9rem; text-align: left;">
                            <li>å¤„ç†é€Ÿåº¦ï¼š3333æ¡/ç§’</li>
                            <li>å†…å­˜å ç”¨ï¼š2GB</li>
                            <li>CPUåˆ©ç”¨ç‡ï¼š95%ï¼ˆ8æ ¸ï¼‰</li>
                            <li>æ€»è€—æ—¶ï¼š5åˆ†é’Ÿ</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="algorithm-steps mt-4">
                <h4 class="mb-4" style="color: var(--primary-light);">ğŸš€ æ€§èƒ½ä¼˜åŒ–ç§˜ç±</h4>

                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h5>æ‰¹å¤„ç†ï¼šåŒ–é›¶ä¸ºæ•´</h5>
                        <p>ä¸è¦ä¸€æ¡ä¸€æ¡å¤„ç†ï¼Œè¦æ‰¹é‡å¤„ç†</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">Python - æ‰¹å¤„ç†ä¼˜åŒ–</span>
                            </div>
                            <div class="code-content">
                                <pre><span class="comment"># âŒ ä½æ•ˆï¼šé€æ¡å¤„ç†</span>
results = []
<span class="keyword">for</span> text <span class="keyword">in</span> texts:
    result = jieba.cut(text)
    results.append(list(result))

<span class="comment"># âœ… é«˜æ•ˆï¼šæ‰¹å¤„ç†</span>
<span class="keyword">def</span> <span class="function">batch_tokenize</span>(texts, batch_size=<span class="number">1000</span>):
    results = []
    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(texts), batch_size):
        batch = texts[i:i+batch_size]
        <span class="comment"># æ‰¹é‡å¤„ç†ï¼Œå‡å°‘å‡½æ•°è°ƒç”¨å¼€é”€</span>
        batch_results = [list(jieba.cut(t)) <span class="keyword">for</span> t <span class="keyword">in</span> batch]
        results.extend(batch_results)
    <span class="keyword">return</span> results</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h5>å¤šè¿›ç¨‹å¹¶è¡Œï¼šæ¦¨å¹²CPU</h5>
                        <p>åˆ©ç”¨å¤šæ ¸CPUå¹¶è¡Œå¤„ç†</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">Python - å¤šè¿›ç¨‹ä¼˜åŒ–</span>
                            </div>
                            <div class="code-content collapsed">
                                <pre><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pool, cpu_count
<span class="keyword">import</span> numpy <span class="keyword">as</span> np

<span class="keyword">def</span> <span class="function">parallel_process</span>(texts, process_func, n_jobs=None):
    <span class="string">"""å¹¶è¡Œå¤„ç†æ–‡æœ¬"""</span>
    <span class="keyword">if</span> n_jobs <span class="keyword">is</span> None:
        n_jobs = cpu_count()

    <span class="comment"># å°†æ•°æ®åˆ†æˆn_jobsä»½</span>
    text_chunks = np.array_split(texts, n_jobs)

    <span class="comment"># åˆ›å»ºè¿›ç¨‹æ± </span>
    <span class="keyword">with</span> Pool(n_jobs) <span class="keyword">as</span> pool:
        <span class="comment"># å¹¶è¡Œå¤„ç†</span>
        results = pool.map(process_func, text_chunks)

    <span class="comment"># åˆå¹¶ç»“æœ</span>
    <span class="keyword">return</span> [item <span class="keyword">for</span> sublist <span class="keyword">in</span> results <span class="keyword">for</span> item <span class="keyword">in</span> sublist]

<span class="comment"># å¤„ç†å‡½æ•°éœ€è¦èƒ½å¤„ç†æ–‡æœ¬åˆ—è¡¨</span>
<span class="keyword">def</span> <span class="function">process_chunk</span>(texts):
    <span class="keyword">return</span> [<span class="string">' '</span>.join(jieba.cut(text)) <span class="keyword">for</span> text <span class="keyword">in</span> texts]

<span class="comment"># ä½¿ç”¨ç¤ºä¾‹</span>
texts = [<span class="string">"æ–‡æœ¬1"</span>, <span class="string">"æ–‡æœ¬2"</span>, ...] * <span class="number">100000</span>
results = parallel_process(texts, process_chunk, n_jobs=<span class="number">8</span>)</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h5>ç¼“å­˜ä¼˜åŒ–ï¼šé¿å…é‡å¤è®¡ç®—</h5>
                        <p>å¯¹é¢‘ç¹å‡ºç°çš„æ–‡æœ¬è¿›è¡Œç¼“å­˜</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">Python - ç¼“å­˜ä¼˜åŒ–</span>
                            </div>
                            <div class="code-content">
                                <pre><span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache
<span class="keyword">import</span> hashlib

<span class="keyword">class</span> <span class="function">CachedTokenizer</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, cache_size=<span class="number">10000</span>):
        self.cache = {}
        self.cache_size = cache_size
        self.hit_count = <span class="number">0</span>
        self.miss_count = <span class="number">0</span>

    <span class="keyword">def</span> <span class="function">_get_key</span>(self, text):
        <span class="comment"># ä½¿ç”¨MD5ä½œä¸ºç¼“å­˜é”®</span>
        <span class="keyword">return</span> hashlib.md5(text.encode()).hexdigest()

    <span class="keyword">def</span> <span class="function">tokenize</span>(self, text):
        key = self._get_key(text)

        <span class="keyword">if</span> key <span class="keyword">in</span> self.cache:
            self.hit_count += <span class="number">1</span>
            <span class="keyword">return</span> self.cache[key]

        self.miss_count += <span class="number">1</span>
        result = list(jieba.cut(text))

        <span class="comment"># LRUç­–ç•¥</span>
        <span class="keyword">if</span> len(self.cache) >= self.cache_size:
            <span class="comment"># åˆ é™¤æœ€æ—©çš„ç¼“å­˜é¡¹</span>
            oldest = <span class="keyword">next</span>(iter(self.cache))
            <span class="keyword">del</span> self.cache[oldest]

        self.cache[key] = result
        <span class="keyword">return</span> result

    <span class="keyword">def</span> <span class="function">stats</span>(self):
        total = self.hit_count + self.miss_count
        hit_rate = self.hit_count / total <span class="keyword">if</span> total > <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span>
        <span class="keyword">return</span> {
            <span class="string">'hit_rate'</span>: hit_rate,
            <span class="string">'cache_size'</span>: len(self.cache)
        }</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h5>å†…å­˜ä¼˜åŒ–ï¼šå‡å°‘å†…å­˜å ç”¨</h5>
                        <p>ä½¿ç”¨ç”Ÿæˆå™¨å’Œæµå¼å¤„ç†</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">Python - å†…å­˜ä¼˜åŒ–</span>
                            </div>
                            <div class="code-content collapsed">
                                <pre><span class="comment"># âŒ å†…å­˜å¯†é›†ï¼šä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰æ•°æ®</span>
<span class="keyword">def</span> <span class="function">process_file_bad</span>(filename):
    <span class="keyword">with</span> open(filename, <span class="string">'r'</span>) <span class="keyword">as</span> f:
        texts = f.readlines()  <span class="comment"># å…¨éƒ¨åŠ è½½åˆ°å†…å­˜</span>

    results = []
    <span class="keyword">for</span> text <span class="keyword">in</span> texts:
        results.append(process_text(text))
    <span class="keyword">return</span> results

<span class="comment"># âœ… å†…å­˜å‹å¥½ï¼šæµå¼å¤„ç†</span>
<span class="keyword">def</span> <span class="function">process_file_stream</span>(filename):
    <span class="string">"""ç”Ÿæˆå™¨æ–¹å¼å¤„ç†å¤§æ–‡ä»¶"""</span>
    <span class="keyword">with</span> open(filename, <span class="string">'r'</span>) <span class="keyword">as</span> f:
        <span class="keyword">for</span> line <span class="keyword">in</span> f:
            <span class="keyword">yield</span> process_text(line.strip())

<span class="comment"># ä½¿ç”¨ç”Ÿæˆå™¨å¤„ç†</span>
<span class="keyword">for</span> result <span class="keyword">in</span> process_file_stream(<span class="string">'huge_file.txt'</span>):
    <span class="comment"># é€æ¡å¤„ç†ï¼Œå†…å­˜å ç”¨ç¨³å®š</span>
    save_to_db(result)

<span class="comment"># å†…å­˜æ˜ å°„æ–‡ä»¶ï¼ˆé€‚åˆéšæœºè®¿é—®ï¼‰</span>
<span class="keyword">import</span> mmap

<span class="keyword">def</span> <span class="function">process_with_mmap</span>(filename):
    <span class="keyword">with</span> open(filename, <span class="string">'r+b'</span>) <span class="keyword">as</span> f:
        <span class="keyword">with</span> mmap.mmap(f.fileno(), <span class="number">0</span>) <span class="keyword">as</span> mmapped_file:
            <span class="comment"># åƒè®¿é—®å†…å­˜ä¸€æ ·è®¿é—®æ–‡ä»¶</span>
            <span class="keyword">for</span> line <span class="keyword">in</span> iter(mmapped_file.readline, <span class="string">b""</span>):
                text = line.decode(<span class="string">'utf-8'</span>).strip()
                <span class="keyword">yield</span> process_text(text)</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <h5>ç®—æ³•ä¼˜åŒ–ï¼šé€‰æ‹©æ›´å¿«çš„ç®—æ³•</h5>
                        <p>ä¸åŒåœºæ™¯é€‰æ‹©ä¸åŒçš„ç®—æ³•å®ç°</p>
                        <div class="comparison-table">
                            <table>
                                <thead>
                                <tr>
                                    <th>ä»»åŠ¡</th>
                                    <th>æ…¢é€Ÿæ–¹æ¡ˆ</th>
                                    <th>å¿«é€Ÿæ–¹æ¡ˆ</th>
                                    <th>åŠ é€Ÿæ¯”</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>åˆ†è¯</td>
                                    <td>æ·±åº¦å­¦ä¹ æ¨¡å‹</td>
                                    <td>è¯å…¸+è§„åˆ™</td>
                                    <td>100x</td>
                                </tr>
                                <tr>
                                    <td>å»é‡</td>
                                    <td>åµŒå¥—å¾ªç¯ O(nÂ²)</td>
                                    <td>å“ˆå¸Œè¡¨ O(n)</td>
                                    <td>1000x</td>
                                </tr>
                                <tr>
                                    <td>æ­£åˆ™åŒ¹é…</td>
                                    <td>å¤æ‚æ­£åˆ™</td>
                                    <td>ç®€å•å­—ç¬¦ä¸²æ“ä½œ</td>
                                    <td>10x</td>
                                </tr>
                                <tr>
                                    <td>ç›¸ä¼¼åº¦è®¡ç®—</td>
                                    <td>ç¼–è¾‘è·ç¦»</td>
                                    <td>SimHash</td>
                                    <td>50x</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">Python - å®Œæ•´çš„ä¼˜åŒ–ç¤ºä¾‹</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="toggleCode(this)">å±•å¼€</button>
                        <button class="code-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                    </div>
                </div>
                <div class="code-content collapsed">
                    <pre><span class="keyword">import</span> time
<span class="keyword">import</span> psutil
<span class="keyword">import</span> os
<span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pool, Manager
<span class="keyword">from</span> threading <span class="keyword">import</span> Thread
<span class="keyword">from</span> queue <span class="keyword">import</span> Queue
<span class="keyword">import</span> numpy <span class="keyword">as</span> np

<span class="keyword">class</span> <span class="function">OptimizedPreprocessor</span>:
    <span class="string">"""ä¼˜åŒ–çš„é¢„å¤„ç†å™¨"""</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self, n_workers=None, cache_size=<span class="number">10000</span>):
        self.n_workers = n_workers <span class="keyword">or</span> os.cpu_count()
        self.cache_size = cache_size
        self.stats = {
            <span class="string">'processed'</span>: <span class="number">0</span>,
            <span class="string">'cache_hits'</span>: <span class="number">0</span>,
            <span class="string">'processing_time'</span>: <span class="number">0</span>
        }

    <span class="keyword">def</span> <span class="function">preprocess_batch_optimized</span>(self, texts, batch_size=<span class="number">1000</span>):
        <span class="string">"""ä¼˜åŒ–çš„æ‰¹å¤„ç†"""</span>
        start_time = time.time()

        <span class="comment"># 1. å»é‡ä¼˜åŒ–ï¼šç›¸åŒæ–‡æœ¬åªå¤„ç†ä¸€æ¬¡</span>
        unique_texts = list(set(texts))
        text_to_index = {text: [] <span class="keyword">for</span> text <span class="keyword">in</span> unique_texts}
        <span class="keyword">for</span> i, text <span class="keyword">in</span> enumerate(texts):
            text_to_index[text].append(i)

        print(<span class="string">f"å»é‡æ•ˆæœï¼š{len(texts)} â†’ {len(unique_texts)}"</span>)

        <span class="comment"># 2. åˆ†æ‰¹å¤„ç†</span>
        batches = [unique_texts[i:i+batch_size]
                   <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(unique_texts), batch_size)]

        <span class="comment"># 3. å¤šè¿›ç¨‹å¹¶è¡Œ</span>
        <span class="keyword">with</span> Pool(self.n_workers) <span class="keyword">as</span> pool:
            batch_results = pool.map(self._process_batch, batches)

        <span class="comment"># 4. ç»“æœé‡ç»„</span>
        processed_texts = {}
        <span class="keyword">for</span> batch, results <span class="keyword">in</span> zip(batches, batch_results):
            <span class="keyword">for</span> text, result <span class="keyword">in</span> zip(batch, results):
                processed_texts[text] = result

        <span class="comment"># 5. æ¢å¤åŸå§‹é¡ºåº</span>
        final_results = [<span class="keyword">None</span>] * len(texts)
        <span class="keyword">for</span> text, indices <span class="keyword">in</span> text_to_index.items():
            result = processed_texts[text]
            <span class="keyword">for</span> idx <span class="keyword">in</span> indices:
                final_results[idx] = result

        self.stats[<span class="string">'processed'</span>] += len(texts)
        self.stats[<span class="string">'processing_time'</span>] += time.time() - start_time

        <span class="keyword">return</span> final_results

    <span class="keyword">def</span> <span class="function">_process_batch</span>(self, texts):
        <span class="string">"""å¤„ç†ä¸€ä¸ªæ‰¹æ¬¡"""</span>
        <span class="comment"># å¯¼å…¥æ”¾åœ¨å‡½æ•°å†…ï¼Œé¿å…å¤šè¿›ç¨‹é—®é¢˜</span>
        <span class="keyword">import</span> jieba
        results = []

        <span class="keyword">for</span> text <span class="keyword">in</span> texts:
            <span class="comment"># æ¸…æ´—</span>
            text = text.strip().lower()
            <span class="comment"># åˆ†è¯</span>
            tokens = list(jieba.cut(text))
            <span class="comment"># è¿‡æ»¤</span>
            tokens = [t <span class="keyword">for</span> t <span class="keyword">in</span> tokens <span class="keyword">if</span> len(t) > <span class="number">1</span>]
            results.append(<span class="string">' '</span>.join(tokens))

        <span class="keyword">return</span> results

    <span class="keyword">def</span> <span class="function">benchmark</span>(self, texts):
        <span class="string">"""æ€§èƒ½æµ‹è¯•"""</span>
        print(<span class="string">"=== æ€§èƒ½æµ‹è¯• ==="</span>)
        print(<span class="string">f"æ–‡æœ¬æ•°é‡ï¼š{len(texts)}"</span>)
        print(<span class="string">f"CPUæ ¸å¿ƒæ•°ï¼š{self.n_workers}"</span>)

        <span class="comment"># å†…å­˜ä½¿ç”¨ï¼ˆå¼€å§‹ï¼‰</span>
        process = psutil.Process(os.getpid())
        mem_before = process.memory_info().rss / <span class="number">1024</span> / <span class="number">1024</span>  <span class="comment"># MB</span>

        <span class="comment"># å¤„ç†</span>
        start = time.time()
        results = self.preprocess_batch_optimized(texts)
        end = time.time()

        <span class="comment"># å†…å­˜ä½¿ç”¨ï¼ˆç»“æŸï¼‰</span>
        mem_after = process.memory_info().rss / <span class="number">1024</span> / <span class="number">1024</span>  <span class="comment"># MB</span>

        <span class="comment"># ç»Ÿè®¡</span>
        duration = end - start
        speed = len(texts) / duration

        print(<span class="string">f"\nå¤„ç†æ—¶é—´ï¼š{duration:.2f} ç§’"</span>)
        print(<span class="string">f"å¤„ç†é€Ÿåº¦ï¼š{speed:.0f} æ¡/ç§’"</span>)
        print(<span class="string">f"å†…å­˜ä½¿ç”¨ï¼š{mem_before:.1f}MB â†’ {mem_after:.1f}MB"</span>)
        print(<span class="string">f"å†…å­˜å¢é•¿ï¼š{mem_after - mem_before:.1f}MB"</span>)

        <span class="keyword">return</span> results

<span class="comment"># ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼ï¼ˆé€‚åˆå®æ—¶å¤„ç†ï¼‰</span>
<span class="keyword">class</span> <span class="function">StreamProcessor</span>:
    <span class="string">"""æµå¼å¤„ç†å™¨"""</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self, n_consumers=<span class="number">4</span>):
        self.queue = Queue(maxsize=<span class="number">1000</span>)
        self.n_consumers = n_consumers
        self.results = {}
        self.running = <span class="keyword">False</span>

    <span class="keyword">def</span> <span class="function">start</span>(self):
        <span class="string">"""å¯åŠ¨æ¶ˆè´¹è€…çº¿ç¨‹"""</span>
        self.running = <span class="keyword">True</span>
        self.consumers = []

        <span class="keyword">for</span> i <span class="keyword">in</span> range(self.n_consumers):
            t = Thread(target=self._consumer, args=(i,))
            t.start()
            self.consumers.append(t)

    <span class="keyword">def</span> <span class="function">stop</span>(self):
        <span class="string">"""åœæ­¢å¤„ç†"""</span>
        self.running = <span class="keyword">False</span>
        <span class="keyword">for</span> _ <span class="keyword">in</span> range(self.n_consumers):
            self.queue.put(<span class="keyword">None</span>)
        <span class="keyword">for</span> t <span class="keyword">in</span> self.consumers:
            t.join()

    <span class="keyword">def</span> <span class="function">process</span>(self, text_id, text):
        <span class="string">"""æ·»åŠ æ–‡æœ¬åˆ°å¤„ç†é˜Ÿåˆ—"""</span>
        self.queue.put((text_id, text))

    <span class="keyword">def</span> <span class="function">_consumer</span>(self, consumer_id):
        <span class="string">"""æ¶ˆè´¹è€…çº¿ç¨‹"""</span>
        <span class="keyword">import</span> jieba

        <span class="keyword">while</span> self.running:
            item = self.queue.get()
            <span class="keyword">if</span> item <span class="keyword">is</span> <span class="keyword">None</span>:
                <span class="keyword">break</span>

            text_id, text = item
            <span class="comment"># å¤„ç†æ–‡æœ¬</span>
            tokens = list(jieba.cut(text))
            result = <span class="string">' '</span>.join(tokens)

            <span class="comment"># ä¿å­˜ç»“æœ</span>
            self.results[text_id] = result

            <span class="keyword">if</span> text_id % <span class="number">1000</span> == <span class="number">0</span>:
                print(<span class="string">f"Consumer {consumer_id}: å·²å¤„ç† {text_id} æ¡"</span>)

<span class="comment"># ä½¿ç”¨ç¤ºä¾‹</span>
<span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:
    <span class="comment"># ç”Ÿæˆæµ‹è¯•æ•°æ®</span>
    test_texts = [
        <span class="string">"è¿™æ˜¯ä¸€æ®µæµ‹è¯•æ–‡æœ¬ï¼Œç”¨äºæ€§èƒ½æµ‹è¯•ã€‚"</span> * <span class="number">10</span>,
        <span class="string">"è‡ªç„¶è¯­è¨€å¤„ç†æ˜¯äººå·¥æ™ºèƒ½çš„é‡è¦åˆ†æ”¯ã€‚"</span> * <span class="number">5</span>,
        <span class="string">"ä¼˜åŒ–ç®—æ³•å¯ä»¥æ˜¾è‘—æå‡å¤„ç†é€Ÿåº¦ã€‚"</span> * <span class="number">8</span>
    ] * <span class="number">10000</span>

    <span class="comment"># æ‰¹å¤„ç†ä¼˜åŒ–æµ‹è¯•</span>
    processor = OptimizedPreprocessor(n_workers=<span class="number">8</span>)
    results = processor.benchmark(test_texts)

    <span class="comment"># æµå¼å¤„ç†ç¤ºä¾‹</span>
    print(<span class="string">"\n=== æµå¼å¤„ç†ç¤ºä¾‹ ==="</span>)
    stream_processor = StreamProcessor(n_consumers=<span class="number">4</span>)
    stream_processor.start()

    <span class="comment"># æ¨¡æ‹Ÿå®æ—¶æ•°æ®æµ</span>
    <span class="keyword">for</span> i, text <span class="keyword">in</span> enumerate(test_texts[:<span class="number">1000</span>]):
        stream_processor.process(i, text)
        <span class="keyword">if</span> i % <span class="number">100</span> == <span class="number">0</span>:
            time.sleep(<span class="number">0.01</span>)  <span class="comment"># æ¨¡æ‹Ÿæ•°æ®åˆ°è¾¾é—´éš”</span>

    stream_processor.stop()
    print(<span class="string">f"æµå¼å¤„ç†å®Œæˆï¼Œå…±å¤„ç† {len(stream_processor.results)} æ¡"</span>)</pre>
                </div>
            </div>

            <div class="tip warning mt-4">
                <span class="tip-icon">âš ï¸</span>
                <strong>æ€§èƒ½ä¼˜åŒ–çš„é™·é˜±</strong>
                <ul class="mt-2">
                    <li><strong>è¿‡æ—©ä¼˜åŒ–ï¼š</strong>å…ˆè®©ä»£ç æ­£ç¡®è¿è¡Œï¼Œå†è€ƒè™‘ä¼˜åŒ–</li>
                    <li><strong>è¿‡åº¦ä¼˜åŒ–ï¼š</strong>ä¸è¦ä¸ºäº†10%çš„æå‡ç‰ºç‰²ä»£ç å¯è¯»æ€§</li>
                    <li><strong>å¿½è§†ç“¶é¢ˆï¼š</strong>ç”¨profileræ‰¾åˆ°çœŸæ­£çš„æ€§èƒ½ç“¶é¢ˆ</li>
                    <li><strong>å†…å­˜æ³„æ¼ï¼š</strong>æ³¨æ„å¤§å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†</li>
                </ul>
            </div>
        </section>

        <!-- æœ¬ç« æ€»ç»“ -->
        <section id="summary" class="section-card">
            <h2>ğŸ“š æœ¬ç« æ€»ç»“</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ“</span>
                <p><strong>ä»bugåˆ°é¡¿æ‚Ÿ</strong></p>
                <p class="mt-2">
                    è¿˜è®°å¾—å¼€ç¯‡é‚£ä¸ª"iPhone11"çš„bugå—ï¼Ÿä¸€ä¸ªå°å°çš„ç©ºæ ¼ï¼Œå¼•å‘äº†æˆ‘ä»¬å¯¹æ–‡æœ¬é¢„å¤„ç†çš„æ·±å…¥æ¢ç´¢ã€‚
                </p>
                <p class="mt-2">
                    ç°åœ¨å›å¤´çœ‹ï¼Œæ–‡æœ¬é¢„å¤„ç†å°±åƒç»™æœºå™¨æˆ´ä¸Šäº†ä¸€å‰¯"çœ¼é•œ"ï¼Œè®©å®ƒèƒ½çœ‹æ¸…äººç±»è¯­è¨€çš„çœŸå®é¢è²Œã€‚
                </p>
            </div>

            <div class="flow-diagram">
                <h4 class="text-center mb-4" style="color: var(--primary-light);">ğŸ—ºï¸ çŸ¥è¯†åœ°å›¾</h4>

                <div class="visualization">
                    <svg width="800" height="500" viewBox="0 0 800 500" style="max-width: 100%;">
                        <!-- ä¸­å¿ƒèŠ‚ç‚¹ -->
                        <circle cx="400" cy="250" r="60" fill="#6366f1" />
                        <text x="400" y="255" text-anchor="middle" fill="white" font-size="14" font-weight="bold">æ–‡æœ¬é¢„å¤„ç†</text>

                        <!-- åˆ†æ”¯èŠ‚ç‚¹ -->
                        <!-- æ–‡æœ¬æ¸…æ´— -->
                        <circle cx="200" cy="100" r="40" fill="#ec4899" />
                        <text x="200" y="105" text-anchor="middle" fill="white" font-size="12">æ–‡æœ¬æ¸…æ´—</text>
                        <line x1="360" y1="220" x2="240" y2="130" stroke="#64748b" stroke-width="2" />

                        <!-- åˆ†è¯ -->
                        <circle cx="600" cy="100" r="40" fill="#10b981" />
                        <text x="600" y="105" text-anchor="middle" fill="white" font-size="12">åˆ†è¯</text>
                        <line x1="440" y1="220" x2="560" y2="130" stroke="#64748b" stroke-width="2" />

                        <!-- è¯æ€§æ ‡æ³¨ -->
                        <circle cx="200" cy="400" r="40" fill="#f59e0b" />
                        <text x="200" y="405" text-anchor="middle" fill="white" font-size="12">è¯æ€§æ ‡æ³¨</text>
                        <line x1="360" y1="280" x2="240" y2="370" stroke="#64748b" stroke-width="2" />

                        <!-- NER -->
                        <circle cx="600" cy="400" r="40" fill="#3b82f6" />
                        <text x="600" y="405" text-anchor="middle" fill="white" font-size="12">å®ä½“è¯†åˆ«</text>
                        <line x1="440" y1="280" x2="560" y2="370" stroke="#64748b" stroke-width="2" />

                        <!-- å­èŠ‚ç‚¹ -->
                        <g font-size="10" fill="#94a3b8">
                            <!-- æ–‡æœ¬æ¸…æ´—å­èŠ‚ç‚¹ -->
                            <circle cx="100" cy="50" r="20" fill="#334155" />
                            <text x="100" y="53" text-anchor="middle">å»å™ª</text>
                            <line x1="180" y1="85" x2="120" y2="65" stroke="#475569" stroke-width="1" />

                            <circle cx="100" cy="150" r="20" fill="#334155" />
                            <text x="100" y="153" text-anchor="middle">è§„èŒƒåŒ–</text>
                            <line x1="180" y1="115" x2="120" y2="135" stroke="#475569" stroke-width="1" />

                            <!-- åˆ†è¯å­èŠ‚ç‚¹ -->
                            <circle cx="700" cy="50" r="20" fill="#334155" />
                            <text x="700" y="53" text-anchor="middle">ç®—æ³•</text>
                            <line x1="620" y1="85" x2="680" y2="65" stroke="#475569" stroke-width="1" />

                            <circle cx="700" cy="150" r="20" fill="#334155" />
                            <text x="700" y="153" text-anchor="middle">å·¥å…·</text>
                            <line x1="620" y1="115" x2="680" y2="135" stroke="#475569" stroke-width="1" />
                        </g>
                    </svg>
                </div>
            </div>

            <div class="card-grid mt-4">
                <div class="info-card">
                    <span class="card-icon">ğŸ¯</span>
                    <h3 class="card-title">æ ¸å¿ƒè¦ç‚¹</h3>
                    <ul>
                        <li>æ–‡æœ¬é¢„å¤„ç†æ˜¯NLPçš„åŸºç¡€ï¼Œè´¨é‡å†³å®šä¸Šé™</li>
                        <li>åˆ†è¯æ˜¯ä¸­æ–‡NLPçš„ç‰¹æ®ŠæŒ‘æˆ˜</li>
                        <li>ä¸åŒä»»åŠ¡éœ€è¦ä¸åŒçš„é¢„å¤„ç†ç­–ç•¥</li>
                        <li>å·¥ç¨‹å®è·µå’Œç®—æ³•åŒæ ·é‡è¦</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ’¡</span>
                    <h3 class="card-title">å®è·µå»ºè®®</h3>
                    <ul>
                        <li>å…ˆç”¨jiebaå¿«é€ŸåŸå‹ï¼Œå†è€ƒè™‘å…¶ä»–å·¥å…·</li>
                        <li>å»ºç«‹é¢†åŸŸè¯å…¸ï¼ŒæŒç»­è¿­ä»£ä¼˜åŒ–</li>
                        <li>ä¿ç•™åŸå§‹æ•°æ®ï¼Œé¢„å¤„ç†è¦å¯è¿½æº¯</li>
                        <li>æ€§èƒ½ä¼˜åŒ–è¦åŸºäºå®é™…ç“¶é¢ˆ</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸš€</span>
                    <h3 class="card-title">è¿›é˜¶æ–¹å‘</h3>
                    <ul>
                        <li>æ·±åº¦å­¦ä¹ åˆ†è¯æ¨¡å‹ï¼ˆBERT-basedï¼‰</li>
                        <li>å¤šè¯­è¨€ç»Ÿä¸€å¤„ç†æ¡†æ¶</li>
                        <li>å®æ—¶æµå¼å¤„ç†ä¼˜åŒ–</li>
                        <li>è‡ªé€‚åº”é¢„å¤„ç†ç­–ç•¥</li>
                    </ul>
                </div>
            </div>

            <div class="tip success mt-4">
                <span class="tip-icon">ğŸŒŸ</span>
                <strong>è®°ä½ï¼šé¢„å¤„ç†ä¸æ˜¯ç›®çš„ï¼Œè€Œæ˜¯æ‰‹æ®µ</strong>
                <p class="mt-2">
                    å¥½çš„é¢„å¤„ç†åº”è¯¥æ˜¯é€æ˜çš„â€”â€”å®ƒé»˜é»˜å·¥ä½œï¼Œè®©åç»­çš„NLPä»»åŠ¡èƒ½å¤Ÿä¸“æ³¨äºçœŸæ­£çš„è¯­è¨€ç†è§£ï¼Œè€Œä¸æ˜¯çº ç»“äºæ–‡æœ¬çš„è¡¨é¢å½¢å¼ã€‚
                </p>
                <p class="mt-2">
                    å°±åƒé‚£ä¸ªiPhone11çš„bugï¼Œè§£å†³ä¹‹åï¼Œç”¨æˆ·ç”šè‡³ä¸ä¼šæ„è¯†åˆ°æ›¾ç»æœ‰è¿‡è¿™ä¸ªé—®é¢˜ã€‚è¿™å°±æ˜¯ä¼˜ç§€å·¥ç¨‹çš„é­…åŠ›â€”â€”<strong>æŠŠå¤æ‚ç•™ç»™è‡ªå·±ï¼ŒæŠŠç®€å•ç•™ç»™ç”¨æˆ·ã€‚</strong>
                </p>
            </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="exercises" class="section-card">
            <h2>ğŸ‹ï¸ åŠ¨æ‰‹ç»ƒä¹ </h2>

            <div class="algorithm-steps">
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h5>åŸºç¡€ç»ƒä¹ ï¼šå®ç°ä¸€ä¸ªç®€å•çš„åˆ†è¯å™¨</h5>
                        <p>ä¸ä½¿ç”¨ä»»ä½•å¤–éƒ¨åº“ï¼Œå®ç°æœ€å¤§åŒ¹é…åˆ†è¯ç®—æ³•</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">Python - ç»ƒä¹ æ¨¡æ¿</span>
                            </div>
                            <div class="code-content">
                                <pre><span class="keyword">def</span> <span class="function">max_match_tokenize</span>(text, dictionary):
    <span class="string">"""
    å®ç°æ­£å‘æœ€å¤§åŒ¹é…åˆ†è¯

    è¾“å…¥ï¼š
    - text: å¾…åˆ†è¯æ–‡æœ¬
    - dictionary: è¯å…¸é›†åˆ

    è¾“å‡ºï¼š
    - tokens: åˆ†è¯ç»“æœåˆ—è¡¨

    æç¤ºï¼š
    1. ä»å·¦åˆ°å³æ‰«æ
    2. æ¯æ¬¡æ‰¾æœ€é•¿çš„åŒ¹é…è¯
    3. æ‰¾ä¸åˆ°å°±å•å­—æˆè¯
    """</span>
    <span class="comment"># ä½ çš„ä»£ç </span>
    <span class="keyword">pass</span>

<span class="comment"># æµ‹è¯•</span>
dictionary = {<span class="string">'ç ”ç©¶'</span>, <span class="string">'ç ”ç©¶ç”Ÿ'</span>, <span class="string">'ç”Ÿå‘½'</span>, <span class="string">'èµ·æº'</span>}
text = <span class="string">"ç ”ç©¶ç”Ÿå‘½èµ·æº"</span>
<span class="comment"># æœŸæœ›è¾“å‡ºï¼š['ç ”ç©¶', 'ç”Ÿå‘½', 'èµ·æº']</span></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h5>è¿›é˜¶ç»ƒä¹ ï¼šæ„å»ºæ–‡æœ¬æ¸…æ´—ç®¡é“</h5>
                        <p>è®¾è®¡ä¸€ä¸ªå¯é…ç½®çš„æ–‡æœ¬æ¸…æ´—ç³»ç»Ÿï¼Œå¤„ç†çœŸå®çš„ç¤¾äº¤åª’ä½“æ•°æ®</p>
                        <div class="demo-container">
                            <p><strong>éœ€æ±‚ï¼š</strong></p>
                            <ul>
                                <li>æ”¯æŒé“¾å¼å¤„ç†</li>
                                <li>å¯é…ç½®æ¸…æ´—è§„åˆ™</li>
                                <li>æä¾›æ¸…æ´—æŠ¥å‘Š</li>
                                <li>å¤„ç†emojiã€@æåŠã€#è¯é¢˜ç­‰</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h5>æŒ‘æˆ˜ç»ƒä¹ ï¼šæ€§èƒ½ä¼˜åŒ–å®æˆ˜</h5>
                        <p>ç»™å®š100ä¸‡æ¡ç”µå•†è¯„è®ºï¼Œä¼˜åŒ–é¢„å¤„ç†é€Ÿåº¦</p>
                        <div class="demo-container">
                            <p><strong>ç›®æ ‡ï¼š</strong></p>
                            <ul>
                                <li>å¤„ç†é€Ÿåº¦ > 10000æ¡/ç§’</li>
                                <li>å†…å­˜å ç”¨ < 1GB</li>
                                <li>æ”¯æŒå¢é‡å¤„ç†</li>
                                <li>ç»“æœå¯å¤ç°</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tip info mt-4">
                <span class="tip-icon">ğŸ’­</span>
                <strong>æ€è€ƒé¢˜</strong>
                <ul class="mt-2">
                    <li>ä¸ºä»€ä¹ˆè‹±æ–‡åˆ†è¯ç›¸å¯¹ç®€å•ï¼Œä½†è‹±æ–‡NLPä»ç„¶å¾ˆéš¾ï¼Ÿ</li>
                    <li>æ·±åº¦å­¦ä¹ æ—¶ä»£ï¼Œä¼ ç»Ÿçš„åˆ†è¯æŠ€æœ¯è¿˜æœ‰ä»·å€¼å—ï¼Ÿ</li>
                    <li>å¦‚ä½•è¯„ä¼°é¢„å¤„ç†çš„æ•ˆæœï¼Ÿæœ‰å“ªäº›æŒ‡æ ‡ï¼Ÿ</li>
                    <li>é¢„å¤„ç†ä¼šä¸ä¼šä¸¢å¤±ä¿¡æ¯ï¼Ÿå¦‚ä½•æƒè¡¡ï¼Ÿ</li>
                </ul>
            </div>
        </section>
    </div>
</main>

<!-- JavaScript -->
<script>
    // è¿›åº¦æ¡
    window.addEventListener('scroll', function() {
        const winScroll = document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrolled = (winScroll / height) * 100;
        document.getElementById('progress-bar').style.width = scrolled + '%';
    });

    // ä¾§è¾¹æ åˆ‡æ¢
    document.getElementById('toggle-sidebar').addEventListener('click', function() {
        document.getElementById('sidebar').classList.toggle('open');
    });

    // ç›®å½•é«˜äº®
    const sections = document.querySelectorAll('section[id]');
    const tocItems = document.querySelectorAll('.toc-item');

    window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (scrollY >= sectionTop - 100) {
                current = section.getAttribute('id');
            }
        });

        tocItems.forEach(item => {
            item.classList.remove('active');
            if (item.getAttribute('href') === `#${current}`) {
                item.classList.add('active');
            }
        });
    });

    // å¿«é€Ÿå¯¼èˆª
    const quickNavItems = document.querySelectorAll('.quick-nav-item');
    quickNavItems.forEach(item => {
        item.addEventListener('click', function() {
            const section = this.getAttribute('data-section');
            document.getElementById(section).scrollIntoView({ behavior: 'smooth' });
        });
    });

    // åˆ†è¯æ¼”ç¤º
    function tokenizeDemo() {
        const input = document.getElementById('demo-input').value;
        const resultDiv = document.getElementById('demo-result');

        if (!input.trim()) {
            resultDiv.innerHTML = '<p class="text-muted">è¯·è¾“å…¥æ–‡æœ¬...</p>';
            return;
        }

        // æ¨¡æ‹Ÿåˆ†è¯ï¼ˆå®é™…åº”è°ƒç”¨åç«¯APIï¼‰
        const tokens = simulateTokenize(input);

        let html = '<div class="mb-3"><strong>åˆ†è¯ç»“æœï¼š</strong></div><div>';
        tokens.forEach(token => {
            html += `<span class="token token-word">${token}</span>`;
        });
        html += '</div>';

        html += `<div class="mt-3 text-muted">å…± ${tokens.length} ä¸ªè¯</div>`;

        resultDiv.innerHTML = html;
    }

    function simulateTokenize(text) {
        // ç®€å•çš„æ¨¡æ‹Ÿåˆ†è¯
        const dict = ['æˆ‘', 'çˆ±', 'è‡ªç„¶', 'è¯­è¨€', 'å¤„ç†', 'æŠ€æœ¯', 'è‡ªç„¶è¯­è¨€', 'å¤„ç†æŠ€æœ¯'];
        const tokens = [];
        let i = 0;

        while (i < text.length) {
            let matched = false;
            // ä»é•¿åˆ°çŸ­å°è¯•åŒ¹é…
            for (let len = Math.min(7, text.length - i); len > 0; len--) {
                const sub = text.substr(i, len);
                if (dict.includes(sub) || len === 1) {
                    tokens.push(sub);
                    i += len;
                    matched = true;
                    break;
                }
            }
            if (!matched) i++;
        }

        return tokens;
    }

    function clearDemo() {
        document.getElementById('demo-input').value = '';
        document.getElementById('demo-result').innerHTML = '<p class="text-muted">åˆ†è¯ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</p>';
    }

    // ä»£ç æŠ˜å 
    function toggleCode(btn) {
        const codeContent = btn.parentElement.parentElement.nextElementSibling;
        if (codeContent.classList.contains('collapsed')) {
            codeContent.classList.remove('collapsed');
            btn.textContent = 'æŠ˜å ';
        } else {
            codeContent.classList.add('collapsed');
            btn.textContent = 'å±•å¼€';
        }
    }

    // å¤åˆ¶ä»£ç 
    function copyCode(btn) {
        const codeContent = btn.parentElement.parentElement.nextElementSibling;
        const code = codeContent.querySelector('pre').textContent;

        navigator.clipboard.writeText(code).then(() => {
            const originalText = btn.textContent;
            btn.textContent = 'å·²å¤åˆ¶ï¼';
            setTimeout(() => {
                btn.textContent = originalText;
            }, 2000);
        });
    }
</script>

</body>
</html>