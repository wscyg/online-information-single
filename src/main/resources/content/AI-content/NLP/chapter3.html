<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬3ç« ï¼šè¯å‘é‡ä¸æ–‡æœ¬è¡¨ç¤º - è®©æœºå™¨ç†è§£è¯­ä¹‰</title>
    <meta name="description" content="ä»å›½ç‹-ç”·äºº+å¥³äºº=ï¼Ÿè¯´èµ·ï¼Œæ·±å…¥ç†è§£è¯å‘é‡çš„é­”æ³•">

    <!-- KaTeXæ”¯æŒ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
            onload="renderMathInElement(document.body, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '$', right: '$', display: false}
                ]
            });"></script>

    <style>
        /* ===== CSSå˜é‡å®šä¹‰ ===== */
        :root {
            /* æ¸å˜è‰² */
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --hero-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --card-gradient: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.05));

            /* ä¸»é¢˜è‰² */
            --primary: #6366f1;
            --primary-light: #818cf8;
            --primary-dark: #4f46e5;
            --secondary: #ec4899;
            --accent: #10b981;

            /* åŠŸèƒ½è‰² */
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;

            /* èƒŒæ™¯è‰² */
            --bg-dark: #0f172a;
            --bg-section: #1e293b;
            --bg-card: #334155;
            --bg-code: #0d1117;

            /* æ–‡å­—è‰² */
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;

            /* å…¶ä»– */
            --border-color: rgba(255, 255, 255, 0.1);
            --shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            --shadow-lg: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            --radius: 1rem;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* ===== å…¨å±€æ ·å¼ ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.7;
            font-size: 16px;
            overflow-x: hidden;
        }

        /* ===== èƒŒæ™¯æ•ˆæœ ===== */
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.03;
            background-image:
                    repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255,255,255,.5) 35px, rgba(255,255,255,.5) 70px);
            pointer-events: none;
            z-index: 0;
        }

        .floating-shapes {
            position: fixed;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
        }

        .shape {
            position: absolute;
            opacity: 0.1;
            animation: float 20s infinite ease-in-out;
        }

        .shape:nth-child(1) {
            width: 80px;
            height: 80px;
            background: var(--primary);
            border-radius: 50%;
            left: 10%;
            top: 20%;
            animation-delay: 0s;
        }

        .shape:nth-child(2) {
            width: 120px;
            height: 120px;
            background: var(--secondary);
            border-radius: 38% 62% 63% 37% / 41% 44% 56% 59%;
            left: 70%;
            top: 60%;
            animation-delay: 2s;
        }

        .shape:nth-child(3) {
            width: 100px;
            height: 100px;
            background: var(--accent);
            border-radius: 63% 37% 54% 46% / 55% 48% 52% 45%;
            left: 40%;
            top: 80%;
            animation-delay: 4s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-30px) rotate(120deg); }
            66% { transform: translateY(30px) rotate(240deg); }
        }

        /* ===== å¸ƒå±€ ===== */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
            position: relative;
            z-index: 1;
        }

        /* ===== å¯¼èˆªæ  ===== */
        .nav-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.85);
            backdrop-filter: blur(20px);
            z-index: 1000;
            border-bottom: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .nav-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 0;
        }

        .nav-title {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .nav-title h1 {
            font-size: 1.25rem;
            font-weight: 600;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-menu {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        /* è¿›åº¦æ¡ */
        .progress-container {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: rgba(255, 255, 255, 0.1);
        }

        .progress-bar {
            height: 100%;
            background: var(--primary-gradient);
            width: 0;
            transition: width 0.3s ease;
        }

        /* ===== ä¾§è¾¹æ  ===== */
        .sidebar {
            position: fixed;
            left: -300px;
            top: 60px;
            bottom: 0;
            width: 300px;
            background: var(--bg-section);
            border-right: 1px solid var(--border-color);
            padding: 2rem;
            overflow-y: auto;
            transition: transform 0.3s ease;
            z-index: 999;
            box-shadow: 5px 0 25px rgba(0, 0, 0, 0.5);
        }

        .sidebar.open {
            transform: translateX(300px);
        }

        .toc-title {
            color: var(--primary-light);
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .toc-section {
            margin-bottom: 1.5rem;
        }

        .toc-section-title {
            color: var(--text-muted);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
            padding-left: 0.5rem;
        }

        .toc-item {
            display: block;
            padding: 0.75rem 1rem;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
            margin-bottom: 0.25rem;
            font-size: 0.95rem;
            position: relative;
            overflow: hidden;
        }

        .toc-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--primary);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }

        .toc-item:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            padding-left: 1.5rem;
        }

        .toc-item.active {
            background: var(--card-gradient);
            color: var(--primary-light);
        }

        .toc-item.active::before {
            transform: translateX(0);
        }

        /* ===== æŒ‰é’®æ ·å¼ ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-size: 0.95rem;
            font-weight: 500;
            text-decoration: none;
            transition: var(--transition);
            cursor: pointer;
            border: none;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.5s, height 0.5s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: var(--primary-gradient);
            color: white;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-icon {
            background: transparent;
            padding: 0.5rem;
            color: var(--text-secondary);
        }

        /* ===== ä¸»å†…å®¹ ===== */
        main {
            margin-top: 80px;
            padding-bottom: 4rem;
            position: relative;
            z-index: 1;
        }

        /* ===== ç« èŠ‚å¤´éƒ¨ ===== */
        .chapter-hero {
            background: var(--hero-gradient);
            padding: 6rem 0;
            margin-bottom: 3rem;
            position: relative;
            overflow: hidden;
        }

        .chapter-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 30s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .chapter-hero-content {
            text-align: center;
            color: white;
            position: relative;
            z-index: 1;
        }

        .chapter-hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            font-weight: 800;
            letter-spacing: -0.02em;
            animation: fadeInUp 0.8s ease;
        }

        .chapter-hero p {
            font-size: 1.5rem;
            opacity: 0.95;
            animation: fadeInUp 0.8s ease 0.2s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ===== å†…å®¹å¡ç‰‡ ===== */
        .section-card {
            background: var(--bg-section);
            border-radius: var(--radius);
            padding: 3rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .section-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary-gradient);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s ease;
        }

        .section-card:hover::before {
            transform: scaleX(1);
        }

        .section-card h2 {
            color: var(--primary-light);
            margin-bottom: 2rem;
            font-size: 2.25rem;
            font-weight: 700;
        }

        .section-card h3 {
            color: var(--text-primary);
            margin: 2rem 0 1rem;
            font-size: 1.5rem;
            font-weight: 600;
        }

        /* ===== æ•…äº‹å¡ç‰‡ ===== */
        .story-card {
            background: linear-gradient(135deg, rgba(250, 112, 154, 0.1), rgba(254, 225, 64, 0.1));
            border: 2px solid rgba(250, 112, 154, 0.3);
            border-radius: var(--radius);
            padding: 2.5rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .story-card::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: var(--hero-gradient);
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: var(--radius);
        }

        .story-card:hover::after {
            opacity: 0.3;
        }

        .story-icon {
            font-size: 3rem;
            display: block;
            margin-bottom: 1rem;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* ===== ä»£ç å— ===== */
        .code-block {
            background: var(--bg-code);
            border: 1px solid #30363d;
            border-radius: 0.75rem;
            margin: 1.5rem 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .code-header {
            background: #161b22;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #30363d;
        }

        .code-lang {
            color: var(--primary-light);
            font-size: 0.875rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .code-lang::before {
            content: '';
            width: 12px;
            height: 12px;
            background: var(--primary);
            border-radius: 50%;
            display: inline-block;
        }

        .code-actions {
            display: flex;
            gap: 0.5rem;
        }

        .code-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--text-secondary);
            padding: 0.375rem 0.875rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }

        .code-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: translateY(-1px);
        }

        .code-content {
            padding: 1.5rem;
            overflow-x: auto;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', monospace;
            font-size: 0.875rem;
            line-height: 1.7;
        }

        .code-content pre {
            margin: 0;
            color: #e6edf3;
        }

        .code-content.collapsed {
            max-height: 300px;
            overflow: hidden;
            position: relative;
        }

        .code-content.collapsed::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: linear-gradient(transparent, var(--bg-code));
        }

        /* ä»£ç é«˜äº® */
        .keyword { color: #ff79c6; }
        .string { color: #f1fa8c; }
        .comment { color: #6272a4; }
        .function { color: #50fa7b; }
        .number { color: #bd93f9; }

        /* ===== å¡ç‰‡ç½‘æ ¼ ===== */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .info-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 2rem;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .info-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--primary-gradient);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary);
        }

        .info-card:hover::before {
            opacity: 0.05;
        }

        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
        }

        .card-title {
            color: var(--primary-light);
            margin-bottom: 1rem;
            font-size: 1.25rem;
            font-weight: 600;
        }

        /* ===== äº’åŠ¨æ¼”ç¤º ===== */
        .demo-container {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));
            border: 2px solid rgba(59, 130, 246, 0.3);
            border-radius: var(--radius);
            padding: 2.5rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .demo-container::before {
            content: 'ğŸ§ª';
            position: absolute;
            top: -20px;
            right: 20px;
            font-size: 4rem;
            opacity: 0.1;
        }

        .demo-input {
            width: 100%;
            padding: 1rem 1.5rem;
            background: var(--bg-dark);
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            color: var(--text-primary);
            font-size: 1.1rem;
            margin-bottom: 1rem;
            transition: all 0.3s;
        }

        .demo-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .demo-button {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 1rem 2.5rem;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(99, 102, 241, 0.3);
        }

        .demo-result {
            margin-top: 2rem;
            padding: 1.5rem;
            background: var(--bg-dark);
            border-radius: 0.75rem;
            min-height: 120px;
            border: 1px solid var(--border-color);
        }

        /* ===== å‘é‡å¯è§†åŒ– ===== */
        .vector-display {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 1rem 0;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 0.5rem;
        }

        .vector-label {
            font-weight: 600;
            color: var(--primary-light);
            min-width: 80px;
        }

        .vector-values {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .vector-value {
            background: var(--bg-card);
            padding: 0.25rem 0.75rem;
            border-radius: 0.25rem;
            font-family: monospace;
            font-size: 0.875rem;
            border: 1px solid var(--border-color);
        }

        /* ===== 3Då¯è§†åŒ–å®¹å™¨ ===== */
        .visualization-3d {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 2rem 0;
            height: 500px;
            position: relative;
            overflow: hidden;
        }

        #vector-space {
            width: 100%;
            height: 100%;
            border-radius: 0.5rem;
            cursor: grab;
        }

        #vector-space:active {
            cursor: grabbing;
        }

        /* ===== ç›¸ä¼¼åº¦çƒ­åŠ›å›¾ ===== */
        .heatmap {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 2rem 0;
            overflow-x: auto;
        }

        .heatmap-grid {
            display: inline-block;
            min-width: 600px;
        }

        .heatmap-row {
            display: flex;
            gap: 2px;
        }

        .heatmap-cell {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            font-weight: 500;
            border-radius: 0.25rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .heatmap-cell:hover {
            transform: scale(1.1);
            z-index: 10;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .heatmap-label {
            background: var(--bg-dark);
            font-weight: 600;
            color: var(--text-secondary);
        }

        /* ===== æµç¨‹å›¾ ===== */
        .flow-diagram {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 2.5rem;
            margin: 2rem 0;
            overflow-x: auto;
        }

        .flow-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            min-width: 800px;
            padding: 2rem 0;
        }

        .flow-step {
            background: var(--bg-section);
            border: 2px solid var(--border-color);
            border-radius: var(--radius);
            padding: 2rem;
            text-align: center;
            min-width: 150px;
            transition: all 0.3s ease;
            position: relative;
        }

        .flow-step:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: var(--shadow);
        }

        .flow-step-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .flow-step-title {
            font-weight: 600;
            color: var(--primary-light);
            margin-bottom: 0.5rem;
        }

        .flow-arrow {
            font-size: 2rem;
            color: var(--primary);
            animation: arrow-move 1.5s ease-in-out infinite;
        }

        @keyframes arrow-move {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }

        /* ===== æç¤ºæ¡† ===== */
        .tip {
            padding: 1.5rem 2rem;
            border-radius: var(--radius);
            margin: 2rem 0;
            border-left: 4px solid;
            position: relative;
            overflow: hidden;
        }

        .tip::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.05;
            background: currentColor;
        }

        .tip-icon {
            font-size: 1.5rem;
            margin-right: 1rem;
            vertical-align: middle;
        }

        .tip.info {
            background: rgba(59, 130, 246, 0.1);
            border-color: var(--info);
            color: var(--text-primary);
        }

        .tip.warning {
            background: rgba(245, 158, 11, 0.1);
            border-color: var(--warning);
            color: var(--text-primary);
        }

        .tip.success {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--success);
            color: var(--text-primary);
        }

        .tip.danger {
            background: rgba(239, 68, 68, 0.1);
            border-color: var(--danger);
            color: var(--text-primary);
        }

        /* ===== å¯¹æ¯”è¡¨æ ¼ ===== */
        .comparison-table {
            background: var(--bg-card);
            border-radius: var(--radius);
            overflow: hidden;
            margin: 2rem 0;
            box-shadow: var(--shadow);
        }

        .comparison-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .comparison-table th {
            background: var(--primary-gradient);
            color: white;
            padding: 1.25rem;
            text-align: left;
            font-weight: 600;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .comparison-table td {
            padding: 1.25rem;
            border-bottom: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .comparison-table tr:hover td {
            background: rgba(99, 102, 241, 0.05);
        }

        .comparison-table tr:last-child td {
            border-bottom: none;
        }

        /* ===== ç®—æ³•æ­¥éª¤ ===== */
        .algorithm-steps {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.05));
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: var(--radius);
            padding: 2.5rem;
            margin: 2rem 0;
        }

        .step-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 2rem;
            position: relative;
        }

        .step-item:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 24px;
            top: 50px;
            bottom: -30px;
            width: 2px;
            background: linear-gradient(to bottom, var(--primary), transparent);
        }

        .step-number {
            width: 48px;
            height: 48px;
            background: var(--primary-gradient);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.25rem;
            margin-right: 1.5rem;
            flex-shrink: 0;
            position: relative;
            z-index: 1;
        }

        .step-content h5 {
            color: var(--primary-light);
            margin-bottom: 0.5rem;
            font-size: 1.25rem;
        }

        /* ===== æ•°å­¦å…¬å¼ ===== */
        .math-display {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(99, 102, 241, 0.05));
            border: 2px solid rgba(139, 92, 246, 0.2);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
            font-size: 1.2rem;
            overflow-x: auto;
        }

        .math-formula {
            font-family: 'KaTeX_Math', 'Times New Roman', serif;
            font-style: italic;
            color: var(--primary-light);
            font-size: 1.3rem;
            margin: 1rem 0;
        }

        /* ===== è¯äº‘æ•ˆæœ ===== */
        .word-cloud {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 3rem;
            margin: 2rem 0;
            text-align: center;
            position: relative;
            min-height: 400px;
        }

        .word-item {
            position: absolute;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            animation: float-word 20s infinite ease-in-out;
        }

        .word-item:hover {
            transform: scale(1.2) !important;
            color: var(--primary-light) !important;
            z-index: 10;
        }

        @keyframes float-word {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* ===== å¿«é€Ÿå¯¼èˆª ===== */
        .quick-nav {
            position: fixed;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .quick-nav-item {
            width: 12px;
            height: 12px;
            background: var(--text-muted);
            border-radius: 50%;
            transition: all 0.3s;
            position: relative;
            cursor: pointer;
        }

        .quick-nav-item:hover,
        .quick-nav-item.active {
            background: var(--primary);
            transform: scale(1.5);
        }

        .quick-nav-tooltip {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--bg-dark);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            border: 1px solid var(--border-color);
            font-size: 0.875rem;
        }

        .quick-nav-item:hover .quick-nav-tooltip {
            opacity: 1;
        }

        /* ===== æ€è€ƒæ¡† ===== */
        .think-box {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.1));
            border: 2px solid rgba(251, 191, 36, 0.3);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
        }

        .think-box::before {
            content: 'ğŸ¤”';
            position: absolute;
            top: -15px;
            left: 25px;
            font-size: 2rem;
            background: var(--bg-section);
            padding: 0 0.5rem;
        }

        .think-box h4 {
            color: var(--warning);
            margin-bottom: 1rem;
        }

        .think-box ul {
            list-style: none;
            padding: 0;
        }

        .think-box li {
            margin-bottom: 0.5rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .think-box li::before {
            content: 'ğŸ’­';
            position: absolute;
            left: 0;
        }

        /* KaTeXæ ·å¼è°ƒæ•´ */
        .katex-display {
            margin: 1.5rem 0 !important;
        }

        .katex {
            font-size: 1.1em;
            color: var(--primary-light);
        }

        /* ===== å“åº”å¼è®¾è®¡ ===== */
        @media (max-width: 768px) {
            .chapter-hero h1 {
                font-size: 2.5rem;
            }

            .section-card {
                padding: 2rem;
            }

            .quick-nav {
                display: none;
            }

            .card-grid {
                grid-template-columns: 1fr;
            }

            .flow-container {
                flex-direction: column;
                min-width: auto;
            }

            .flow-arrow {
                transform: rotate(90deg);
            }
        }

        /* ===== åŠ è½½åŠ¨ç”» ===== */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ===== æ•°å­¦å…¬å¼è§£é‡Šæ ·å¼ ===== */
        .formula-explanation {
            background: rgba(99, 102, 241, 0.05);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        .formula-explanation h5 {
            color: var(--primary-light);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .formula-table {
            width: 100%;
            margin: 1rem 0;
        }

        .formula-table td {
            padding: 0.75rem;
            vertical-align: middle;
        }

        .formula-table .formula-part {
            font-family: 'KaTeX_Math', serif;
            font-size: 1.2rem;
            color: var(--primary);
            white-space: nowrap;
            width: 30%;
        }

        .formula-table .formula-meaning {
            color: var(--text-primary);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .code-from-math {
            background: var(--bg-code);
            border: 1px solid #30363d;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
        }

        .code-from-math h6 {
            color: var(--success);
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .training-example {
            background: rgba(59, 130, 246, 0.05);
            border-radius: var(--radius);
            padding: 2rem;
            margin-top: 1.5rem;
        }

        .training-step {
            background: var(--bg-dark);
            border-radius: 0.5rem;
            padding: 1.5rem;
            border-left: 3px solid var(--primary);
        }

        .training-step h5 {
            color: var(--primary-light);
            margin-bottom: 1rem;
        }

        /* ===== å·¥å…·ç±» ===== */
        .text-center { text-align: center; }
        .text-muted { color: var(--text-muted); }
        .mt-1 { margin-top: 0.5rem; }
        .mt-2 { margin-top: 1rem; }
        .mt-3 { margin-top: 1.5rem; }
        .mt-4 { margin-top: 2rem; }
        .mb-1 { margin-bottom: 0.5rem; }
        .mb-2 { margin-bottom: 1rem; }
        .mb-3 { margin-bottom: 1.5rem; }
        .mb-4 { margin-bottom: 2rem; }
        .flex { display: flex; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .gap-1 { gap: 0.5rem; }
        .gap-2 { gap: 1rem; }
    </style>
</head>
<body>

<!-- èƒŒæ™¯æ•ˆæœ -->
<div class="bg-pattern"></div>
<div class="floating-shapes">
    <div class="shape"></div>
    <div class="shape"></div>
    <div class="shape"></div>
</div>

<!-- å¯¼èˆªæ  -->
<nav class="nav-header">
    <div class="container">
        <div class="nav-content">
            <div class="nav-title">
                <button id="toggle-sidebar" class="btn btn-icon">
                    <svg width="20" height="20" fill="currentColor">
                        <path d="M3 5h14M3 10h14M3 15h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
                <h1>ç¬¬3ç« ï¼šè¯å‘é‡ä¸æ–‡æœ¬è¡¨ç¤º</h1>
            </div>
            <div class="nav-menu">
                <button class="btn btn-icon" id="theme-toggle">ğŸŒ™</button>
                <a href="#summary" class="btn btn-secondary">ç« èŠ‚æ€»ç»“</a>
            </div>
        </div>
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
    </div>
</nav>

<!-- ä¾§è¾¹æ  -->
<aside class="sidebar" id="sidebar">
    <h3 class="toc-title">
        <span>ğŸ“š</span>
        <span>æœ¬ç« å¯¼èˆª</span>
    </h3>

    <div class="toc-section">
        <div class="toc-section-title">å¼€ç¯‡</div>
        <a href="#intro" class="toc-item active">åºè¨€ï¼šå›½ç‹-ç”·äºº+å¥³äºº=ï¼Ÿ</a>
        <a href="#why-vectors" class="toc-item">ä¸ºä»€ä¹ˆéœ€è¦è¯å‘é‡</a>
    </div>

    <div class="toc-section">
        <div class="toc-section-title">è¯å‘é‡åŸºç¡€</div>
        <a href="#one-hot" class="toc-item">ç‹¬çƒ­ç¼–ç ï¼šæœ€ç®€å•çš„å°è¯•</a>
        <a href="#distributed" class="toc-item">åˆ†å¸ƒå¼è¡¨ç¤ºï¼šè¯­ä¹‰çš„å¯†ç </a>
        <a href="#word2vec" class="toc-item">Word2Vecï¼šå¼€åˆ›æ€§çš„çªç ´</a>
        <a href="#visualization" class="toc-item">è¯å‘é‡å¯è§†åŒ–</a>
    </div>

    <div class="toc-section">
        <div class="toc-section-title">è¿›é˜¶æŠ€æœ¯</div>
        <a href="#glove" class="toc-item">GloVeï¼šå…¨å±€è§†è§’</a>
        <a href="#fasttext" class="toc-item">FastTextï¼šå­è¯çš„åŠ›é‡</a>
        <a href="#contextual" class="toc-item">ä¸Šä¸‹æ–‡è¯å‘é‡</a>
    </div>

    <div class="toc-section">
        <div class="toc-section-title">å®è·µåº”ç”¨</div>
        <a href="#similarity" class="toc-item">ç›¸ä¼¼åº¦è®¡ç®—</a>
        <a href="#document-vectors" class="toc-item">æ–‡æ¡£å‘é‡</a>
        <a href="#applications" class="toc-item">å®é™…åº”ç”¨æ¡ˆä¾‹</a>
    </div>

    <div class="toc-section">
        <div class="toc-section-title">æ€»ç»“å±•æœ›</div>
        <a href="#summary" class="toc-item">æœ¬ç« æ€»ç»“</a>
        <a href="#exercises" class="toc-item">ç»ƒä¹ é¢˜</a>
    </div>
</aside>

<!-- å¿«é€Ÿå¯¼èˆª -->
<div class="quick-nav" id="quick-nav">
    <div class="quick-nav-item active" data-section="intro">
        <span class="quick-nav-tooltip">å¼€ç¯‡æ•…äº‹</span>
    </div>
    <div class="quick-nav-item" data-section="one-hot">
        <span class="quick-nav-tooltip">ç‹¬çƒ­ç¼–ç </span>
    </div>
    <div class="quick-nav-item" data-section="word2vec">
        <span class="quick-nav-tooltip">Word2Vec</span>
    </div>
    <div class="quick-nav-item" data-section="applications">
        <span class="quick-nav-tooltip">å®é™…åº”ç”¨</span>
    </div>
    <div class="quick-nav-item" data-section="summary">
        <span class="quick-nav-tooltip">ç« èŠ‚æ€»ç»“</span>
    </div>
</div>

<!-- ä¸»å†…å®¹ -->
<main>
    <!-- ç« èŠ‚æ ‡é¢˜ -->
    <section class="chapter-hero">
        <div class="container">
            <div class="chapter-hero-content">
                <h1>è¯å‘é‡ä¸æ–‡æœ¬è¡¨ç¤º</h1>
                <p>è®©æœºå™¨ç†è§£è¯­ä¹‰çš„é­”æ³•</p>
            </div>
        </div>
    </section>

    <div class="container">
        <!-- åºè¨€ -->
        <section id="intro" class="section-card">
            <h2>ğŸ‘‘ åºè¨€ï¼šå›½ç‹ - ç”·äºº + å¥³äºº = ï¼Ÿ</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ§™</span>
                <p><strong>2013å¹´ï¼ŒGoogleç ”ç©¶é™¢ï¼Œä¸€ä¸ªæ”¹å˜NLPå†å²çš„ä¸‹åˆã€‚</strong></p>
                <p class="mt-2">
                    Tomas Mikolovç›¯ç€å±å¹•ä¸Šçš„ç»“æœï¼Œç®€ç›´ä¸æ•¢ç›¸ä¿¡è‡ªå·±çš„çœ¼ç›ã€‚ä»–åˆšåˆšè®©è®¡ç®—æœºåšäº†ä¸€é“"è¯æ±‡ç®—æœ¯é¢˜"ï¼š
                </p>
                <div class="math-display mt-3">
                    <p class="math-formula" style="font-size: 1.8rem;">
                        $\vec{v}_{\text{å›½ç‹}} - \vec{v}_{\text{ç”·äºº}} + \vec{v}_{\text{å¥³äºº}} = \vec{v}_{\text{å¥³ç‹}}$
                    </p>
                    <div class="formula-explanation">
                        <h5>ğŸ“– å…¬å¼è§£è¯»ï¼š</h5>
                        <table class="formula-table">
                            <tr>
                                <td class="formula-part">$\vec{v}_{\text{å›½ç‹}}$</td>
                                <td class="formula-meaning">å›½ç‹çš„è¯å‘é‡ï¼ˆæ¯”å¦‚300ç»´çš„æ•°ç»„ï¼‰</td>
                            </tr>
                            <tr>
                                <td class="formula-part">$-\vec{v}_{\text{ç”·äºº}}$</td>
                                <td class="formula-meaning">å‡å»"ç”·äºº"çš„å‘é‡ï¼Œå»é™¤ç”·æ€§ç‰¹å¾</td>
                            </tr>
                            <tr>
                                <td class="formula-part">$+\vec{v}_{\text{å¥³äºº}}$</td>
                                <td class="formula-meaning">åŠ ä¸Š"å¥³äºº"çš„å‘é‡ï¼Œæ·»åŠ å¥³æ€§ç‰¹å¾</td>
                            </tr>
                            <tr>
                                <td class="formula-part">$=\vec{v}_{\text{å¥³ç‹}}$</td>
                                <td class="formula-meaning">ç»“æœæ¥è¿‘"å¥³ç‹"çš„å‘é‡</td>
                            </tr>
                        </table>
                        <p class="mt-2"><strong>ğŸ’¡ åŸç†ï¼š</strong>è¯å‘é‡ç©ºé—´ä¸­ï¼Œè¯­ä¹‰å…³ç³»å¯¹åº”å‡ ä½•å…³ç³»ã€‚"å›½ç‹â†’å¥³ç‹"çš„å˜åŒ–ç­‰äº"ç”·äººâ†’å¥³äºº"çš„å˜åŒ–ã€‚</p>
                        <div class="demo-container mt-4">
                            <h3 class="text-center mb-3" style="color: var(--primary-light);">ğŸ§® ä¸ºä»€ä¹ˆè¯å‘é‡èƒ½åš"ç®—æœ¯é¢˜"ï¼Ÿ</h3>

                            <div class="training-example">
                                <h4>æ·±å…¥ç†è§£ï¼šå‘é‡è¿ç®—èƒŒåçš„å‡ ä½•æ„ä¹‰</h4>

                                <div class="training-step">
                                    <h5>ä»¥"å›½ç‹-ç”·äºº+å¥³äºº=å¥³ç‹"ä¸ºä¾‹</h5>
                                    <p>å‡è®¾è¯å‘é‡åªæœ‰2ç»´ï¼ˆæ–¹ä¾¿ç†è§£ï¼‰ï¼š</p>
                                    <pre style="background: var(--bg-code); padding: 1rem; border-radius: 0.5rem;">
å›½ç‹ = [3.0, 2.0]  <span class="comment"># ä½ç½®ï¼šæ—¢æœ‰ç‹æƒ(xè½´)ï¼Œåˆåç”·æ€§(yè½´)</span>
ç”·äºº = [1.0, 2.0]  <span class="comment"># ä½ç½®ï¼šæ™®é€šäººï¼Œåç”·æ€§</span>
å¥³äºº = [1.0, -2.0] <span class="comment"># ä½ç½®ï¼šæ™®é€šäººï¼Œåå¥³æ€§</span>
å¥³ç‹ = [3.0, -2.0] <span class="comment"># ä½ç½®ï¼šæœ‰ç‹æƒï¼Œåå¥³æ€§</span>

<span class="comment"># è®¡ç®—è¿‡ç¨‹</span>
å›½ç‹ - ç”·äºº = [3.0, 2.0] - [1.0, 2.0] = [2.0, 0.0]  <span class="comment"># å¾—åˆ°"ç‹æƒå‘é‡"</span>
ç»“æœ + å¥³äºº = [2.0, 0.0] + [1.0, -2.0] = [3.0, -2.0] <span class="comment"># æ­£å¥½æ˜¯å¥³ç‹ï¼</span></pre>
                                </div>

                                <div class="training-step mt-3">
                                    <h5>å‡ ä½•è§£é‡Š</h5>
                                    <svg width="400" height="300" viewBox="0 0 400 300" style="background: var(--bg-dark); border-radius: 0.5rem; margin: 1rem auto; display: block;">
                                        <!-- åæ ‡è½´ -->
                                        <line x1="50" y1="150" x2="350" y2="150" stroke="#475569" stroke-width="2"/>
                                        <line x1="200" y1="50" x2="200" y2="250" stroke="#475569" stroke-width="2"/>

                                        <!-- åæ ‡è½´æ ‡ç­¾ -->
                                        <text x="360" y="155" fill="#94a3b8" font-size="12">ç‹æƒç»´åº¦</text>
                                        <text x="205" y="45" fill="#94a3b8" font-size="12">æ€§åˆ«ç»´åº¦</text>

                                        <!-- è¯å‘é‡ç‚¹ -->
                                        <circle cx="250" cy="100" r="6" fill="#6366f1"/>
                                        <text x="260" y="95" fill="#f1f5f9" font-size="14">å›½ç‹</text>

                                        <circle cx="150" cy="100" r="6" fill="#3b82f6"/>
                                        <text x="110" y="95" fill="#f1f5f9" font-size="14">ç”·äºº</text>

                                        <circle cx="150" cy="200" r="6" fill="#ec4899"/>
                                        <text x="110" y="220" fill="#f1f5f9" font-size="14">å¥³äºº</text>

                                        <circle cx="250" cy="200" r="6" fill="#f472b6"/>
                                        <text x="260" y="220" fill="#f1f5f9" font-size="14">å¥³ç‹</text>

                                        <!-- å‘é‡ç®­å¤´ -->
                                        <defs>
                                            <marker id="arrowhead3" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                                <polygon points="0 0, 10 3.5, 0 7" fill="#f59e0b"/>
                                            </marker>
                                        </defs>

                                        <!-- å›½ç‹-ç”·äºº -->
                                        <path d="M 250 100 L 150 100" stroke="#f59e0b" stroke-width="2" stroke-dasharray="5,5" opacity="0.6"/>
                                        <text x="200" y="90" fill="#f59e0b" font-size="12">-ç”·äºº</text>

                                        <!-- ç»“æœ+å¥³äºº -->
                                        <path d="M 150 200 L 250 200" stroke="#10b981" stroke-width="2" marker-end="url(#arrowhead3)"/>
                                        <text x="200" y="195" fill="#10b981" font-size="12">+å¥³äºº</text>
                                    </svg>

                                    <p class="mt-3"><strong>ğŸ’¡ å…³é”®æ´å¯Ÿï¼š</strong></p>
                                    <ul>
                                        <li>"å›½ç‹â†’å¥³ç‹"çš„å˜åŒ– = "ç”·äººâ†’å¥³äºº"çš„å˜åŒ–</li>
                                        <li>æ€§åˆ«è½¬æ¢åœ¨å‘é‡ç©ºé—´ä¸­æ˜¯ä¸€ä¸ªå›ºå®šçš„æ–¹å‘</li>
                                        <li>è¿™ä¸ªè§„å¾‹æ˜¯æ¨¡å‹ä»å¤§é‡æ–‡æœ¬ä¸­è‡ªåŠ¨å­¦åˆ°çš„ï¼</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <p class="mt-3">
                    "è¿™æ€ä¹ˆå¯èƒ½ï¼Ÿ"ä»–çš„åŒäº‹å‡‘è¿‡æ¥çœ‹ï¼Œ"è®¡ç®—æœºæ€ä¹ˆä¼šçŸ¥é“å›½ç‹å’Œå¥³ç‹çš„å…³ç³»ï¼Ÿ"
                </p>
                <p class="mt-2">
                    Mikolovå¾®ç¬‘ç€è¯´ï¼š"å› ä¸ºæˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ç§æ–¹æ³•ï¼Œè®©æ¯ä¸ªè¯éƒ½å˜æˆäº†ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹ã€‚åœ¨è¿™ä¸ªç©ºé—´é‡Œï¼Œè¯­ä¹‰å…³ç³»å˜æˆäº†å‡ ä½•å…³ç³»ã€‚"
                </p>
                <p class="mt-3 text-center" style="font-size: 1.25rem; color: var(--warning);">
                    ğŸ’¡ è¿™å°±æ˜¯è¯å‘é‡çš„é­”æ³•â€”â€”æŠŠè¯­è¨€å˜æˆæ•°å­¦ï¼ŒæŠŠæ„ä¹‰å˜æˆå‘é‡ï¼
                </p>
            </div>

            <div class="think-box">
                <h4>ğŸ¤” æ€è€ƒä¸€ä¸‹</h4>
                <ul>
                    <li>ä¸ºä»€ä¹ˆ"å›½ç‹-ç”·äºº+å¥³äºº"ä¼šç­‰äº"å¥³ç‹"ï¼Ÿè¿™èƒŒåçš„æ•°å­¦åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</li>
                    <li>å¦‚æœç”¨åŒæ ·çš„æ–¹æ³•ï¼Œ"åŒ—äº¬-ä¸­å›½+æ—¥æœ¬"ä¼šç­‰äºä»€ä¹ˆï¼Ÿ</li>
                    <li>è¿™ç§å‘é‡è¿ç®—çœŸçš„ç†è§£äº†è¯çš„å«ä¹‰ï¼Œè¿˜æ˜¯åªæ˜¯å·§åˆï¼Ÿ</li>
                </ul>
            </div>

            <div class="demo-container">
                <h3 class="text-center mb-3" style="color: var(--primary-light);">ğŸ¯ æ›´å¤šç¥å¥‡çš„è¯å‘é‡è¿ç®—</h3>

                <div class="card-grid">
                    <div class="info-card">
                        <span class="card-icon">ğŸ™ï¸</span>
                        <h4 class="card-title">åœ°ç†å…³ç³»</h4>
                        <p class="math-formula">
                            $$\vec{v}_{\text{åŒ—äº¬}} - \vec{v}_{\text{ä¸­å›½}} + \vec{v}_{\text{æ—¥æœ¬}} = \vec{v}_{\text{ä¸œäº¬}}$$
                        </p>
                        <p class="mt-2 text-muted">é¦–éƒ½ä¹‹äºå›½å®¶çš„å…³ç³»è¢«å®Œç¾æ•è·</p>
                    </div>

                    <div class="info-card">
                        <span class="card-icon">â°</span>
                        <h4 class="card-title">åŠ¨è¯æ—¶æ€</h4>
                        <p class="math-formula">
                            $$\vec{v}_{\text{èµ°}} - \vec{v}_{\text{èµ°è·¯}} + \vec{v}_{\text{è·‘æ­¥}} = \vec{v}_{\text{è·‘}}$$
                        </p>
                        <p class="mt-2 text-muted">åŠ¨è¯å½¢æ€çš„è§„å¾‹è¢«å‘é‡ç¼–ç </p>
                    </div>

                    <div class="info-card">
                        <span class="card-icon">ğŸ“</span>
                        <h4 class="card-title">å¤§å°å…³ç³»</h4>
                        <p class="math-formula">
                            $$\vec{v}_{\text{æœ€å¤§}} - \vec{v}_{\text{å¤§}} + \vec{v}_{\text{å°}} = \vec{v}_{\text{æœ€å°}}$$
                        </p>
                        <p class="mt-2 text-muted">ç¨‹åº¦å…³ç³»çš„è¯­ä¹‰è§„å¾‹</p>
                    </div>
                </div>

                <div class="tip info mt-4">
                    <span class="tip-icon">ğŸ¤¯</span>
                    <strong>ä»¤äººéœ‡æƒŠçš„å‘ç°</strong>
                    <p class="mt-2">
                        è¿™äº›å…³ç³»ä¸æ˜¯äººä¸ºç¼–ç¨‹çš„ï¼Œè€Œæ˜¯æ¨¡å‹ä»æµ·é‡æ–‡æœ¬ä¸­è‡ªåŠ¨å­¦åˆ°çš„ï¼å°±åƒå­©å­é€šè¿‡å¤§é‡é˜…è¯»è‡ªç„¶ç†è§£äº†è¯­è¨€è§„å¾‹ã€‚
                    </p>
                </div>
            </div>

            <div class="visualization-3d">
                <h4 class="text-center mb-3" style="color: var(--primary-light);">ğŸ“Š è¯å‘é‡ç©ºé—´å¯è§†åŒ–</h4>
                <canvas id="vector-space"></canvas>
            </div>
        </section>

        <!-- ä¸ºä»€ä¹ˆéœ€è¦è¯å‘é‡ -->
        <section id="why-vectors" class="section-card">
            <h2>ğŸ¯ ä¸ºä»€ä¹ˆéœ€è¦è¯å‘é‡ï¼Ÿ</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ¤–</span>
                <p><strong>æœºå™¨çœ¼ä¸­çš„æ–‡å­—ï¼šä»æ··æ²Œåˆ°ç§©åº</strong></p>
                <p class="mt-2">
                    æƒ³è±¡ä½ æ˜¯ä¸€ä¸ªåˆšè¢«åˆ›é€ å‡ºæ¥çš„AIï¼Œç¬¬ä¸€æ¬¡"çœ‹åˆ°"äººç±»çš„æ–‡å­—ï¼š
                </p>
                <div class="code-block mt-3">
                    <div class="code-header">
                        <span class="code-lang">æœºå™¨è§†è§’</span>
                    </div>
                    <div class="code-content">
                        <pre>äººç±»è¯´ï¼š"å°çŒ«å–œæ¬¢å–ç‰›å¥¶"
æœºå™¨çœ‹åˆ°ï¼š[0x5C0F, 0x732B, 0x559C, 0x6B22, 0x5403, 0x725B, 0x5976]

äººç±»è¯´ï¼š"å°ç‹—å–œæ¬¢åƒéª¨å¤´"
æœºå™¨çœ‹åˆ°ï¼š[0x5C0F, 0x72D7, 0x559C, 0x6B22, 0x5403, 0x9AA8, 0x5934]

æœºå™¨çš„å›°æƒ‘ï¼š0x732Bï¼ˆçŒ«ï¼‰å’Œ 0x72D7ï¼ˆç‹—ï¼‰æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ
            0x5976ï¼ˆç‰›å¥¶ï¼‰å’Œ 0x9AA8ï¼ˆéª¨å¤´ï¼‰åˆæœ‰ä»€ä¹ˆè”ç³»ï¼Ÿ</pre>
                    </div>
                </div>
                <p class="mt-3">
                    å¯¹æœºå™¨æ¥è¯´ï¼Œ"çŒ«"å’Œ"ç‹—"åªæ˜¯ä¸¤ä¸ªæ¯«æ— å…³è”çš„ç¬¦å·ï¼Œå°±åƒ"ğŸ˜º"å’Œ"ğŸš—"ä¸€æ ·éšæœºã€‚
                </p>
            </div>

            <div class="think-box">
                <h4>ğŸ¤” æ€è€ƒä¸€ä¸‹</h4>
                <ul>
                    <li>å¦‚æœä½ è¦æ•™ä¸€ä¸ªå®Œå…¨ä¸æ‡‚ä¸­æ–‡çš„å¤–å›½äººç†è§£"çŒ«"å’Œ"ç‹—"çš„å…³ç³»ï¼Œä½ ä¼šæ€ä¹ˆåšï¼Ÿ</li>
                    <li>ä¸ºä»€ä¹ˆäººç±»èƒ½è½»æ˜“ç†è§£"å°çŒ«"å’Œ"å°ç‹—"éƒ½æ˜¯å® ç‰©ï¼Œè€Œæœºå™¨å´ä¸èƒ½ï¼Ÿ</li>
                    <li>ç¬¦å·å’Œæ„ä¹‰ä¹‹é—´çš„é¸¿æ²Ÿè¯¥å¦‚ä½•è·¨è¶Šï¼Ÿ</li>
                </ul>
            </div>

            <h3>ä»ç¬¦å·åˆ°æ„ä¹‰çš„ä¸‰æ¬¡é£è·ƒ</h3>

            <div class="algorithm-steps">
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h5>ç¬¦å·åŒ–ï¼šç»™æ¯ä¸ªè¯ä¸€ä¸ªèº«ä»½è¯</h5>
                        <p>æœ€åŸå§‹çš„æ–¹æ³•ï¼šè¯å…¸ç¼–å·</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">è¯å…¸æ˜ å°„</span>
                            </div>
                            <div class="code-content">
                                <pre>word_to_id = {
    "å°çŒ«": 1,
    "å°ç‹—": 2,
    "ç‰›å¥¶": 3,
    "éª¨å¤´": 4,
    "å–œæ¬¢": 5,
    "åƒ": 6,
    "å–": 7
}

# å¥å­å˜æˆäº†æ•°å­—åºåˆ—
"å°çŒ«å–œæ¬¢å–ç‰›å¥¶" â†’ [1, 5, 7, 3]
"å°ç‹—å–œæ¬¢åƒéª¨å¤´" â†’ [2, 5, 6, 4]</pre>
                            </div>
                        </div>
                        <p class="mt-2" style="color: var(--danger);">
                            âŒ é—®é¢˜ï¼š1å’Œ2ä¹‹é—´çš„è·ç¦»ç­‰äº2å’Œ100ä¹‹é—´çš„è·ç¦»å—ï¼Ÿæ•°å­—å¤§å°æœ‰æ„ä¹‰å—ï¼Ÿ
                        </p>

                        <div class="think-box mt-3">
                            <h4>ğŸ¤” æ·±å…¥æ€è€ƒ</h4>
                            <ul>
                                <li>å¦‚æœ"å°çŒ«"æ˜¯1ï¼Œ"å°ç‹—"æ˜¯2ï¼Œé‚£"å¤§è±¡"æ˜¯3ï¼Œè¿™æ ·çš„ç¼–å·åˆç†å—ï¼Ÿ</li>
                                <li>è¯å…¸ç¼–å·èƒ½ä½“ç°å‡º"å°çŒ«"å’Œ"å°ç‹—"éƒ½æ˜¯åŠ¨ç‰©è¿™ä¸ªä¿¡æ¯å—ï¼Ÿ</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h5>ç¦»æ•£åŒ–ï¼šç‹¬çƒ­ç¼–ç ï¼ˆOne-Hotï¼‰</h5>
                        <p>æ¯ä¸ªè¯ç”¨ä¸€ä¸ªåªæœ‰ä¸€ä¸ª1çš„å‘é‡è¡¨ç¤º</p>
                        <div class="vector-display">
                            <span class="vector-label">å°çŒ«ï¼š</span>
                            <div class="vector-values">
                                <span class="vector-value" style="background: var(--success);">1</span>
                                <span class="vector-value">0</span>
                                <span class="vector-value">0</span>
                                <span class="vector-value">0</span>
                                <span class="vector-value">0</span>
                                <span class="vector-value">0</span>
                            </div>
                        </div>
                        <div class="vector-display">
                            <span class="vector-label">å°ç‹—ï¼š</span>
                            <div class="vector-values">
                                <span class="vector-value">0</span>
                                <span class="vector-value" style="background: var(--success);">1</span>
                                <span class="vector-value">0</span>
                                <span class="vector-value">0</span>
                                <span class="vector-value">0</span>
                                <span class="vector-value">0</span>
                            </div>
                        </div>
                        <p class="mt-2" style="color: var(--danger);">
                            âŒ é—®é¢˜ï¼šæ‰€æœ‰è¯ä¹‹é—´çš„è·ç¦»éƒ½ç›¸ç­‰ï¼Œ"å°çŒ«"å’Œ"å°ç‹—"çš„è·ç¦» = "å°çŒ«"å’Œ"æ°‘ä¸»"çš„è·ç¦»
                        </p>

                        <div class="math-display mt-3">
                            <p>ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—ï¼š</p>
                            <p class="math-formula">
                                $\cos(\vec{v}_{\text{å°çŒ«}}, \vec{v}_{\text{å°ç‹—}}) = \frac{\vec{v}_{\text{å°çŒ«}} \cdot \vec{v}_{\text{å°ç‹—}}}{||\vec{v}_{\text{å°çŒ«}}|| \times ||\vec{v}_{\text{å°ç‹—}}||} = 0$
                            </p>
                            <div class="formula-explanation">
                                <h5>ğŸ“– ä¸ºä»€ä¹ˆç»“æœæ˜¯0ï¼Ÿ</h5>
                                <p>ç‹¬çƒ­ç¼–ç ä¸‹ï¼Œå°çŒ«=[1,0,0,0,0]ï¼Œå°ç‹—=[0,1,0,0,0]</p>
                                <table class="formula-table">
                                    <tr>
                                        <td class="formula-part">åˆ†å­ï¼šç‚¹ç§¯</td>
                                        <td class="formula-meaning">1Ã—0 + 0Ã—1 + 0Ã—0 + ... = 0ï¼ˆæ²¡æœ‰ç›¸åŒä½ç½®éƒ½æ˜¯1ï¼‰</td>
                                    </tr>
                                    <tr>
                                        <td class="formula-part">åˆ†æ¯ï¼šé•¿åº¦ä¹˜ç§¯</td>
                                        <td class="formula-meaning">1 Ã— 1 = 1ï¼ˆä¸¤ä¸ªå‘é‡é•¿åº¦éƒ½æ˜¯1ï¼‰</td>
                                    </tr>
                                    <tr>
                                        <td class="formula-part">ç»“æœ</td>
                                        <td class="formula-meaning">0 Ã· 1 = 0ï¼ˆå®Œå…¨ä¸ç›¸ä¼¼ï¼‰</td>
                                    </tr>
                                </table>
                            </div>
                            <p class="mt-2 text-muted">æ‰€æœ‰ä¸åŒè¯ä¹‹é—´çš„ç›¸ä¼¼åº¦éƒ½æ˜¯0ï¼</p>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h5>è¿ç»­åŒ–ï¼šåˆ†å¸ƒå¼è¡¨ç¤ºï¼ˆè¯å‘é‡ï¼‰</h5>
                        <p>æ¯ä¸ªè¯ç”¨ä¸€ä¸ªç¨ å¯†çš„å®æ•°å‘é‡è¡¨ç¤º</p>
                        <div class="vector-display">
                            <span class="vector-label">å°çŒ«ï¼š</span>
                            <div class="vector-values">
                                <span class="vector-value">0.21</span>
                                <span class="vector-value">-0.45</span>
                                <span class="vector-value">0.83</span>
                                <span class="vector-value">-0.12</span>
                                <span class="vector-value">0.67</span>
                                <span class="vector-value">...</span>
                            </div>
                        </div>
                        <div class="vector-display">
                            <span class="vector-label">å°ç‹—ï¼š</span>
                            <div class="vector-values">
                                <span class="vector-value">0.19</span>
                                <span class="vector-value">-0.41</span>
                                <span class="vector-value">0.79</span>
                                <span class="vector-value">-0.15</span>
                                <span class="vector-value">0.71</span>
                                <span class="vector-value">...</span>
                            </div>
                        </div>
                        <p class="mt-2" style="color: var(--success);">
                            âœ… ä¼˜åŠ¿ï¼šç›¸ä¼¼çš„è¯æœ‰ç›¸ä¼¼çš„å‘é‡ï¼Œå¯ä»¥è®¡ç®—è¯­ä¹‰è·ç¦»ï¼
                        </p>

                        <div class="math-display mt-3">
                            <p>ç°åœ¨çš„ä½™å¼¦ç›¸ä¼¼åº¦ï¼š</p>
                            <p class="math-formula">
                                $\cos(\vec{v}_{\text{å°çŒ«}}, \vec{v}_{\text{å°ç‹—}}) \approx 0.95$
                            </p>
                            <div class="formula-explanation">
                                <h5>ğŸ“– ä¸ºä»€ä¹ˆç›¸ä¼¼åº¦è¿™ä¹ˆé«˜ï¼Ÿ</h5>
                                <p>å› ä¸º"å°çŒ«"å’Œ"å°ç‹—"çš„è¯å‘é‡åœ¨å¾ˆå¤šç»´åº¦ä¸Šéƒ½ç›¸ä¼¼ï¼š</p>
                                <pre style="background: var(--bg-code); padding: 1rem; border-radius: 0.5rem; color: #e6edf3;">
å°çŒ« = [0.21, -0.45, 0.83, -0.12, 0.67, ...]
å°ç‹— = [0.19, -0.41, 0.79, -0.15, 0.71, ...]
       â†‘ç›¸è¿‘  â†‘ç›¸è¿‘  â†‘ç›¸è¿‘  â†‘ç›¸è¿‘  â†‘ç›¸è¿‘

<span class="comment"># è®¡ç®—è¿‡ç¨‹</span>
ç‚¹ç§¯ = 0.21Ã—0.19 + (-0.45)Ã—(-0.41) + 0.83Ã—0.79 + ... â‰ˆ 0.92
é•¿åº¦_å°çŒ« = âˆš(0.21Â² + (-0.45)Â² + 0.83Â² + ...) â‰ˆ 0.98
é•¿åº¦_å°ç‹— = âˆš(0.19Â² + (-0.41)Â² + 0.79Â² + ...) â‰ˆ 0.99

ä½™å¼¦ç›¸ä¼¼åº¦ = 0.92 / (0.98 Ã— 0.99) â‰ˆ 0.95</pre>
                                <p class="mt-2"><strong>ğŸ’¡ è¿™æ„å‘³ç€ï¼š</strong>ä¸¤ä¸ªè¯åœ¨è¯­ä¹‰ç©ºé—´ä¸­çš„æ–¹å‘å‡ ä¹ç›¸åŒï¼Œéƒ½æ˜¯"å°å‹å® ç‰©åŠ¨ç‰©"</p>
                            </div>
                            <p class="mt-2 text-muted">è¯­ä¹‰ç›¸ä¼¼çš„è¯æœ‰é«˜ç›¸ä¼¼åº¦ï¼</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tip success mt-4">
                <span class="tip-icon">ğŸ¨</span>
                <strong>è¯å‘é‡çš„è‰ºæœ¯</strong>
                <p class="mt-2">
                    è¯å‘é‡å°±åƒç»™æ¯ä¸ªè¯ç”»äº†ä¸€å¹…"è¯­ä¹‰è‚–åƒ"ã€‚ä¸æ˜¯ç”¨é¢œè‰²å’Œçº¿æ¡ï¼Œè€Œæ˜¯ç”¨æ•°å­—ã€‚è¿™å¹…è‚–åƒæ•æ‰äº†è¯çš„æœ¬è´¨ç‰¹å¾ï¼š
                </p>
                <ul class="mt-2">
                    <li><strong>è¯­æ³•ç‰¹å¾ï¼š</strong>åè¯ã€åŠ¨è¯ã€å½¢å®¹è¯...</li>
                    <li><strong>è¯­ä¹‰ç‰¹å¾ï¼š</strong>ç”Ÿç‰©ã€é£Ÿç‰©ã€æƒ…æ„Ÿ...</li>
                    <li><strong>å…³è”ç‰¹å¾ï¼š</strong>å¸¸ä¸€èµ·å‡ºç°çš„è¯...</li>
                    <li><strong>æ–‡åŒ–ç‰¹å¾ï¼š</strong>è¤’ä¹‰ã€è´¬ä¹‰ã€ä¸­æ€§...</li>
                </ul>
            </div>
        </section>

        <!-- ç‹¬çƒ­ç¼–ç  -->
        <section id="one-hot" class="section-card">
            <h2>ğŸ¯ ç‹¬çƒ­ç¼–ç ï¼šæœ€ç®€å•çš„å°è¯•</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ¢</span>
                <p><strong>é…’åº—æˆ¿é—´çš„æ¯”å–»</strong></p>
                <p class="mt-2">
                    æƒ³è±¡ä¸€ä¸ªæœ‰10000ä¸ªæˆ¿é—´çš„å·¨å‹é…’åº—ï¼Œæ¯ä¸ªè¯æ˜¯ä¸€ä¸ªå®¢äººï¼š
                </p>
                <ul class="mt-2">
                    <li>"å°çŒ«"ä½åœ¨2341å·æˆ¿</li>
                    <li>"å°ç‹—"ä½åœ¨3782å·æˆ¿</li>
                    <li>"çˆ±æƒ…"ä½åœ¨520å·æˆ¿ï¼ˆè¿™ä¸ªå·§åˆå¾ˆæœ‰è¶£ï¼ï¼‰</li>
                </ul>
                <p class="mt-2">
                    ç‹¬çƒ­ç¼–ç å°±æ˜¯ï¼šæ¯ä¸ªå®¢äººç‹¬å ä¸€ä¸ªæˆ¿é—´ï¼Œå…¶ä»–æˆ¿é—´éƒ½ç©ºç€ã€‚è¿™å¾ˆæµªè´¹ï¼Œè€Œä¸”æˆ¿é—´å·å‘Šè¯‰ä¸äº†æˆ‘ä»¬å®¢äººä¹‹é—´çš„å…³ç³»ã€‚
                </p>
            </div>

            <div class="think-box">
                <h4>ğŸ¤” æ€è€ƒä¸€ä¸‹</h4>
                <ul>
                    <li>å¦‚æœä¸­æ–‡è¯æ±‡æœ‰5ä¸‡ä¸ªï¼Œç‹¬çƒ­ç¼–ç éœ€è¦å¤šé•¿çš„å‘é‡ï¼Ÿ</li>
                    <li>è¿™ç§ç¼–ç æ–¹å¼ä¸‹ï¼Œ"ç¾ä¸½"å’Œ"æ¼‚äº®"çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ</li>
                    <li>ä¸ºä»€ä¹ˆè¯´ç‹¬çƒ­ç¼–ç æ˜¯"æœ€æ‡’"çš„ç¼–ç æ–¹å¼ï¼Ÿ</li>
                </ul>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <span class="code-lang">Python - ç‹¬çƒ­ç¼–ç å®ç°</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="toggleCode(this)">å±•å¼€</button>
                        <button class="code-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                    </div>
                </div>
                <div class="code-content">
                    <pre><span class="keyword">import</span> numpy <span class="keyword">as</span> np

<span class="keyword">class</span> <span class="function">OneHotEncoder</span>:
    <span class="string">"""ç‹¬çƒ­ç¼–ç å™¨"""</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        self.word_to_id = {}
        self.id_to_word = {}
        self.vocab_size = <span class="number">0</span>

    <span class="keyword">def</span> <span class="function">fit</span>(self, words):
        <span class="string">"""æ„å»ºè¯æ±‡è¡¨"""</span>
        unique_words = sorted(set(words))
        <span class="keyword">for</span> idx, word <span class="keyword">in</span> enumerate(unique_words):
            self.word_to_id[word] = idx
            self.id_to_word[idx] = word
        self.vocab_size = len(unique_words)

    <span class="keyword">def</span> <span class="function">encode</span>(self, word):
        <span class="string">"""å°†è¯ç¼–ç ä¸ºç‹¬çƒ­å‘é‡"""</span>
        vector = np.zeros(self.vocab_size)
        <span class="keyword">if</span> word <span class="keyword">in</span> self.word_to_id:
            vector[self.word_to_id[word]] = <span class="number">1</span>
        <span class="keyword">return</span> vector

    <span class="keyword">def</span> <span class="function">decode</span>(self, vector):
        <span class="string">"""å°†ç‹¬çƒ­å‘é‡è§£ç ä¸ºè¯"""</span>
        idx = np.argmax(vector)
        <span class="keyword">return</span> self.id_to_word.get(idx, <span class="string">'<UNK>'</span>)

<span class="comment"># ä½¿ç”¨ç¤ºä¾‹</span>
words = [<span class="string">'å°çŒ«'</span>, <span class="string">'å°ç‹—'</span>, <span class="string">'ç‰›å¥¶'</span>, <span class="string">'éª¨å¤´'</span>, <span class="string">'å–œæ¬¢'</span>, <span class="string">'åƒ'</span>, <span class="string">'å–'</span>]
encoder = OneHotEncoder()
encoder.fit(words)

<span class="comment"># ç¼–ç </span>
cat_vector = encoder.encode(<span class="string">'å°çŒ«'</span>)
dog_vector = encoder.encode(<span class="string">'å°ç‹—'</span>)

print(<span class="string">f"'å°çŒ«'çš„ç‹¬çƒ­ç¼–ç : {cat_vector}"</span>)
print(<span class="string">f"'å°ç‹—'çš„ç‹¬çƒ­ç¼–ç : {dog_vector}"</span>)

<span class="comment"># è®¡ç®—ç›¸ä¼¼åº¦ï¼ˆä½™å¼¦ç›¸ä¼¼åº¦ï¼‰</span>
<span class="keyword">def</span> <span class="function">cosine_similarity</span>(v1, v2):
    <span class="keyword">return</span> np.dot(v1, v2) / (np.linalg.norm(v1) * np.linalg.norm(v2))

similarity = cosine_similarity(cat_vector, dog_vector)
print(<span class="string">f"\n'å°çŒ«'å’Œ'å°ç‹—'çš„ç›¸ä¼¼åº¦: {similarity}"</span>)  <span class="comment"># ç»“æœæ˜¯0ï¼</span></pre>
                </div>
            </div>

            <div class="demo-container">
                <h3 class="mb-3">ç‹¬çƒ­ç¼–ç çš„é—®é¢˜å¯è§†åŒ–</h3>

                <div class="heatmap">
                    <h4 class="text-center mb-3" style="color: var(--primary-light);">è¯æ±‡ç›¸ä¼¼åº¦çŸ©é˜µï¼ˆç‹¬çƒ­ç¼–ç ï¼‰</h4>
                    <div class="heatmap-grid">
                        <div class="heatmap-row">
                            <div class="heatmap-cell heatmap-label"></div>
                            <div class="heatmap-cell heatmap-label">å°çŒ«</div>
                            <div class="heatmap-cell heatmap-label">å°ç‹—</div>
                            <div class="heatmap-cell heatmap-label">æ±½è½¦</div>
                            <div class="heatmap-cell heatmap-label">é£æœº</div>
                        </div>
                        <div class="heatmap-row">
                            <div class="heatmap-cell heatmap-label">å°çŒ«</div>
                            <div class="heatmap-cell" style="background: #10b981;">1.0</div>
                            <div class="heatmap-cell" style="background: #1e293b;">0.0</div>
                            <div class="heatmap-cell" style="background: #1e293b;">0.0</div>
                            <div class="heatmap-cell" style="background: #1e293b;">0.0</div>
                        </div>
                        <div class="heatmap-row">
                            <div class="heatmap-cell heatmap-label">å°ç‹—</div>
                            <div class="heatmap-cell" style="background: #1e293b;">0.0</div>
                            <div class="heatmap-cell" style="background: #10b981;">1.0</div>
                            <div class="heatmap-cell" style="background: #1e293b;">0.0</div>
                            <div class="heatmap-cell" style="background: #1e293b;">0.0</div>
                        </div>
                        <div class="heatmap-row">
                            <div class="heatmap-cell heatmap-label">æ±½è½¦</div>
                            <div class="heatmap-cell" style="background: #1e293b;">0.0</div>
                            <div class="heatmap-cell" style="background: #1e293b;">0.0</div>
                            <div class="heatmap-cell" style="background: #10b981;">1.0</div>
                            <div class="heatmap-cell" style="background: #1e293b;">0.0</div>
                        </div>
                        <div class="heatmap-row">
                            <div class="heatmap-cell heatmap-label">é£æœº</div>
                            <div class="heatmap-cell" style="background: #1e293b;">0.0</div>
                            <div class="heatmap-cell" style="background: #1e293b;">0.0</div>
                            <div class="heatmap-cell" style="background: #1e293b;">0.0</div>
                            <div class="heatmap-cell" style="background: #10b981;">1.0</div>
                        </div>
                    </div>
                    <p class="text-center mt-3 text-muted">
                        ç‹¬çƒ­ç¼–ç ä¸‹ï¼Œæ‰€æœ‰ä¸åŒçš„è¯ä¹‹é—´çš„ç›¸ä¼¼åº¦éƒ½æ˜¯0
                    </p>
                </div>
            </div>

            <div class="tip danger mt-4">
                <span class="tip-icon">âš ï¸</span>
                <strong>ç‹¬çƒ­ç¼–ç çš„è‡´å‘½ç¼ºé™·</strong>
                <ul class="mt-2">
                    <li><strong>ç»´åº¦ç¾éš¾ï¼š</strong>è¯æ±‡è¡¨æœ‰å¤šå¤§ï¼Œå‘é‡å°±æœ‰å¤šé•¿ï¼ˆæƒ³è±¡50000ç»´ï¼ï¼‰</li>
                    <li><strong>ç¨€ç–æ€§ï¼š</strong>99.99%çš„ä½ç½®éƒ½æ˜¯0ï¼Œæåº¦æµªè´¹</li>
                    <li><strong>è¯­ä¹‰é¸¿æ²Ÿï¼š</strong>æ— æ³•è¡¨ç¤ºè¯ä¹‹é—´çš„ä»»ä½•å…³ç³»</li>
                    <li><strong>æ³›åŒ–å›°éš¾ï¼š</strong>æ²¡è§è¿‡çš„è¯å®Œå…¨æ— æ³•å¤„ç†</li>
                </ul>
            </div>
        </section>

        <!-- åˆ†å¸ƒå¼è¡¨ç¤º -->
        <section id="distributed" class="section-card">
            <h2>ğŸŒŸ åˆ†å¸ƒå¼è¡¨ç¤ºï¼šè¯­ä¹‰çš„å¯†ç </h2>

            <div class="story-card">
                <span class="story-icon">ğŸ¨</span>
                <p><strong>ä»é»‘ç™½åˆ°å½©è‰²çš„ä¸–ç•Œ</strong></p>
                <p class="mt-2">
                    å¦‚æœç‹¬çƒ­ç¼–ç æ˜¯é»‘ç™½ç…§ç‰‡ï¼ˆé0å³1ï¼‰ï¼Œé‚£ä¹ˆåˆ†å¸ƒå¼è¡¨ç¤ºå°±æ˜¯å½©è‰²ç…§ç‰‡â€”â€”ç”¨è¿ç»­çš„æ•°å€¼æç»˜å‡ºè¯è¯­çš„ä¸°å¯Œå†…æ¶µã€‚
                </p>
                <p class="mt-2">
                    è¯­è¨€å­¦å®¶J.R. Firthåœ¨1957å¹´è¯´è¿‡ä¸€å¥åè¨€ï¼š
                </p>
                <blockquote class="mt-3" style="font-size: 1.2rem; font-style: italic; border-left: 4px solid var(--primary); padding-left: 1rem; color: var(--primary-light);">
                    "You shall know a word by the company it keeps."<br>
                    <small style="color: var(--text-muted);">ï¼ˆé€šè¿‡ä¸€ä¸ªè¯çš„æœ‹å‹åœˆï¼Œå°±èƒ½äº†è§£è¿™ä¸ªè¯ï¼‰</small>
                </blockquote>
            </div>

            <h3>åˆ†å¸ƒå‡è®¾ï¼šä¸Šä¸‹æ–‡å†³å®šè¯­ä¹‰</h3>

            <div class="demo-container">
                <p class="mb-3"><strong>è§‚å¯Ÿä¸‹é¢çš„å¥å­ï¼ŒçŒœçŒœ"å’ªå’ª"æ˜¯ä»€ä¹ˆï¼š</strong></p>

                <div class="card-grid">
                    <div class="info-card">
                        <p>"å’ªå’ªå–œæ¬¢åƒé±¼"</p>
                        <p>"å’ªå’ªåœ¨æ²™å‘ä¸Šç¡è§‰"</p>
                        <p>"å’ªå’ªè¿½ç€è€é¼ è·‘"</p>
                        <p>"æˆ‘å®¶çš„å’ªå’ªå¾ˆå¯çˆ±"</p>
                        <p class="mt-3 text-center" style="color: var(--success); font-size: 1.2rem;">
                            ğŸ’¡ å’ªå’ª â‰ˆ çŒ«
                        </p>
                    </div>

                    <div class="info-card">
                        <p>"æ±ªæ±ªå–œæ¬¢å•ƒéª¨å¤´"</p>
                        <p>"æ±ªæ±ªæ‘‡ç€å°¾å·´"</p>
                        <p>"æ±ªæ±ªå¯¹é™Œç”Ÿäººå«"</p>
                        <p>"å¸¦æ±ªæ±ªå»æ•£æ­¥"</p>
                        <p class="mt-3 text-center" style="color: var(--success); font-size: 1.2rem;">
                            ğŸ’¡ æ±ªæ±ª â‰ˆ ç‹—
                        </p>
                    </div>
                </div>

                <p class="mt-3 text-center" style="color: var(--primary-light); font-size: 1.1rem;">
                    å³ä½¿ä½ ä»æ²¡è§è¿‡"å’ªå’ª"å’Œ"æ±ªæ±ª"è¿™ä¸¤ä¸ªè¯ï¼Œé€šè¿‡ä¸Šä¸‹æ–‡ä¹Ÿèƒ½æ¨æ–­å‡ºå®ƒä»¬çš„æ„æ€ï¼
                </p>
            </div>

            <div class="think-box">
                <h4>ğŸ¤” æ·±å…¥æ€è€ƒ</h4>
                <ul>
                    <li>ä¸ºä»€ä¹ˆè¯´"ç‰©ä»¥ç±»èšï¼Œäººä»¥ç¾¤åˆ†"ä¹Ÿé€‚ç”¨äºè¯æ±‡ï¼Ÿ</li>
                    <li>å¦‚æœä¸€ä¸ªè¯æ€»æ˜¯å’Œ"ç¾å‘³"ã€"é¦™ç”œ"ã€"è¥å…»"ä¸€èµ·å‡ºç°ï¼Œä½ è§‰å¾—å®ƒæ˜¯ä»€ä¹ˆç±»å‹çš„è¯ï¼Ÿ</li>
                    <li>è¿™ç§é€šè¿‡ä¸Šä¸‹æ–‡å­¦ä¹ çš„æ–¹æ³•ï¼Œå’Œäººç±»å­¦ä¹ è¯­è¨€æœ‰ä»€ä¹ˆç›¸ä¼¼ä¹‹å¤„ï¼Ÿ</li>
                </ul>
            </div>

            <div class="algorithm-steps">
                <h4 class="mb-4" style="color: var(--primary-light);">ğŸ” å¦‚ä½•å­¦ä¹ åˆ†å¸ƒå¼è¡¨ç¤º</h4>

                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h5>æ”¶é›†ä¸Šä¸‹æ–‡</h5>
                        <p>ç»Ÿè®¡æ¯ä¸ªè¯å‘¨å›´ç»å¸¸å‡ºç°çš„è¯</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">ä¸Šä¸‹æ–‡çª—å£ç¤ºä¾‹</span>
                            </div>
                            <div class="code-content">
                                <pre>å¥å­ï¼šå°çŒ« [å–œæ¬¢] å– ç‰›å¥¶ å’Œ ç¡è§‰

å¯¹äº"å–œæ¬¢"ï¼Œçª—å£å¤§å°=2æ—¶ï¼š
å·¦ä¾§ä¸Šä¸‹æ–‡ï¼š[å°çŒ«]
å³ä¾§ä¸Šä¸‹æ–‡ï¼š[å–, ç‰›å¥¶]

æ”¶é›†åˆ°çš„ä¸Šä¸‹æ–‡è¯ï¼š{å°çŒ«, å–, ç‰›å¥¶}</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h5>æ„å»ºå…±ç°çŸ©é˜µ</h5>
                        <p>ç»Ÿè®¡è¯ä¸è¯å…±åŒå‡ºç°çš„é¢‘ç‡</p>
                        <div class="comparison-table">
                            <table style="font-size: 0.9rem;">
                                <thead>
                                <tr>
                                    <th></th>
                                    <th>å°çŒ«</th>
                                    <th>å°ç‹—</th>
                                    <th>å–</th>
                                    <th>åƒ</th>
                                    <th>ç‰›å¥¶</th>
                                    <th>éª¨å¤´</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td><strong>å°çŒ«</strong></td>
                                    <td>0</td>
                                    <td>2</td>
                                    <td>15</td>
                                    <td>8</td>
                                    <td>20</td>
                                    <td>1</td>
                                </tr>
                                <tr>
                                    <td><strong>å°ç‹—</strong></td>
                                    <td>2</td>
                                    <td>0</td>
                                    <td>3</td>
                                    <td>18</td>
                                    <td>2</td>
                                    <td>25</td>
                                </tr>
                                <tr>
                                    <td><strong>å–</strong></td>
                                    <td>15</td>
                                    <td>3</td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>30</td>
                                    <td>0</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="think-box mt-3">
                            <h4>ğŸ¤” è§‚å¯ŸçŸ©é˜µ</h4>
                            <ul>
                                <li>ä¸ºä»€ä¹ˆ"å°çŒ«"å’Œ"ç‰›å¥¶"çš„å…±ç°æ¬¡æ•°æ¯”"å°çŒ«"å’Œ"éª¨å¤´"å¤šï¼Ÿ</li>
                                <li>è¿™ä¸ªçŸ©é˜µåæ˜ äº†ä»€ä¹ˆæ ·çš„è¯­ä¹‰å…³ç³»ï¼Ÿ</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h5>é™ç»´å‹ç¼©</h5>
                        <p>å°†é«˜ç»´ç¨€ç–çŸ©é˜µå‹ç¼©æˆä½ç»´ç¨ å¯†å‘é‡</p>
                        <div class="flow-container" style="justify-content: space-around;">
                            <div class="flow-step">
                                <span class="flow-step-icon">ğŸ“Š</span>
                                <div class="flow-step-title">å…±ç°çŸ©é˜µ</div>
                                <div class="text-muted" style="font-size: 0.875rem;">
                                    50000 Ã— 50000<br>
                                    ç¨€ç–ã€é«˜ç»´
                                </div>
                            </div>
                            <div class="flow-arrow">â†’</div>
                            <div class="flow-step">
                                <span class="flow-step-icon">ğŸ”®</span>
                                <div class="flow-step-title">SVD/ç¥ç»ç½‘ç»œ</div>
                                <div class="text-muted" style="font-size: 0.875rem;">
                                    é™ç»´ç®—æ³•<br>
                                    ä¿ç•™ä¸»è¦ä¿¡æ¯
                                </div>
                            </div>
                            <div class="flow-arrow">â†’</div>
                            <div class="flow-step">
                                <span class="flow-step-icon">âœ¨</span>
                                <div class="flow-step-title">è¯å‘é‡</div>
                                <div class="text-muted" style="font-size: 0.875rem;">
                                    50000 Ã— 300<br>
                                    ç¨ å¯†ã€ä½ç»´
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tip info mt-4">
                <span class="tip-icon">ğŸ§ </span>
                <strong>ç»´åº¦çš„å«ä¹‰ï¼šè¯å‘é‡åœ¨ç¼–ç ä»€ä¹ˆï¼Ÿ</strong>
                <p class="mt-2">
                    300ç»´çš„è¯å‘é‡ï¼Œæ¯ä¸€ç»´éƒ½åœ¨ç¼–ç æŸç§è¯­ä¹‰æˆ–è¯­æ³•ç‰¹å¾ã€‚è™½ç„¶å•ä¸ªç»´åº¦éš¾ä»¥è§£é‡Šï¼Œä½†å®ƒä»¬å…±åŒæ•è·äº†ï¼š
                </p>
                <ul class="mt-2">
                    <li><strong>è¯­æ³•ä¿¡æ¯ï¼š</strong>è¯æ€§ã€æ—¶æ€ã€å•å¤æ•°...</li>
                    <li><strong>è¯­ä¹‰ç±»åˆ«ï¼š</strong>ç”Ÿç‰©/éç”Ÿç‰©ã€å…·ä½“/æŠ½è±¡...</li>
                    <li><strong>æƒ…æ„Ÿè‰²å½©ï¼š</strong>ç§¯æ/æ¶ˆæã€å¼ºçƒˆ/æ¸©å’Œ...</li>
                    <li><strong>ä¸»é¢˜ç›¸å…³ï¼š</strong>ç§‘æŠ€ã€è‰ºæœ¯ã€ä½“è‚²...</li>
                </ul>
            </div>
        </section>

        <!-- Word2Vec -->
        <section id="word2vec" class="section-card">
            <h2>âš¡ Word2Vecï¼šå¼€åˆ›æ€§çš„çªç ´</h2>

            <div class="story-card">
                <span class="story-icon">ğŸš€</span>
                <p><strong>2013å¹´ï¼Œæ”¹å˜æ¸¸æˆè§„åˆ™çš„ç®—æ³•</strong></p>
                <p class="mt-2">
                    åœ¨Word2Vecä¹‹å‰ï¼Œè®­ç»ƒè¯å‘é‡éœ€è¦å‡ å‘¨æ—¶é—´ã€‚Mikolovçš„æ–°ç®—æ³•å°†è¿™ä¸ªæ—¶é—´ç¼©çŸ­åˆ°å‡ å°æ—¶ï¼Œè€Œä¸”æ•ˆæœæ›´å¥½ï¼
                </p>
                <p class="mt-2">
                    ç§˜è¯€æ˜¯ä»€ä¹ˆï¼Ÿä»–æŠ›å¼ƒäº†å¤æ‚çš„è¯­è¨€æ¨¡å‹ï¼Œè®¾è®¡äº†ä¸¤ä¸ªæå…¶ç®€å•ä½†æœ‰æ•ˆçš„ä»»åŠ¡ï¼š
                </p>
                <ul class="mt-2">
                    <li><strong>CBOWï¼š</strong>çœ‹åˆ°"å°çŒ« [?] ç‰›å¥¶"ï¼Œé¢„æµ‹ä¸­é—´æ˜¯"å–"</li>
                    <li><strong>Skip-gramï¼š</strong>çœ‹åˆ°"å–"ï¼Œé¢„æµ‹å‘¨å›´æ˜¯"å°çŒ«"å’Œ"ç‰›å¥¶"</li>
                </ul>
            </div>

            <div class="think-box">
                <h4>ğŸ¤” æ€è€ƒä¸€ä¸‹</h4>
                <ul>
                    <li>ä¸ºä»€ä¹ˆé¢„æµ‹ä¸Šä¸‹æ–‡çš„ä»»åŠ¡èƒ½å­¦åˆ°è¯­ä¹‰ï¼Ÿ</li>
                    <li>CBOWå’ŒSkip-gramå“ªä¸ªæ›´é€‚åˆå¤„ç†ç¨€æœ‰è¯ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</li>
                    <li>è¿™ç§è‡ªç›‘ç£å­¦ä¹ çš„æ€æƒ³å¯¹åæ¥çš„BERTæœ‰ä»€ä¹ˆå¯å‘ï¼Ÿ</li>
                </ul>
            </div>

            <div class="flow-diagram">
                <h4 class="text-center mb-4" style="color: var(--primary-light);">ğŸ¯ Word2Vecçš„ä¸¤ç§æ¶æ„</h4>

                <div class="card-grid">
                    <div class="info-card">
                        <h4 class="text-center mb-3" style="color: var(--info);">CBOWï¼ˆè¿ç»­è¯è¢‹ï¼‰</h4>
                        <div class="text-center">
                            <svg width="300" height="200" viewBox="0 0 300 200">
                                <!-- è¾“å…¥è¯ -->
                                <rect x="20" y="20" width="60" height="30" fill="#3b82f6" rx="5"/>
                                <text x="50" y="40" text-anchor="middle" fill="white" font-size="12">å°çŒ«</text>

                                <rect x="20" y="60" width="60" height="30" fill="#3b82f6" rx="5"/>
                                <text x="50" y="80" text-anchor="middle" fill="white" font-size="12">å–œæ¬¢</text>

                                <rect x="20" y="100" width="60" height="30" fill="#3b82f6" rx="5"/>
                                <text x="50" y="120" text-anchor="middle" fill="white" font-size="12">[?]</text>

                                <rect x="20" y="140" width="60" height="30" fill="#3b82f6" rx="5"/>
                                <text x="50" y="160" text-anchor="middle" fill="white" font-size="12">ç‰›å¥¶</text>

                                <!-- ç®­å¤´ -->
                                <path d="M 80 35 L 120 85" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>
                                <path d="M 80 75 L 120 85" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>
                                <path d="M 80 155 L 120 85" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>

                                <!-- éšè—å±‚ -->
                                <circle cx="150" cy="85" r="30" fill="#8b5cf6"/>
                                <text x="150" y="90" text-anchor="middle" fill="white" font-size="12">å¹³å‡</text>

                                <!-- è¾“å‡º -->
                                <path d="M 180 85 L 220 85" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>
                                <rect x="220" y="70" width="60" height="30" fill="#10b981" rx="5"/>
                                <text x="250" y="90" text-anchor="middle" fill="white" font-size="12">å–</text>

                                <!-- ç®­å¤´æ ‡è®° -->
                                <defs>
                                    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                        <polygon points="0 0, 10 3.5, 0 7" fill="#64748b"/>
                                    </marker>
                                </defs>
                            </svg>
                        </div>
                        <p class="mt-3 text-center text-muted">
                            ç”¨ä¸Šä¸‹æ–‡é¢„æµ‹ä¸­å¿ƒè¯<br>
                            é€‚åˆï¼šé¢‘ç¹è¯ã€å°æ•°æ®é›†
                        </p>
                    </div>

                    <div class="info-card">
                        <h4 class="text-center mb-3" style="color: var(--secondary);">Skip-gram</h4>
                        <div class="text-center">
                            <svg width="300" height="200" viewBox="0 0 300 200">
                                <!-- è¾“å…¥è¯ -->
                                <rect x="20" y="70" width="60" height="30" fill="#ec4899" rx="5"/>
                                <text x="50" y="90" text-anchor="middle" fill="white" font-size="12">å–</text>

                                <!-- éšè—å±‚ -->
                                <circle cx="150" cy="85" r="30" fill="#8b5cf6"/>
                                <text x="150" y="90" text-anchor="middle" fill="white" font-size="12">æŠ•å½±</text>

                                <!-- ç®­å¤´ -->
                                <path d="M 80 85 L 120 85" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead2)"/>

                                <!-- è¾“å‡ºè¯ -->
                                <path d="M 180 85 L 220 35" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead2)"/>
                                <rect x="220" y="20" width="60" height="30" fill="#f59e0b" rx="5"/>
                                <text x="250" y="40" text-anchor="middle" fill="white" font-size="12">å°çŒ«</text>

                                <path d="M 180 85 L 220 75" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead2)"/>
                                <rect x="220" y="60" width="60" height="30" fill="#f59e0b" rx="5"/>
                                <text x="250" y="80" text-anchor="middle" fill="white" font-size="12">å–œæ¬¢</text>

                                <path d="M 180 85 L 220 115" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead2)"/>
                                <rect x="220" y="100" width="60" height="30" fill="#f59e0b" rx="5"/>
                                <text x="250" y="120" text-anchor="middle" fill="white" font-size="12">ç‰›å¥¶</text>

                                <!-- ç®­å¤´æ ‡è®° -->
                                <defs>
                                    <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                        <polygon points="0 0, 10 3.5, 0 7" fill="#64748b"/>
                                    </marker>
                                </defs>
                            </svg>
                        </div>
                        <p class="mt-3 text-center text-muted">
                            ç”¨ä¸­å¿ƒè¯é¢„æµ‹ä¸Šä¸‹æ–‡<br>
                            é€‚åˆï¼šç¨€æœ‰è¯ã€å¤§æ•°æ®é›†
                        </p>
                    </div>
                </div>
            </div>

            <div class="math-display">
                <h4 class="mb-3" style="color: var(--primary-light);">Skip-gramçš„æ•°å­¦åŸç†</h4>

                <p>ç»™å®šä¸­å¿ƒè¯ $w_c$ å’Œä¸Šä¸‹æ–‡è¯ $w_o$ï¼Œç›®æ ‡æ˜¯æœ€å¤§åŒ–ï¼š</p>

                <p class="math-formula">
                    $P(w_o|w_c) = \frac{\exp(\vec{u}_o^T \vec{v}_c)}{\sum_{w \in V} \exp(\vec{u}_w^T \vec{v}_c)}$
                </p>

                <div class="formula-explanation">
                    <h5>ğŸ“– å…¬å¼è§£è¯»ï¼šå¦‚ä½•è®¡ç®—ä¸€ä¸ªè¯å‡ºç°çš„æ¦‚ç‡ï¼Ÿ</h5>
                    <table class="formula-table">
                        <tr>
                            <td class="formula-part">$\vec{v}_c$</td>
                            <td class="formula-meaning">ä¸­å¿ƒè¯çš„è¾“å…¥å‘é‡ï¼ˆå¦‚"å–"çš„å‘é‡ï¼‰</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$\vec{u}_o$</td>
                            <td class="formula-meaning">ä¸Šä¸‹æ–‡è¯çš„è¾“å‡ºå‘é‡ï¼ˆå¦‚"ç‰›å¥¶"çš„å‘é‡ï¼‰</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$\vec{u}_o^T \vec{v}_c$</td>
                            <td class="formula-meaning">ä¸¤ä¸ªå‘é‡çš„ç‚¹ç§¯ï¼Œè¶Šå¤§è¡¨ç¤ºè¶Šå¯èƒ½ä¸€èµ·å‡ºç°</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$\exp(...)$</td>
                            <td class="formula-meaning">æŒ‡æ•°å‡½æ•°ï¼ŒæŠŠç‚¹ç§¯è½¬æ¢ä¸ºæ­£æ•°</td>
                        </tr>
                        <tr>
                            <td class="formula-part">åˆ†æ¯</td>
                            <td class="formula-meaning">æ‰€æœ‰è¯çš„å¾—åˆ†æ€»å’Œï¼Œç”¨äºå½’ä¸€åŒ–æˆæ¦‚ç‡</td>
                        </tr>
                    </table>

                    <div class="code-from-math">
                        <h6>ğŸ’» ä»£ç å®ç°ï¼š</h6>
                        <pre style="color: #e6edf3; margin: 0;">
<span class="comment"># å‡è®¾å·²æœ‰ä¸­å¿ƒè¯å‘é‡v_cå’Œæ‰€æœ‰è¯çš„è¾“å‡ºå‘é‡U</span>
scores = np.dot(U, v_c)          <span class="comment"># è®¡ç®—æ‰€æœ‰è¯çš„å¾—åˆ†</span>
exp_scores = np.exp(scores)      <span class="comment"># è½¬æ¢ä¸ºæ­£æ•°</span>
probabilities = exp_scores / np.sum(exp_scores)  <span class="comment"># å½’ä¸€åŒ–</span></pre>
                    </div>

                    <p class="mt-3"><strong>ğŸ’¡ ç›®æ ‡ï¼š</strong>è®©ç»å¸¸ä¸€èµ·å‡ºç°çš„è¯å¯¹æœ‰é«˜æ¦‚ç‡ï¼Œä¸å¸¸ä¸€èµ·å‡ºç°çš„è¯å¯¹æœ‰ä½æ¦‚ç‡ã€‚</p>
                </div>
            </div>

            <div class="demo-container mt-4">
                <h3 class="mb-3">ğŸ“ ä»é›¶ç†è§£ï¼šè¯å‘é‡æ˜¯æ€ä¹ˆè®­ç»ƒå‡ºæ¥çš„ï¼Ÿ</h3>

                <div class="training-example">
                    <h4>å‡è®¾æˆ‘ä»¬åªæœ‰3ä¸ªè¯ï¼šçŒ«ã€å–ã€ç‰›å¥¶</h4>
                    <p>è®­ç»ƒå¥å­ï¼š"çŒ«å–ç‰›å¥¶"</p>

                    <div class="step-by-step">
                        <div class="training-step">
                            <h5>ç¬¬1æ­¥ï¼šéšæœºåˆå§‹åŒ–è¯å‘é‡</h5>
                            <pre style="background: var(--bg-code); padding: 1rem; border-radius: 0.5rem;">
çŒ«   = [0.2, -0.5]  <span class="comment"># éšæœºçš„2ç»´å‘é‡</span>
å–   = [-0.1, 0.3]
ç‰›å¥¶ = [0.4, -0.2]</pre>
                        </div>

                        <div class="training-step mt-3">
                            <h5>ç¬¬2æ­¥ï¼šç”¨Skip-gramé¢„æµ‹</h5>
                            <p>è¾“å…¥"å–"ï¼Œé¢„æµ‹å‘¨å›´åº”è¯¥å‡ºç°ä»€ä¹ˆè¯</p>
                            <pre style="background: var(--bg-code); padding: 1rem; border-radius: 0.5rem;">
<span class="comment"># è®¡ç®—"å–"é¢„æµ‹å…¶ä»–è¯çš„å¾—åˆ†</span>
score(å–â†’çŒ«) = å–Â·çŒ« = (-0.1)Ã—0.2 + 0.3Ã—(-0.5) = -0.17
score(å–â†’ç‰›å¥¶) = å–Â·ç‰›å¥¶ = (-0.1)Ã—0.4 + 0.3Ã—(-0.2) = -0.1

<span class="comment"># è½¬æ¢æˆæ¦‚ç‡ï¼ˆsoftmaxï¼‰</span>
P(çŒ«|å–) = exp(-0.17) / (exp(-0.17) + exp(-0.1)) = 0.47
P(ç‰›å¥¶|å–) = exp(-0.1) / (exp(-0.17) + exp(-0.1)) = 0.53</pre>
                        </div>

                        <div class="training-step mt-3">
                            <h5>ç¬¬3æ­¥ï¼šè®¡ç®—è¯¯å·®å¹¶æ›´æ–°</h5>
                            <p>å®é™…ä¸Š"çŒ«"å’Œ"ç‰›å¥¶"éƒ½åº”è¯¥æ˜¯100%ï¼ˆå› ä¸ºå®ƒä»¬ç¡®å®å‡ºç°äº†ï¼‰</p>
                            <pre style="background: var(--bg-code); padding: 1rem; border-radius: 0.5rem;">
<span class="comment"># è¯¯å·® = å®é™… - é¢„æµ‹</span>
error(çŒ«) = 1.0 - 0.47 = 0.53    <span class="comment"># é¢„æµ‹å¤ªä½äº†</span>
error(ç‰›å¥¶) = 1.0 - 0.53 = 0.47  <span class="comment"># é¢„æµ‹å¤ªä½äº†</span>

<span class="comment"># æ›´æ–°å‘é‡ï¼ˆç®€åŒ–ç‰ˆï¼‰</span>
å–_new = å– + learning_rate Ã— (error(çŒ«)Ã—çŒ« + error(ç‰›å¥¶)Ã—ç‰›å¥¶)
çŒ«_new = çŒ« + learning_rate Ã— error(çŒ«)Ã—å–
ç‰›å¥¶_new = ç‰›å¥¶ + learning_rate Ã— error(ç‰›å¥¶)Ã—å–</pre>
                        </div>

                        <div class="training-step mt-3">
                            <h5>ç¬¬4æ­¥ï¼šé‡å¤å¤šæ¬¡å...</h5>
                            <p>ç»è¿‡æˆåƒä¸Šä¸‡æ¬¡è¿™æ ·çš„æ›´æ–°ï¼Œè¯å‘é‡ä¼šè°ƒæ•´åˆ°ï¼š</p>
                            <ul>
                                <li>ç»å¸¸ä¸€èµ·å‡ºç°çš„è¯ï¼ˆå¦‚"çŒ«"å’Œ"ç‰›å¥¶"ï¼‰å‘é‡ä¼šæ¯”è¾ƒç›¸ä¼¼</li>
                                <li>å¾ˆå°‘ä¸€èµ·å‡ºç°çš„è¯å‘é‡ä¼šæ¯”è¾ƒä¸åŒ</li>
                                <li>æœ€ç»ˆå½¢æˆä¸€ä¸ªåˆç†çš„è¯­ä¹‰ç©ºé—´</li>
                            </ul>
                        </div>
                    </div>

                    <div class="tip success mt-3">
                        <span class="tip-icon">ğŸ’¡</span>
                        <strong>å…³é”®æ´å¯Ÿ</strong>
                        <p class="mt-2">
                            è¯å‘é‡ä¸æ˜¯äººå·¥è®¾è®¡çš„ï¼Œè€Œæ˜¯é€šè¿‡é¢„æµ‹ä»»åŠ¡è‡ªåŠ¨å­¦ä¹ å‡ºæ¥çš„ã€‚æ¨¡å‹é€šè¿‡ä¸æ–­è°ƒæ•´å‘é‡ï¼Œè®©ç»å¸¸ä¸€èµ·å‡ºç°çš„è¯æœ‰ç›¸ä¼¼çš„å‘é‡ï¼Œä»è€Œæ•è·äº†è¯­ä¹‰ä¿¡æ¯ã€‚
                        </p>
                    </div>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">Python - ç®€åŒ–ç‰ˆSkip-gramå®ç°</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="toggleCode(this)">å±•å¼€</button>
                        <button class="code-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                    </div>
                </div>
                <div class="code-content collapsed">
                    <pre><span class="keyword">import</span> numpy <span class="keyword">as</span> np
<span class="keyword">import</span> torch
<span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn
<span class="keyword">import</span> torch.optim <span class="keyword">as</span> optim

<span class="keyword">class</span> <span class="function">SkipGram</span>(nn.Module):
    <span class="string">"""Skip-gramæ¨¡å‹"""</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self, vocab_size, embedding_dim):
        <span class="keyword">super</span>(SkipGram, self).__init__()

        <span class="comment"># è¯åµŒå…¥å±‚ï¼ˆè¿™å°±æ˜¯æˆ‘ä»¬è¦çš„è¯å‘é‡ï¼ï¼‰</span>
        self.embeddings = nn.Embedding(vocab_size, embedding_dim)

        <span class="comment"># è¾“å‡ºå±‚ï¼ˆé¢„æµ‹ä¸Šä¸‹æ–‡ï¼‰</span>
        self.output_layer = nn.Linear(embedding_dim, vocab_size)

        <span class="comment"># åˆå§‹åŒ–æƒé‡</span>
        self.embeddings.weight.data.uniform_(-<span class="number">0.5</span>, <span class="number">0.5</span>)
        self.output_layer.weight.data.uniform_(-<span class="number">0.5</span>, <span class="number">0.5</span>)

    <span class="keyword">def</span> <span class="function">forward</span>(self, center_word):
        <span class="string">"""å‰å‘ä¼ æ’­"""</span>
        <span class="comment"># è·å–ä¸­å¿ƒè¯çš„è¯å‘é‡</span>
        center_embedding = self.embeddings(center_word)

        <span class="comment"># é¢„æµ‹ä¸Šä¸‹æ–‡è¯çš„æ¦‚ç‡åˆ†å¸ƒ</span>
        output = self.output_layer(center_embedding)
        log_probs = torch.log_softmax(output, dim=<span class="number">1</span>)

        <span class="keyword">return</span> log_probs

    <span class="keyword">def</span> <span class="function">get_word_vector</span>(self, word_idx):
        <span class="string">"""è·å–è¯å‘é‡"""</span>
        <span class="keyword">return</span> self.embeddings.weight[word_idx].detach().numpy()

<span class="comment"># è®­ç»ƒç¤ºä¾‹</span>
<span class="keyword">def</span> <span class="function">train_word2vec</span>(sentences, vocab_size, embedding_dim=<span class="number">100</span>,
                     window_size=<span class="number">2</span>, epochs=<span class="number">10</span>):
    <span class="string">"""è®­ç»ƒWord2Vecæ¨¡å‹"""</span>
    model = SkipGram(vocab_size, embedding_dim)
    optimizer = optim.Adam(model.parameters(), lr=<span class="number">0.001</span>)

    <span class="keyword">for</span> epoch <span class="keyword">in</span> range(epochs):
        total_loss = <span class="number">0</span>

        <span class="keyword">for</span> sentence <span class="keyword">in</span> sentences:
            <span class="comment"># å¯¹æ¯ä¸ªå¥å­ç”Ÿæˆè®­ç»ƒæ ·æœ¬</span>
            <span class="keyword">for</span> center_pos <span class="keyword">in</span> range(len(sentence)):
                center_word = sentence[center_pos]

                <span class="comment"># è·å–ä¸Šä¸‹æ–‡è¯</span>
                context_words = []
                <span class="keyword">for</span> offset <span class="keyword">in</span> range(-window_size, window_size + <span class="number">1</span>):
                    <span class="keyword">if</span> offset != <span class="number">0</span>:
                        context_pos = center_pos + offset
                        <span class="keyword">if</span> <span class="number">0</span> <= context_pos < len(sentence):
                            context_words.append(sentence[context_pos])

                <span class="keyword">if</span> context_words:
                    <span class="comment"># å‰å‘ä¼ æ’­</span>
                    log_probs = model(torch.tensor([center_word]))

                    <span class="comment"># è®¡ç®—æŸå¤±ï¼ˆè´Ÿå¯¹æ•°ä¼¼ç„¶ï¼‰</span>
                    loss = <span class="number">0</span>
                    <span class="keyword">for</span> context_word <span class="keyword">in</span> context_words:
                        loss -= log_probs[<span class="number">0</span>, context_word]
                    loss /= len(context_words)

                    <span class="comment"># åå‘ä¼ æ’­</span>
                    optimizer.zero_grad()
                    loss.backward()
                    optimizer.step()

                    total_loss += loss.item()

        <span class="keyword">if</span> epoch % <span class="number">2</span> == <span class="number">0</span>:
            print(<span class="string">f"Epoch {epoch}, Loss: {total_loss:.4f}"</span>)

    <span class="keyword">return</span> model

<span class="comment"># ä½¿ç”¨gensimè®­ç»ƒä¸­æ–‡Word2Vec</span>
<span class="keyword">from</span> gensim.models <span class="keyword">import</span> Word2Vec

sentences = [
    [<span class="string">'å°çŒ«'</span>, <span class="string">'å–œæ¬¢'</span>, <span class="string">'å–'</span>, <span class="string">'ç‰›å¥¶'</span>],
    [<span class="string">'å°ç‹—'</span>, <span class="string">'å–œæ¬¢'</span>, <span class="string">'åƒ'</span>, <span class="string">'éª¨å¤´'</span>],
    [<span class="string">'å°çŒ«'</span>, <span class="string">'å’Œ'</span>, <span class="string">'å°ç‹—'</span>, <span class="string">'éƒ½æ˜¯'</span>, <span class="string">'å® ç‰©'</span>],
    [<span class="string">'ç‰›å¥¶'</span>, <span class="string">'æ˜¯'</span>, <span class="string">'ç™½è‰²'</span>, <span class="string">'çš„'</span>],
    [<span class="string">'éª¨å¤´'</span>, <span class="string">'å¾ˆ'</span>, <span class="string">'ç¡¬'</span>]
]

<span class="comment"># è®­ç»ƒæ¨¡å‹</span>
w2v_model = Word2Vec(sentences, vector_size=<span class="number">100</span>, window=<span class="number">2</span>,
                     min_count=<span class="number">1</span>, sg=<span class="number">1</span>)  <span class="comment"># sg=1è¡¨ç¤ºSkip-gram</span>

<span class="comment"># è·å–è¯å‘é‡</span>
cat_vector = w2v_model.wv[<span class="string">'å°çŒ«'</span>]
dog_vector = w2v_model.wv[<span class="string">'å°ç‹—'</span>]

<span class="comment"># è®¡ç®—ç›¸ä¼¼åº¦</span>
similarity = w2v_model.wv.similarity(<span class="string">'å°çŒ«'</span>, <span class="string">'å°ç‹—'</span>)
print(<span class="string">f"'å°çŒ«'å’Œ'å°ç‹—'çš„ç›¸ä¼¼åº¦: {similarity:.3f}"</span>)

<span class="comment"># æ‰¾æœ€ç›¸ä¼¼çš„è¯</span>
similar_words = w2v_model.wv.most_similar(<span class="string">'å°çŒ«'</span>, topn=<span class="number">3</span>)
print(<span class="string">f"ä¸'å°çŒ«'æœ€ç›¸ä¼¼çš„è¯: {similar_words}"</span>)</pre>
                </div>
            </div>

            <div class="tip success mt-4">
                <span class="tip-icon">ğŸ’¡</span>
                <strong>Word2Vecçš„å…³é”®åˆ›æ–°</strong>
                <ul class="mt-2">
                    <li><strong>ç®€å•é«˜æ•ˆï¼š</strong>åªéœ€è¦é¢„æµ‹ä¸Šä¸‹æ–‡ï¼Œä¸éœ€è¦å¤æ‚çš„è¯­è¨€æ¨¡å‹</li>
                    <li><strong>è´Ÿé‡‡æ ·ï¼š</strong>ä¸è®¡ç®—æ‰€æœ‰è¯çš„æ¦‚ç‡ï¼Œåªé‡‡æ ·å°‘é‡è´Ÿä¾‹</li>
                    <li><strong>å±‚æ¬¡softmaxï¼š</strong>ç”¨äºŒå‰æ ‘åŠ é€Ÿå¤§è¯è¡¨çš„è®¡ç®—</li>
                    <li><strong>å­é‡‡æ ·ï¼š</strong>é™ä½é«˜é¢‘è¯ï¼ˆå¦‚"çš„"ã€"æ˜¯"ï¼‰çš„æƒé‡</li>
                </ul>
            </div>
        </section>

        <!-- è¯å‘é‡å¯è§†åŒ– -->
        <section id="visualization" class="section-card">
            <h2>ğŸ“Š è¯å‘é‡å¯è§†åŒ–ï¼šçœ‹è§è¯­ä¹‰ç©ºé—´</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ”­</span>
                <p><strong>è¯­ä¹‰çš„æ˜Ÿç©º</strong></p>
                <p class="mt-2">
                    å¦‚æœæŠŠæ¯ä¸ªè¯å‘é‡æƒ³è±¡æˆå¤œç©ºä¸­çš„ä¸€é¢—æ˜Ÿæ˜Ÿï¼Œç›¸ä¼¼çš„è¯å°±åƒæ˜Ÿåº§ä¸€æ ·èšé›†åœ¨ä¸€èµ·ã€‚è®©æˆ‘ä»¬ç”¨é™ç»´æŠ€æœ¯æŠŠè¿™ä¸ªé«˜ç»´ç©ºé—´æŠ•å½±åˆ°2Då¹³é¢ä¸Šã€‚
                </p>
            </div>

            <div class="think-box">
                <h4>ğŸ¤” æ€è€ƒä¸€ä¸‹</h4>
                <ul>
                    <li>ä¸ºä»€ä¹ˆéœ€è¦æŠŠ300ç»´çš„å‘é‡é™åˆ°2ç»´ï¼ŸæŸå¤±äº†ä»€ä¹ˆä¿¡æ¯ï¼Ÿ</li>
                    <li>t-SNEå’ŒPCAé™ç»´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå„è‡ªé€‚åˆä»€ä¹ˆåœºæ™¯ï¼Ÿ</li>
                    <li>åœ¨è¯å‘é‡ç©ºé—´ä¸­ï¼Œåä¹‰è¯æ˜¯ç›¸è¿‘è¿˜æ˜¯ç›¸è¿œï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</li>
                </ul>
            </div>

            <div class="demo-container">
                <h3 class="mb-3">è¯å‘é‡é™ç»´å¯è§†åŒ–</h3>

                <div class="word-cloud" id="word-embedding-viz">
                    <!-- åŠ¨æ€ç”Ÿæˆçš„è¯äº‘ -->
                </div>

                <div class="mt-3 text-center">
                    <button class="btn btn-primary" onclick="updateWordCloud('animals')">åŠ¨ç‰©ä¸–ç•Œ</button>
                    <button class="btn btn-secondary" onclick="updateWordCloud('food')">ç¾é£Ÿå¤©åœ°</button>
                    <button class="btn btn-secondary" onclick="updateWordCloud('tech')">ç§‘æŠ€å‰æ²¿</button>
                    <button class="btn btn-secondary" onclick="updateWordCloud('emotion')">æƒ…æ„Ÿè¡¨è¾¾</button>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">Python - t-SNEå¯è§†åŒ–è¯å‘é‡</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="toggleCode(this)">å±•å¼€</button>
                        <button class="code-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                    </div>
                </div>
                <div class="code-content collapsed">
                    <pre><span class="keyword">import</span> numpy <span class="keyword">as</span> np
<span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt
<span class="keyword">from</span> sklearn.manifold <span class="keyword">import</span> TSNE
<span class="keyword">import</span> seaborn <span class="keyword">as</span> sns
<span class="comment"># è®¾ç½®ä¸­æ–‡å­—ä½“</span>
plt.rcParams[<span class="string">'font.sans-serif'</span>] = [<span class="string">'SimHei'</span>]
plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="keyword">False</span>

<span class="keyword">def</span> <span class="function">visualize_word_vectors</span>(word_vectors, words, categories=None):
    <span class="string">"""ä½¿ç”¨t-SNEå¯è§†åŒ–è¯å‘é‡"""</span>

    <span class="comment"># 1. é™ç»´åˆ°2D</span>
    tsne = TSNE(n_components=<span class="number">2</span>, random_state=<span class="number">42</span>,
                perplexity=<span class="number">30</span>, n_iter=<span class="number">1000</span>)
    embeddings_2d = tsne.fit_transform(word_vectors)

    <span class="comment"># 2. åˆ›å»ºå›¾è¡¨</span>
    plt.figure(figsize=(<span class="number">12</span>, <span class="number">8</span>))

    <span class="comment"># 3. å¦‚æœæœ‰ç±»åˆ«ï¼Œç”¨ä¸åŒé¢œè‰²</span>
    <span class="keyword">if</span> categories:
        unique_categories = list(set(categories))
        colors = sns.color_palette(<span class="string">"husl"</span>, len(unique_categories))

        <span class="keyword">for</span> i, category <span class="keyword">in</span> enumerate(unique_categories):
            mask = [c == category <span class="keyword">for</span> c <span class="keyword">in</span> categories]
            points = embeddings_2d[mask]
            plt.scatter(points[:, <span class="number">0</span>], points[:, <span class="number">1</span>],
                       c=[colors[i]], label=category, s=<span class="number">100</span>, alpha=<span class="number">0.7</span>)
    <span class="keyword">else</span>:
        plt.scatter(embeddings_2d[:, <span class="number">0</span>], embeddings_2d[:, <span class="number">1</span>],
                   s=<span class="number">100</span>, alpha=<span class="number">0.7</span>)

    <span class="comment"># 4. æ·»åŠ è¯æ ‡ç­¾</span>
    <span class="keyword">for</span> i, word <span class="keyword">in</span> enumerate(words):
        plt.annotate(word,
                    xy=(embeddings_2d[i, <span class="number">0</span>], embeddings_2d[i, <span class="number">1</span>]),
                    xytext=(<span class="number">5</span>, <span class="number">2</span>),
                    textcoords=<span class="string">'offset points'</span>,
                    fontsize=<span class="number">12</span>)

    plt.title(<span class="string">'è¯å‘é‡å¯è§†åŒ– (t-SNE)'</span>, fontsize=<span class="number">16</span>)
    plt.xlabel(<span class="string">'ç»´åº¦ 1'</span>)
    plt.ylabel(<span class="string">'ç»´åº¦ 2'</span>)
    plt.legend()
    plt.grid(<span class="keyword">True</span>, alpha=<span class="number">0.3</span>)
    plt.tight_layout()
    plt.show()

<span class="comment"># ç¤ºä¾‹ï¼šå¯è§†åŒ–ä¸åŒç±»åˆ«çš„è¯</span>
words = [
    <span class="comment"># åŠ¨ç‰©</span>
    <span class="string">'å°çŒ«'</span>, <span class="string">'å°ç‹—'</span>, <span class="string">'å…”å­'</span>, <span class="string">'è€è™'</span>, <span class="string">'ç‹®å­'</span>,
    <span class="comment"># é£Ÿç‰©</span>
    <span class="string">'è‹¹æœ'</span>, <span class="string">'é¦™è•‰'</span>, <span class="string">'ç±³é¥­'</span>, <span class="string">'é¢åŒ…'</span>, <span class="string">'ç‰›å¥¶'</span>,
    <span class="comment"># äº¤é€šå·¥å…·</span>
    <span class="string">'æ±½è½¦'</span>, <span class="string">'è‡ªè¡Œè½¦'</span>, <span class="string">'é£æœº'</span>, <span class="string">'ç«è½¦'</span>, <span class="string">'è½®èˆ¹'</span>,
    <span class="comment"># æƒ…æ„Ÿ</span>
    <span class="string">'å¿«ä¹'</span>, <span class="string">'æ‚²ä¼¤'</span>, <span class="string">'æ„¤æ€’'</span>, <span class="string">'ææƒ§'</span>, <span class="string">'æƒŠå–œ'</span>
]

categories = [
    <span class="string">'åŠ¨ç‰©'</span>, <span class="string">'åŠ¨ç‰©'</span>, <span class="string">'åŠ¨ç‰©'</span>, <span class="string">'åŠ¨ç‰©'</span>, <span class="string">'åŠ¨ç‰©'</span>,
    <span class="string">'é£Ÿç‰©'</span>, <span class="string">'é£Ÿç‰©'</span>, <span class="string">'é£Ÿç‰©'</span>, <span class="string">'é£Ÿç‰©'</span>, <span class="string">'é£Ÿç‰©'</span>,
    <span class="string">'äº¤é€š'</span>, <span class="string">'äº¤é€š'</span>, <span class="string">'äº¤é€š'</span>, <span class="string">'äº¤é€š'</span>, <span class="string">'äº¤é€š'</span>,
    <span class="string">'æƒ…æ„Ÿ'</span>, <span class="string">'æƒ…æ„Ÿ'</span>, <span class="string">'æƒ…æ„Ÿ'</span>, <span class="string">'æƒ…æ„Ÿ'</span>, <span class="string">'æƒ…æ„Ÿ'</span>
]

<span class="comment"># åˆ†æè¯å‘é‡çš„æ€§è´¨</span>
<span class="keyword">def</span> <span class="function">analyze_word_vectors</span>(model):
    <span class="string">"""åˆ†æè¯å‘é‡çš„æœ‰è¶£æ€§è´¨"""</span>

    print(<span class="string">"=== è¯å‘é‡ç®—æœ¯ ==="</span>)

    <span class="comment"># ç±»æ¯”å…³ç³»</span>
    result = model.wv.most_similar(
        positive=[<span class="string">'åŒ—äº¬'</span>, <span class="string">'æ—¥æœ¬'</span>],
        negative=[<span class="string">'ä¸­å›½'</span>],
        topn=<span class="number">3</span>
    )
    print(<span class="string">"åŒ—äº¬ - ä¸­å›½ + æ—¥æœ¬ ="</span>, result)

    <span class="comment"># æ‰¾ä¸å±äºåŒç±»çš„è¯</span>
    outlier = model.wv.doesnt_match([<span class="string">'æ—©é¤'</span>, <span class="string">'åˆé¤'</span>, <span class="string">'æ™šé¤'</span>, <span class="string">'æ±½è½¦'</span>])
    print(<span class="string">f"\nä¸å±äºåŒç±»çš„è¯: {outlier}"</span>)

    <span class="comment"># æ¢ç´¢æœ‰è¶£çš„è¯­ä¹‰å…³ç³»</span>
    print(<span class="string">"\n=== æœ‰è¶£çš„è¯­ä¹‰å…³ç³» ==="</span>)

    <span class="comment"># åä¹‰è¯å¾€å¾€ä¹Ÿå¾ˆç›¸ä¼¼ï¼ˆå› ä¸ºå‡ºç°åœ¨ç›¸ä¼¼ä¸Šä¸‹æ–‡ï¼‰</span>
    sim = model.wv.similarity(<span class="string">'çƒ­'</span>, <span class="string">'å†·'</span>)
    print(<span class="string">f"'çƒ­'å’Œ'å†·'çš„ç›¸ä¼¼åº¦: {sim:.3f}"</span>)

    <span class="comment"># åŒä¹‰è¯ç›¸ä¼¼åº¦æ›´é«˜</span>
    sim = model.wv.similarity(<span class="string">'ç¾ä¸½'</span>, <span class="string">'æ¼‚äº®'</span>)
    print(<span class="string">f"'ç¾ä¸½'å’Œ'æ¼‚äº®'çš„ç›¸ä¼¼åº¦: {sim:.3f}"</span>)</pre>
                </div>
            </div>

            <div class="heatmap">
                <h4 class="text-center mb-3" style="color: var(--primary-light);">è¯å‘é‡ç›¸ä¼¼åº¦çƒ­åŠ›å›¾</h4>
                <div class="heatmap-grid">
                    <div class="heatmap-row">
                        <div class="heatmap-cell heatmap-label"></div>
                        <div class="heatmap-cell heatmap-label">å°çŒ«</div>
                        <div class="heatmap-cell heatmap-label">å°ç‹—</div>
                        <div class="heatmap-cell heatmap-label">æ±½è½¦</div>
                        <div class="heatmap-cell heatmap-label">é£æœº</div>
                    </div>
                    <div class="heatmap-row">
                        <div class="heatmap-cell heatmap-label">å°çŒ«</div>
                        <div class="heatmap-cell" style="background: #10b981;">1.00</div>
                        <div class="heatmap-cell" style="background: #22c55e;">0.85</div>
                        <div class="heatmap-cell" style="background: #475569;">0.12</div>
                        <div class="heatmap-cell" style="background: #475569;">0.08</div>
                    </div>
                    <div class="heatmap-row">
                        <div class="heatmap-cell heatmap-label">å°ç‹—</div>
                        <div class="heatmap-cell" style="background: #22c55e;">0.85</div>
                        <div class="heatmap-cell" style="background: #10b981;">1.00</div>
                        <div class="heatmap-cell" style="background: #475569;">0.15</div>
                        <div class="heatmap-cell" style="background: #475569;">0.11</div>
                    </div>
                    <div class="heatmap-row">
                        <div class="heatmap-cell heatmap-label">æ±½è½¦</div>
                        <div class="heatmap-cell" style="background: #475569;">0.12</div>
                        <div class="heatmap-cell" style="background: #475569;">0.15</div>
                        <div class="heatmap-cell" style="background: #10b981;">1.00</div>
                        <div class="heatmap-cell" style="background: #22c55e;">0.82</div>
                    </div>
                    <div class="heatmap-row">
                        <div class="heatmap-cell heatmap-label">é£æœº</div>
                        <div class="heatmap-cell" style="background: #475569;">0.08</div>
                        <div class="heatmap-cell" style="background: #475569;">0.11</div>
                        <div class="heatmap-cell" style="background: #22c55e;">0.82</div>
                        <div class="heatmap-cell" style="background: #10b981;">1.00</div>
                    </div>
                </div>
                <p class="text-center mt-3 text-muted">
                    è¯å‘é‡æ•è·äº†è¯­ä¹‰ç›¸ä¼¼æ€§ï¼šåŒç±»è¯èšé›†åœ¨ä¸€èµ·
                </p>
            </div>
        </section>

        <!-- GloVe -->
        <section id="glove" class="section-card">
            <h2>ğŸŒ GloVeï¼šå…¨å±€è§†è§’çš„è¯å‘é‡</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ”¬</span>
                <p><strong>æ–¯å¦ç¦çš„æ–°æ€è·¯</strong></p>
                <p class="mt-2">
                    2014å¹´ï¼Œæ–¯å¦ç¦çš„ç ”ç©¶è€…æå‡ºäº†ä¸€ä¸ªé—®é¢˜ï¼š"Word2Vecåªçœ‹å±€éƒ¨ä¸Šä¸‹æ–‡ï¼Œä¼šä¸ä¼šé”™è¿‡äº†å…¨å±€çš„ç»Ÿè®¡ä¿¡æ¯ï¼Ÿ"
                </p>
                <p class="mt-2">
                    ä»–ä»¬è®¾è®¡äº†GloVeï¼ˆGlobal Vectorsï¼‰ï¼Œç»“åˆäº†ä¸¤ä¸ªä¸–ç•Œçš„ä¼˜ç‚¹ï¼š
                </p>
                <ul class="mt-2">
                    <li>åƒWord2Vecä¸€æ ·å­¦ä¹ è¯å‘é‡</li>
                    <li>åƒä¼ ç»Ÿæ–¹æ³•ä¸€æ ·åˆ©ç”¨å…¨å±€å…±ç°ç»Ÿè®¡</li>
                </ul>
            </div>

            <div class="think-box">
                <h4>ğŸ¤” æ€è€ƒä¸€ä¸‹</h4>
                <ul>
                    <li>ä¸ºä»€ä¹ˆè¯´å…±ç°æ¬¡æ•°çš„æ¯”å€¼æ¯”ç»å¯¹æ¬¡æ•°æ›´æœ‰æ„ä¹‰ï¼Ÿ</li>
                    <li>GloVeçš„ç›®æ ‡å‡½æ•°ä¸ºä»€ä¹ˆè¦ç”¨å¯¹æ•°ï¼Ÿ</li>
                    <li>å…¨å±€æ–¹æ³•å’Œå±€éƒ¨æ–¹æ³•å„æœ‰ä»€ä¹ˆä¼˜åŠ£ï¼Ÿ</li>
                </ul>
            </div>

            <div class="math-display">
                <h4 class="mb-3" style="color: var(--primary-light);">GloVeçš„æ ¸å¿ƒæ€æƒ³</h4>

                <p>å…³é”®è§‚å¯Ÿï¼šè¯å‘é‡çš„å†…ç§¯åº”è¯¥ç­‰äºå®ƒä»¬å…±ç°æ¦‚ç‡çš„å¯¹æ•°</p>

                <div class="math-formula mt-3" style="font-size: 1.5rem;">
                    $w_i^T \tilde{w}_j + b_i + \tilde{b}_j = \log(X_{ij})$
                </div>

                <div class="formula-explanation">
                    <h5>ğŸ“– å…¬å¼è§£è¯»ï¼šä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</h5>
                    <table class="formula-table">
                        <tr>
                            <td class="formula-part">$w_i, \tilde{w}_j$</td>
                            <td class="formula-meaning">è¯iå’Œè¯jçš„å‘é‡ï¼ˆæ¯ä¸ªè¯æœ‰ä¸¤ä¸ªå‘é‡ï¼‰</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$w_i^T \tilde{w}_j$</td>
                            <td class="formula-meaning">ä¸¤ä¸ªè¯å‘é‡çš„ç‚¹ç§¯</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$b_i, \tilde{b}_j$</td>
                            <td class="formula-meaning">åç½®é¡¹ï¼Œè°ƒæ•´æ¯ä¸ªè¯çš„åŸºç¡€é¢‘ç‡</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$X_{ij}$</td>
                            <td class="formula-meaning">è¯iå’Œè¯jåœ¨è¯­æ–™åº“ä¸­å…±åŒå‡ºç°çš„æ¬¡æ•°</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$\log(X_{ij})$</td>
                            <td class="formula-meaning">å–å¯¹æ•°ï¼Œè®©é¢‘ç‡å·®å¼‚ä¸é‚£ä¹ˆæç«¯</td>
                        </tr>
                    </table>

                    <p class="mt-3"><strong>ğŸ’¡ ç›´è§‚ç†è§£ï¼š</strong></p>
                    <ul>
                        <li>å¦‚æœä¸¤ä¸ªè¯ç»å¸¸ä¸€èµ·å‡ºç°ï¼ˆ$X_{ij}$å¤§ï¼‰ï¼Œå®ƒä»¬çš„å‘é‡ç‚¹ç§¯åº”è¯¥å¤§</li>
                        <li>å¦‚æœä¸¤ä¸ªè¯å¾ˆå°‘ä¸€èµ·å‡ºç°ï¼ˆ$X_{ij}$å°ï¼‰ï¼Œå®ƒä»¬çš„å‘é‡ç‚¹ç§¯åº”è¯¥å°</li>
                        <li>ç”¨å¯¹æ•°æ˜¯å› ä¸ºè¯é¢‘åˆ†å¸ƒé€šå¸¸å¾ˆä¸å‡åŒ€ï¼ˆæœ‰äº›è¯å¯¹å‡ºç°ä¸Šä¸‡æ¬¡ï¼Œæœ‰äº›åªæœ‰å‡ æ¬¡ï¼‰</li>
                    </ul>
                </div>

                <p class="mt-4">æŸå¤±å‡½æ•°ï¼š</p>
                <div class="math-formula">
                    $J = \sum_{i,j=1}^V f(X_{ij})(w_i^T \tilde{w}_j + b_i + \tilde{b}_j - \log X_{ij})^2$
                </div>

                <div class="formula-explanation">
                    <h5>ğŸ“– æŸå¤±å‡½æ•°è§£è¯»ï¼š</h5>
                    <table class="formula-table">
                        <tr>
                            <td class="formula-part">$(...)^2$</td>
                            <td class="formula-meaning">å¹³æ–¹è¯¯å·®ï¼Œè®©é¢„æµ‹å€¼å°½é‡æ¥è¿‘çœŸå®å€¼</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$f(X_{ij})$</td>
                            <td class="formula-meaning">æƒé‡å‡½æ•°ï¼Œç»™é«˜é¢‘è¯å¯¹æ›´å¤§æƒé‡</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$\sum_{i,j=1}^V$</td>
                            <td class="formula-meaning">å¯¹æ‰€æœ‰è¯å¯¹æ±‚å’Œ</td>
                        </tr>
                    </table>

                    <div class="code-from-math">
                        <h6>ğŸ’» è®­ç»ƒä»£ç ç¤ºä¾‹ï¼š</h6>
                        <pre style="color: #e6edf3; margin: 0;">
<span class="comment"># å¯¹äºæ¯ä¸ªè¯å¯¹(i,j)</span>
<span class="keyword">for</span> i, j <span class="keyword">in</span> word_pairs:
    <span class="comment"># è®¡ç®—å½“å‰é¢„æµ‹å€¼</span>
    prediction = np.dot(W[i], W_tilde[j]) + b[i] + b_tilde[j]

    <span class="comment"># çœŸå®å€¼æ˜¯å…±ç°æ¬¡æ•°çš„å¯¹æ•°</span>
    target = np.log(X[i,j])

    <span class="comment"># è®¡ç®—è¯¯å·®</span>
    error = prediction - target

    <span class="comment"># æ¢¯åº¦ä¸‹é™æ›´æ–°å‘é‡</span>
    W[i] -= learning_rate * error * W_tilde[j] * f(X[i,j])
    W_tilde[j] -= learning_rate * error * W[i] * f(X[i,j])</pre>
                    </div>
                </div>
            </div>

            <div class="tip info mt-4">
                <span class="tip-icon">ğŸ¯</span>
                <strong>GloVe vs Word2Vec</strong>
                <div class="comparison-table mt-3">
                    <table>
                        <thead>
                        <tr>
                            <th>ç‰¹æ€§</th>
                            <th>Word2Vec</th>
                            <th>GloVe</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>è®­ç»ƒæ–¹å¼</td>
                            <td>é¢„æµ‹ä»»åŠ¡ï¼ˆå±€éƒ¨ï¼‰</td>
                            <td>çŸ©é˜µåˆ†è§£ï¼ˆå…¨å±€ï¼‰</td>
                        </tr>
                        <tr>
                            <td>è®¡ç®—æ•ˆç‡</td>
                            <td>åœ¨çº¿å­¦ä¹ ï¼Œå†…å­˜å‹å¥½</td>
                            <td>éœ€è¦æ„å»ºå…±ç°çŸ©é˜µ</td>
                        </tr>
                        <tr>
                            <td>æ€§èƒ½è¡¨ç°</td>
                            <td>åœ¨ç›¸ä¼¼åº¦ä»»åŠ¡ä¸Šè¾ƒå¥½</td>
                            <td>åœ¨ç±»æ¯”ä»»åŠ¡ä¸Šè¾ƒå¥½</td>
                        </tr>
                        <tr>
                            <td>å¯è§£é‡Šæ€§</td>
                            <td>é»‘ç›’æ¨¡å‹</td>
                            <td>æœ‰æ˜ç¡®çš„æ•°å­¦ç›®æ ‡</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- FastText -->
        <section id="fasttext" class="section-card">
            <h2>âš¡ FastTextï¼šå­è¯çš„åŠ›é‡</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ”¤</span>
                <p><strong>Facebookçš„åˆ›æ–°ï¼šä¸å†å¿½è§†è¯çš„å†…éƒ¨ç»“æ„</strong></p>
                <p class="mt-2">
                    ä¼ ç»Ÿè¯å‘é‡æŠŠæ¯ä¸ªè¯å½“ä½œåŸå­ï¼Œä½†Facebookçš„ç ”ç©¶è€…æ„è¯†åˆ°è¿™å¿½ç•¥äº†é‡è¦ä¿¡æ¯ï¼š
                </p>
                <ul class="mt-2">
                    <li>"ä¸å¼€å¿ƒ"å’Œ"å¼€å¿ƒ"æ˜æ˜¾æœ‰å…³ç³»ï¼ˆå…±äº«"å¼€å¿ƒ"ï¼‰</li>
                    <li>"è€å¸ˆ"å’Œ"æ•™å¸ˆ"ä¹Ÿè¯¥ç›¸ä¼¼ï¼ˆéƒ½æœ‰"å¸ˆ"ï¼‰</li>
                    <li>æ–°è¯"å…ƒå®‡å®™"å®Œå…¨æ²¡è§è¿‡æ€ä¹ˆåŠï¼Ÿ</li>
                </ul>
            </div>

            <div class="think-box">
                <h4>ğŸ¤” æ€è€ƒä¸€ä¸‹</h4>
                <ul>
                    <li>ä¸­æ–‡çš„å­—ç¬¦çº§n-gramå’Œè‹±æ–‡çš„æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</li>
                    <li>ä¸ºä»€ä¹ˆFastTextç‰¹åˆ«é€‚åˆå¤„ç†ä¸­æ–‡ï¼Ÿ</li>
                    <li>å­è¯å»ºæ¨¡å¯¹äºå¤„ç†ç½‘ç»œæ–°è¯æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ</li>
                </ul>
            </div>

            <div class="demo-container">
                <h3 class="mb-3">FastTextçš„å­è¯åˆ†è§£</h3>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">å­è¯æ‹†åˆ†ç¤ºä¾‹</span>
                    </div>
                    <div class="code-content">
                        <pre>ä¸­æ–‡ç¤ºä¾‹ï¼š
åŸè¯ï¼šè‡ªç„¶è¯­è¨€å¤„ç†

å­—ç¬¦n-gramï¼ˆn=2ï¼‰ï¼š
<è‡ª, è‡ªç„¶, ç„¶è¯­, è¯­è¨€, è¨€å¤„, å¤„ç†, ç†>

å­—ç¬¦n-gramï¼ˆn=3ï¼‰ï¼š
<è‡ªç„¶, è‡ªç„¶è¯­, ç„¶è¯­è¨€, è¯­è¨€å¤„, è¨€å¤„ç†, å¤„ç†>

è‹±æ–‡ç¤ºä¾‹ï¼š
åŸè¯ï¼šteaching

å­—ç¬¦n-gramï¼ˆn=3ï¼‰ï¼š
<te, tea, eac, ach, chi, hin, ing, ng>

æœ€ç»ˆè¯å‘é‡ = å¹³å‡(æ‰€æœ‰å­è¯å‘é‡)</pre>
                    </div>
                </div>

                <div class="tip success mt-3">
                    <span class="tip-icon">âœ¨</span>
                    <strong>FastTextçš„ä¼˜åŠ¿</strong>
                    <ul class="mt-2">
                        <li><strong>å¤„ç†æœªç™»å½•è¯ï¼š</strong>å³ä½¿æ²¡è§è¿‡"å…ƒå®‡å®™"ï¼Œä¹Ÿèƒ½é€šè¿‡å­è¯ç»„åˆå¾—åˆ°å‘é‡</li>
                        <li><strong>å½¢æ€å­¦ä¿¡æ¯ï¼š</strong>ç›¸åŒè¯æ ¹çš„è¯è‡ªç„¶ç›¸ä¼¼</li>
                        <li><strong>æ‹¼å†™é”™è¯¯é²æ£’ï¼š</strong>"è‡ªç„¶è¯­è¨€"å’Œ"è‡ªç„¶è¯­è¨€"ä¼šæœ‰ç›¸ä¼¼çš„å‘é‡</li>
                        <li><strong>å¤šè¯­è¨€å‹å¥½ï¼š</strong>ç‰¹åˆ«é€‚åˆä¸­æ–‡ç­‰è¡¨æ„æ–‡å­—</li>
                    </ul>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">Python - ä½¿ç”¨FastText</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="toggleCode(this)">å±•å¼€</button>
                        <button class="code-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                    </div>
                </div>
                <div class="code-content collapsed">
                    <pre><span class="keyword">from</span> gensim.models <span class="keyword">import</span> FastText
<span class="keyword">import</span> numpy <span class="keyword">as</span> np

<span class="comment"># è®­ç»ƒFastTextæ¨¡å‹</span>
sentences = [
    [<span class="string">'æˆ‘'</span>, <span class="string">'çˆ±'</span>, <span class="string">'è‡ªç„¶è¯­è¨€å¤„ç†'</span>],
    [<span class="string">'æœºå™¨å­¦ä¹ '</span>, <span class="string">'å¾ˆ'</span>, <span class="string">'æœ‰è¶£'</span>],
    [<span class="string">'æ·±åº¦å­¦ä¹ '</span>, <span class="string">'æ”¹å˜'</span>, <span class="string">'ä¸–ç•Œ'</span>],
    [<span class="string">'äººå·¥æ™ºèƒ½'</span>, <span class="string">'æ˜¯'</span>, <span class="string">'æœªæ¥'</span>]
]

<span class="comment"># åˆ›å»ºFastTextæ¨¡å‹</span>
model = FastText(
    sentences,
    vector_size=<span class="number">100</span>,      <span class="comment"># è¯å‘é‡ç»´åº¦</span>
    window=<span class="number">5</span>,            <span class="comment"># ä¸Šä¸‹æ–‡çª—å£</span>
    min_count=<span class="number">1</span>,         <span class="comment"># æœ€å°è¯é¢‘</span>
    min_n=<span class="number">2</span>,             <span class="comment"># æœ€å°n-gram</span>
    max_n=<span class="number">5</span>,             <span class="comment"># æœ€å¤§n-gram</span>
    sg=<span class="number">1</span>,                <span class="comment"># Skip-gram</span>
    epochs=<span class="number">100</span>
)

<span class="comment"># æµ‹è¯•æœªç™»å½•è¯ï¼ˆOOVï¼‰</span>
<span class="keyword">def</span> <span class="function">test_oov_words</span>(model):
    <span class="string">"""æµ‹è¯•FastTextå¤„ç†æœªè§è¿‡çš„è¯"""</span>

    oov_words = [
        <span class="string">'æ·±åº¦å­¦ä¹ ç®—æ³•'</span>,    <span class="comment"># ç»„åˆå·²çŸ¥è¯</span>
        <span class="string">'è¶…çº§äººå·¥æ™ºèƒ½'</span>,    <span class="comment"># æ–°ç»„åˆ</span>
        <span class="string">'å…ƒå®‡å®™'</span>,         <span class="comment"># æµè¡Œæ–°è¯</span>
        <span class="string">'åŒºå—é“¾æŠ€æœ¯'</span>,      <span class="comment"># ä¸“ä¸šæœ¯è¯­</span>
    ]

    print(<span class="string">"=== æœªç™»å½•è¯æµ‹è¯• ==="</span>)
    <span class="keyword">for</span> word <span class="keyword">in</span> oov_words:
        <span class="keyword">try</span>:
            <span class="comment"># FastTextå¯ä»¥ä¸ºä»»ä½•è¯ç”Ÿæˆå‘é‡</span>
            vector = model.wv[word]
            print(<span class="string">f"{word}: æˆåŠŸç”Ÿæˆå‘é‡"</span>)

            <span class="comment"># æ‰¾ç›¸ä¼¼è¯</span>
            similar = model.wv.most_similar(word, topn=<span class="number">3</span>)
            print(<span class="string">f"  ç›¸ä¼¼è¯: {[w[0] for w in similar]}"</span>)
        <span class="keyword">except</span> KeyError:
            print(<span class="string">f"{word}: æ— æ³•ç”Ÿæˆå‘é‡ï¼ˆè¿™åœ¨FastTextä¸­ä¸åº”è¯¥å‘ç”Ÿï¼‰"</span>)

test_oov_words(model)

<span class="comment"># åˆ†æå­è¯çš„è´¡çŒ®</span>
<span class="keyword">def</span> <span class="function">analyze_subwords</span>(model, word):
    <span class="string">"""åˆ†æå­è¯å¯¹æœ€ç»ˆè¯å‘é‡çš„è´¡çŒ®"""</span>

    <span class="comment"># è·å–æ‰€æœ‰å­è¯</span>
    subwords = []
    word_bounded = <span class="string">f"<{word}>"</span>

    <span class="keyword">for</span> n <span class="keyword">in</span> range(model.wv.min_n, min(len(word_bounded), model.wv.max_n + <span class="number">1</span>)):
        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(word_bounded) - n + <span class="number">1</span>):
            subwords.append(word_bounded[i:i+n])

    print(<span class="string">f"\n'{word}'çš„å­è¯: {subwords[:10]}..."</span>)  <span class="comment"># åªæ˜¾ç¤ºå‰10ä¸ª</span>

<span class="comment"># å¯¹æ¯”Word2Vecå’ŒFastText</span>
<span class="keyword">def</span> <span class="function">compare_models</span>():
    <span class="string">"""å¯¹æ¯”ä¸¤ç§æ¨¡å‹çš„ç‰¹ç‚¹"""</span>

    <span class="keyword">from</span> gensim.models <span class="keyword">import</span> Word2Vec

    <span class="comment"># ç›¸åŒçš„è®­ç»ƒæ•°æ®</span>
    sentences_large = sentences * <span class="number">100</span>  <span class="comment"># é‡å¤æ•°æ®ä»¥ä¾¿è®­ç»ƒ</span>

    <span class="comment"># è®­ç»ƒWord2Vec</span>
    w2v_model = Word2Vec(sentences_large, vector_size=<span class="number">100</span>,
                         window=<span class="number">5</span>, min_count=<span class="number">1</span>, sg=<span class="number">1</span>)

    <span class="comment"># è®­ç»ƒFastText</span>
    ft_model = FastText(sentences_large, vector_size=<span class="number">100</span>,
                        window=<span class="number">5</span>, min_count=<span class="number">1</span>, sg=<span class="number">1</span>)

    <span class="comment"># æµ‹è¯•OOVè¯</span>
    test_word = <span class="string">'è¶…çº§æ·±åº¦å­¦ä¹ '</span>

    print(<span class="string">"\n=== æ¨¡å‹å¯¹æ¯” ==="</span>)

    <span class="comment"># Word2Vec</span>
    <span class="keyword">try</span>:
        w2v_vector = w2v_model.wv[test_word]
        print(<span class="string">f"Word2Vec: '{test_word}'æœ‰å‘é‡"</span>)
    <span class="keyword">except</span> KeyError:
        print(<span class="string">f"Word2Vec: '{test_word}'æ˜¯OOVè¯ï¼Œæ— æ³•å¤„ç†"</span>)

    <span class="comment"># FastText</span>
    <span class="keyword">try</span>:
        ft_vector = ft_model.wv[test_word]
        print(<span class="string">f"FastText: '{test_word}'æˆåŠŸç”Ÿæˆå‘é‡"</span>)
        similar = ft_model.wv.most_similar(test_word, topn=<span class="number">3</span>)
        print(<span class="string">f"  ç›¸ä¼¼è¯: {[w[0] for w in similar]}"</span>)
    <span class="keyword">except</span> KeyError:
        print(<span class="string">f"FastText: å‡ºé”™ï¼ˆä¸åº”è¯¥å‘ç”Ÿï¼‰"</span>)

compare_models()</pre>
                </div>
            </div>
        </section>

        <!-- ä¸Šä¸‹æ–‡è¯å‘é‡ -->
        <section id="contextual" class="section-card">
            <h2>ğŸ­ ä¸Šä¸‹æ–‡è¯å‘é‡ï¼šä¸€è¯å¤šä¹‰çš„è§£å†³æ–¹æ¡ˆ</h2>

            <div class="story-card">
                <span class="story-icon">ğŸª</span>
                <p><strong>è¯çš„å˜è‰²é¾™ç‰¹æ€§</strong></p>
                <p class="mt-2">
                    è€ƒè™‘"è‹¹æœ"è¿™ä¸ªè¯ï¼š
                </p>
                <ul class="mt-2">
                    <li>"æˆ‘ä¹°äº†ä¸€ä¸ª<strong>è‹¹æœ</strong>åƒ" â†’ æ°´æœ</li>
                    <li>"æˆ‘ä¹°äº†ä¸€å°<strong>è‹¹æœ</strong>ç”µè„‘" â†’ å…¬å¸/å“ç‰Œ</li>
                </ul>
                <p class="mt-2">
                    ä¼ ç»Ÿè¯å‘é‡ç»™"è‹¹æœ"ä¸€ä¸ªå›ºå®šçš„å‘é‡ï¼Œæ— æ³•åŒºåˆ†è¿™ä¸¤ç§å«ä¹‰ã€‚è¿™å°±åƒä¸€ä¸ªæ¼”å‘˜åªèƒ½æ¼”ä¸€ä¸ªè§’è‰²ã€‚
                </p>
                <p class="mt-3 text-center" style="color: var(--warning); font-size: 1.1rem;">
                    ğŸ’¡ 2018å¹´ï¼ŒBERTæ¨ªç©ºå‡ºä¸–ï¼Œè®©æ¯ä¸ªè¯éƒ½èƒ½æ ¹æ®ä¸Šä¸‹æ–‡"å˜èº«"ï¼
                </p>
            </div>

            <div class="think-box">
                <h4>ğŸ¤” æ€è€ƒä¸€ä¸‹</h4>
                <ul>
                    <li>è¿˜æœ‰å“ªäº›ä¸­æ–‡è¯æœ‰å¤šä¸ªå«ä¹‰ï¼Ÿæ¯”å¦‚"æ‰“"æœ‰å¤šå°‘ç§ç”¨æ³•ï¼Ÿ</li>
                    <li>ä¸ºä»€ä¹ˆè¯´ä¸Šä¸‹æ–‡è¯å‘é‡æ˜¯"åŠ¨æ€"çš„ï¼Ÿ</li>
                    <li>BERTæ˜¯å¦‚ä½•åšåˆ°ç†è§£ä¸Šä¸‹æ–‡çš„ï¼Ÿ</li>
                </ul>
            </div>

            <div class="demo-container">
                <h3 class="mb-3">é™æ€ vs åŠ¨æ€è¯å‘é‡</h3>

                <div class="card-grid">
                    <div class="info-card">
                        <h4 style="color: var(--danger);">é™æ€è¯å‘é‡ï¼ˆWord2Vecï¼‰</h4>
                        <div class="vector-display">
                            <span class="vector-label">"è‹¹æœ"ï¼š</span>
                            <div class="vector-values">
                                <span class="vector-value">0.32</span>
                                <span class="vector-value">-0.21</span>
                                <span class="vector-value">0.18</span>
                                <span class="vector-value">...</span>
                            </div>
                        </div>
                        <p class="mt-3 text-center" style="color: var(--text-muted);">
                            æ°¸è¿œæ˜¯åŒä¸€ä¸ªå‘é‡ï¼Œæ··åˆäº†æ‰€æœ‰å«ä¹‰
                        </p>
                    </div>

                    <div class="info-card">
                        <h4 style="color: var(--success);">åŠ¨æ€è¯å‘é‡ï¼ˆBERTï¼‰</h4>
                        <div class="vector-display">
                            <span class="vector-label">"è‹¹æœ"(æ°´æœ)ï¼š</span>
                            <div class="vector-values">
                                <span class="vector-value">0.15</span>
                                <span class="vector-value">0.82</span>
                                <span class="vector-value">-0.33</span>
                                <span class="vector-value">...</span>
                            </div>
                        </div>
                        <div class="vector-display mt-2">
                            <span class="vector-label">"è‹¹æœ"(å…¬å¸)ï¼š</span>
                            <div class="vector-values">
                                <span class="vector-value">0.78</span>
                                <span class="vector-value">-0.45</span>
                                <span class="vector-value">0.21</span>
                                <span class="vector-value">...</span>
                            </div>
                        </div>
                        <p class="mt-3 text-center" style="color: var(--text-muted);">
                            æ ¹æ®ä¸Šä¸‹æ–‡ç”Ÿæˆä¸åŒçš„å‘é‡
                        </p>
                    </div>
                </div>
            </div>

            <div class="tip info mt-4">
                <span class="tip-icon">ğŸ”„</span>
                <strong>ä»é™æ€åˆ°åŠ¨æ€çš„æ¼”è¿›</strong>
                <ul class="mt-2">
                    <li><strong>2013-2017ï¼š</strong>Word2Vecã€GloVeã€FastTextï¼ˆé™æ€ï¼‰</li>
                    <li><strong>2018ï¼š</strong>ELMoï¼ˆé¦–ä¸ªåŠ¨æ€è¯å‘é‡ï¼‰</li>
                    <li><strong>2018ï¼š</strong>BERTï¼ˆåŒå‘ä¸Šä¸‹æ–‡ï¼‰</li>
                    <li><strong>2019-è‡³ä»Šï¼š</strong>GPTã€RoBERTaã€ALBERTç­‰</li>
                </ul>
                <p class="mt-2">
                    ç°ä»£NLPå‡ ä¹éƒ½ä½¿ç”¨ä¸Šä¸‹æ–‡è¯å‘é‡ï¼Œä½†é™æ€è¯å‘é‡åœ¨æŸäº›åœºæ™¯ä»æœ‰ä»·å€¼ï¼ˆé€Ÿåº¦å¿«ã€å†…å­˜å°ï¼‰ã€‚
                </p>
            </div>
        </section>

        <!-- ç›¸ä¼¼åº¦è®¡ç®— -->
        <section id="similarity" class="section-card">
            <h2>ğŸ“ ç›¸ä¼¼åº¦è®¡ç®—ï¼šåº¦é‡è¯­ä¹‰è·ç¦»</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ“</span>
                <p><strong>è¯­ä¹‰ç©ºé—´ä¸­çš„å‡ ä½•å­¦</strong></p>
                <p class="mt-2">
                    åœ¨è¯å‘é‡ç©ºé—´ä¸­ï¼Œè¯­ä¹‰ç›¸ä¼¼åº¦å˜æˆäº†å‡ ä½•è·ç¦»ã€‚å°±åƒåœ¨åœ°å›¾ä¸Šæµ‹é‡ä¸¤ä¸ªåŸå¸‚çš„è·ç¦»ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹é‡ä¸¤ä¸ªè¯çš„"è¯­ä¹‰è·ç¦»"ã€‚
                </p>
            </div>

            <div class="think-box">
                <h4>ğŸ¤” æ€è€ƒä¸€ä¸‹</h4>
                <ul>
                    <li>ä¸ºä»€ä¹ˆä½™å¼¦ç›¸ä¼¼åº¦æ¯”æ¬§æ°è·ç¦»æ›´å¸¸ç”¨äºè¯å‘é‡ï¼Ÿ</li>
                    <li>ä¸¤ä¸ªè¯çš„ä½™å¼¦ç›¸ä¼¼åº¦ä¸ºè´Ÿæ•°æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</li>
                    <li>ç›¸ä¼¼åº¦é«˜çš„è¯ä¸€å®šæ˜¯åŒä¹‰è¯å—ï¼Ÿ</li>
                </ul>
            </div>

            <div class="algorithm-steps">
                <h4 class="mb-4" style="color: var(--primary-light);">ğŸ¯ å¸¸ç”¨çš„ç›¸ä¼¼åº¦åº¦é‡æ–¹æ³•</h4>

                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h5>ä½™å¼¦ç›¸ä¼¼åº¦ï¼ˆæœ€å¸¸ç”¨ï¼‰</h5>
                        <p>æµ‹é‡ä¸¤ä¸ªå‘é‡çš„å¤¹è§’ï¼Œå¿½ç•¥é•¿åº¦å·®å¼‚</p>
                        <div class="math-display mt-3">
                            <p class="math-formula">
                                $\cos(\vec{a}, \vec{b}) = \frac{\vec{a} \cdot \vec{b}}{||\vec{a}|| \times ||\vec{b}||} = \frac{\sum_{i=1}^n a_i b_i}{\sqrt{\sum_{i=1}^n a_i^2} \times \sqrt{\sum_{i=1}^n b_i^2}}$
                            </p>
                            <p class="mt-2">
                                å–å€¼èŒƒå›´ï¼š[-1, 1]<br>
                                1è¡¨ç¤ºå®Œå…¨ç›¸åŒï¼Œ0è¡¨ç¤ºæ­£äº¤ï¼ˆæ— å…³ï¼‰ï¼Œ-1è¡¨ç¤ºå®Œå…¨ç›¸å
                            </p>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h5>æ¬§æ°è·ç¦»</h5>
                        <p>ç›´çº¿è·ç¦»ï¼Œè€ƒè™‘å‘é‡çš„é•¿åº¦</p>
                        <div class="math-display mt-3">
                            <p class="math-formula">
                                $d(\vec{a}, \vec{b}) = ||\vec{a} - \vec{b}||_2 = \sqrt{\sum_{i=1}^n (a_i - b_i)^2}$
                            </p>
                            <p class="mt-2">
                                å–å€¼èŒƒå›´ï¼š[0, +âˆ)<br>
                                0è¡¨ç¤ºå®Œå…¨ç›¸åŒï¼Œå€¼è¶Šå¤§å·®å¼‚è¶Šå¤§
                            </p>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h5>ç‚¹ç§¯ï¼ˆå†…ç§¯ï¼‰</h5>
                        <p>åŒæ—¶è€ƒè™‘æ–¹å‘å’Œé•¿åº¦</p>
                        <div class="math-display mt-3">
                            <p class="math-formula">
                                $\vec{a} \cdot \vec{b} = \sum_{i=1}^n a_i b_i = ||\vec{a}|| \times ||\vec{b}|| \times \cos\theta$
                            </p>
                            <p class="mt-2">
                                å¸¸ç”¨äºæ³¨æ„åŠ›æœºåˆ¶å’Œä¿¡æ¯æ£€ç´¢
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">Python - ç›¸ä¼¼åº¦è®¡ç®—å®æˆ˜</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="toggleCode(this)">å±•å¼€</button>
                        <button class="code-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                    </div>
                </div>
                <div class="code-content collapsed">
                    <pre><span class="keyword">import</span> numpy <span class="keyword">as</span> np
<span class="keyword">from</span> scipy.spatial.distance <span class="keyword">import</span> cosine, euclidean
<span class="keyword">from</span> sklearn.metrics.pairwise <span class="keyword">import</span> cosine_similarity
<span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt

<span class="keyword">class</span> <span class="function">SimilarityCalculator</span>:
    <span class="string">"""è¯å‘é‡ç›¸ä¼¼åº¦è®¡ç®—å™¨"""</span>

    @staticmethod
    <span class="keyword">def</span> <span class="function">cosine_sim</span>(vec1, vec2):
        <span class="string">"""ä½™å¼¦ç›¸ä¼¼åº¦"""</span>
        <span class="keyword">return</span> np.dot(vec1, vec2) / (np.linalg.norm(vec1) * np.linalg.norm(vec2))

    @staticmethod
    <span class="keyword">def</span> <span class="function">euclidean_dist</span>(vec1, vec2):
        <span class="string">"""æ¬§æ°è·ç¦»"""</span>
        <span class="keyword">return</span> np.linalg.norm(vec1 - vec2)

    @staticmethod
    <span class="keyword">def</span> <span class="function">manhattan_dist</span>(vec1, vec2):
        <span class="string">"""æ›¼å“ˆé¡¿è·ç¦»"""</span>
        <span class="keyword">return</span> np.sum(np.abs(vec1 - vec2))

    @staticmethod
    <span class="keyword">def</span> <span class="function">dot_product</span>(vec1, vec2):
        <span class="string">"""ç‚¹ç§¯"""</span>
        <span class="keyword">return</span> np.dot(vec1, vec2)

<span class="comment"># å®éªŒï¼šä¸åŒç›¸ä¼¼åº¦åº¦é‡çš„ç‰¹æ€§</span>
<span class="keyword">def</span> <span class="function">compare_similarity_metrics</span>():
    <span class="string">"""æ¯”è¾ƒä¸åŒç›¸ä¼¼åº¦åº¦é‡çš„ç‰¹æ€§"""</span>

    <span class="comment"># åˆ›å»ºæµ‹è¯•å‘é‡</span>
    vec_a = np.array([<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>])
    vec_b = np.array([<span class="number">0.8</span>, <span class="number">0.6</span>, <span class="number">0</span>])  <span class="comment"># ä¸Aç›¸ä¼¼</span>
    vec_c = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>])      <span class="comment"># ä¸Aæ­£äº¤</span>
    vec_d = np.array([<span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>])     <span class="comment"># ä¸Aç›¸å</span>
    vec_e = np.array([<span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>])      <span class="comment"># ä¸AåŒå‘ä½†é•¿åº¦ä¸åŒ</span>

    vectors = {
        <span class="string">'A'</span>: vec_a,
        <span class="string">'B(ç›¸ä¼¼)'</span>: vec_b,
        <span class="string">'C(æ­£äº¤)'</span>: vec_c,
        <span class="string">'D(ç›¸å)'</span>: vec_d,
        <span class="string">'E(åŒå‘Ã—2)'</span>: vec_e
    }

    calc = SimilarityCalculator()

    print(<span class="string">"=== ç›¸ä¼¼åº¦åº¦é‡å¯¹æ¯” ==="</span>)
    print(<span class="string">f"åŸºå‡†å‘é‡ A: {vec_a}"</span>)
    print(<span class="string">"\nä¸å…¶ä»–å‘é‡çš„ç›¸ä¼¼åº¦/è·ç¦»ï¼š"</span>)

    <span class="keyword">for</span> name, vec <span class="keyword">in</span> vectors.items():
        <span class="keyword">if</span> name == <span class="string">'A'</span>:
            <span class="keyword">continue</span>

        cos_sim = calc.cosine_sim(vec_a, vec)
        euc_dist = calc.euclidean_dist(vec_a, vec)
        dot_prod = calc.dot_product(vec_a, vec)

        print(<span class="string">f"\n{name}: {vec}"</span>)
        print(<span class="string">f"  ä½™å¼¦ç›¸ä¼¼åº¦: {cos_sim:.3f}"</span>)
        print(<span class="string">f"  æ¬§æ°è·ç¦»: {euc_dist:.3f}"</span>)
        print(<span class="string">f"  ç‚¹ç§¯: {dot_prod:.3f}"</span>)

<span class="comment"># å¯è§†åŒ–ç›¸ä¼¼åº¦</span>
<span class="keyword">def</span> <span class="function">visualize_similarity</span>(word_vectors, words):
    <span class="string">"""å¯è§†åŒ–è¯å‘é‡ç›¸ä¼¼åº¦çŸ©é˜µ"""</span>

    n = len(words)
    similarity_matrix = np.zeros((n, n))

    <span class="comment"># è®¡ç®—ç›¸ä¼¼åº¦çŸ©é˜µ</span>
    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):
        <span class="keyword">for</span> j <span class="keyword">in</span> range(n):
            similarity_matrix[i, j] = cosine_similarity(
                word_vectors[i].reshape(<span class="number">1</span>, -<span class="number">1</span>),
                word_vectors[j].reshape(<span class="number">1</span>, -<span class="number">1</span>)
            )[<span class="number">0</span>, <span class="number">0</span>]

    <span class="comment"># ç»˜åˆ¶çƒ­åŠ›å›¾</span>
    plt.figure(figsize=(<span class="number">10</span>, <span class="number">8</span>))
    plt.imshow(similarity_matrix, cmap=<span class="string">'coolwarm'</span>, vmin=-<span class="number">1</span>, vmax=<span class="number">1</span>)
    plt.colorbar(label=<span class="string">'ä½™å¼¦ç›¸ä¼¼åº¦'</span>)

    <span class="comment"># æ·»åŠ æ ‡ç­¾</span>
    plt.xticks(range(n), words, rotation=<span class="number">45</span>, ha=<span class="string">'right'</span>)
    plt.yticks(range(n), words)

    <span class="comment"># æ·»åŠ æ•°å€¼</span>
    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):
        <span class="keyword">for</span> j <span class="keyword">in</span> range(n):
            plt.text(j, i, <span class="string">f'{similarity_matrix[i, j]:.2f}'</span>,
                    ha=<span class="string">'center'</span>, va=<span class="string">'center'</span>,
                    color=<span class="string">'white'</span> <span class="keyword">if</span> abs(similarity_matrix[i, j]) > <span class="number">0.5</span> <span class="keyword">else</span> <span class="string">'black'</span>)

    plt.title(<span class="string">'è¯å‘é‡ç›¸ä¼¼åº¦çƒ­åŠ›å›¾'</span>)
    plt.tight_layout()
    plt.show()

<span class="comment"># åº”ç”¨ï¼šæ‰¾æœ€ç›¸ä¼¼çš„è¯</span>
<span class="keyword">def</span> <span class="function">find_similar_words</span>(target_word, word_vectors, words, top_k=<span class="number">5</span>):
    <span class="string">"""æ‰¾å‡ºæœ€ç›¸ä¼¼çš„è¯"""</span>

    target_idx = words.index(target_word)
    target_vec = word_vectors[target_idx]

    similarities = []
    <span class="keyword">for</span> i, word <span class="keyword">in</span> enumerate(words):
        <span class="keyword">if</span> i != target_idx:
            sim = cosine_similarity(
                target_vec.reshape(<span class="number">1</span>, -<span class="number">1</span>),
                word_vectors[i].reshape(<span class="number">1</span>, -<span class="number">1</span>)
            )[<span class="number">0</span>, <span class="number">0</span>]
            similarities.append((word, sim))

    <span class="comment"># æŒ‰ç›¸ä¼¼åº¦æ’åº</span>
    similarities.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="keyword">True</span>)

    print(<span class="string">f"\nä¸'{target_word}'æœ€ç›¸ä¼¼çš„{top_k}ä¸ªè¯ï¼š"</span>)
    <span class="keyword">for</span> word, sim <span class="keyword">in</span> similarities[:top_k]:
        print(<span class="string">f"  {word}: {sim:.3f}"</span>)

    <span class="keyword">return</span> similarities[:top_k]

<span class="comment"># è¿è¡Œå®éªŒ</span>
compare_similarity_metrics()</pre>
                </div>
            </div>

            <div class="demo-container">
                <h3 class="mb-3">ğŸ® äº¤äº’å¼ç›¸ä¼¼åº¦è®¡ç®—å™¨</h3>

                <div class="mb-3">
                    <input type="text" id="word1" class="demo-input" placeholder="è¾“å…¥ç¬¬ä¸€ä¸ªè¯ï¼Œå¦‚ï¼šå°çŒ«" style="width: 48%; display: inline-block;">
                    <input type="text" id="word2" class="demo-input" placeholder="è¾“å…¥ç¬¬äºŒä¸ªè¯ï¼Œå¦‚ï¼šå°ç‹—" style="width: 48%; display: inline-block; margin-left: 2%;">
                </div>

                <button class="demo-button" onclick="calculateSimilarity()">
                    è®¡ç®—ç›¸ä¼¼åº¦
                </button>

                <div id="similarity-result" class="demo-result">
                    <p class="text-muted">ç›¸ä¼¼åº¦è®¡ç®—ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</p>
                </div>
            </div>
        </section>

        <!-- æ–‡æ¡£å‘é‡ -->
        <section id="document-vectors" class="section-card">
            <h2>ğŸ“„ æ–‡æ¡£å‘é‡ï¼šä»è¯åˆ°ç¯‡ç« </h2>

            <div class="story-card">
                <span class="story-icon">ğŸ“š</span>
                <p><strong>å¦‚ä½•è¡¨ç¤ºä¸€æ•´ç¯‡æ–‡ç« ï¼Ÿ</strong></p>
                <p class="mt-2">
                    æœ‰äº†è¯å‘é‡ï¼Œæ–°çš„é—®é¢˜æ¥äº†ï¼šå¦‚ä½•è¡¨ç¤ºå¥å­ã€æ®µè½ç”šè‡³æ•´ç¯‡æ–‡ç« ï¼Ÿ
                </p>
                <p class="mt-2">
                    è¿™å°±åƒä»è®¤è¯†å•ä¸ªéŸ³ç¬¦åˆ°ç†è§£æ•´é¦–äº¤å“ä¹â€”â€”éœ€è¦æ•æ‰æ•´ä½“çš„ä¸»é¢˜å’Œç»“æ„ã€‚
                </p>
            </div>

            <div class="think-box">
                <h4>ğŸ¤” æ€è€ƒä¸€ä¸‹</h4>
                <ul>
                    <li>ç®€å•å¹³å‡æ‰€æœ‰è¯å‘é‡ä¼šä¸¢å¤±ä»€ä¹ˆä¿¡æ¯ï¼Ÿ</li>
                    <li>ä¸ºä»€ä¹ˆTF-IDFåŠ æƒæ¯”ç®€å•å¹³å‡æ•ˆæœå¥½ï¼Ÿ</li>
                    <li>Doc2Vecæ˜¯å¦‚ä½•å­¦åˆ°æ–‡æ¡£çº§åˆ«çš„è¯­ä¹‰çš„ï¼Ÿ</li>
                </ul>
            </div>

            <div class="algorithm-steps">
                <h4 class="mb-4" style="color: var(--primary-light);">ğŸ“Š æ–‡æ¡£å‘é‡çš„å¸¸ç”¨æ–¹æ³•</h4>

                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h5>è¯å‘é‡å¹³å‡ï¼ˆæœ€ç®€å•ï¼‰</h5>
                        <p>å°†æ–‡æ¡£ä¸­æ‰€æœ‰è¯çš„å‘é‡å–å¹³å‡</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">å®ç°ç¤ºä¾‹</span>
                            </div>
                            <div class="code-content">
                                <pre><span class="keyword">def</span> <span class="function">doc_vector_mean</span>(doc, word_vectors):
    vectors = [word_vectors[word] <span class="keyword">for</span> word <span class="keyword">in</span> doc
               <span class="keyword">if</span> word <span class="keyword">in</span> word_vectors]
    <span class="keyword">return</span> np.mean(vectors, axis=<span class="number">0</span>)</pre>
                            </div>
                        </div>
                        <p class="mt-2">
                            âœ… ç®€å•å¿«é€Ÿ âŒ å¿½ç•¥è¯åºå’Œé‡è¦æ€§
                        </p>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h5>TF-IDFåŠ æƒå¹³å‡</h5>
                        <p>æ ¹æ®è¯çš„é‡è¦æ€§åŠ æƒ</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">å®ç°ç¤ºä¾‹</span>
                            </div>
                            <div class="code-content">
                                <pre><span class="keyword">def</span> <span class="function">doc_vector_tfidf</span>(doc, word_vectors, tfidf_weights):
    weighted_vectors = []
    <span class="keyword">for</span> word <span class="keyword">in</span> doc:
        <span class="keyword">if</span> word <span class="keyword">in</span> word_vectors:
            weight = tfidf_weights.get(word, <span class="number">1.0</span>)
            weighted_vectors.append(word_vectors[word] * weight)
    <span class="keyword">return</span> np.mean(weighted_vectors, axis=<span class="number">0</span>)</pre>
                            </div>
                        </div>
                        <p class="mt-2">
                            âœ… è€ƒè™‘è¯çš„é‡è¦æ€§ âŒ ä»ç„¶å¿½ç•¥è¯åº
                        </p>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h5>Doc2Vecï¼ˆæ®µè½å‘é‡ï¼‰</h5>
                        <p>å­¦ä¹ ä¸“é—¨çš„æ–‡æ¡£å‘é‡</p>
                        <div class="demo-container">
                            <p><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong>åœ¨è®­ç»ƒè¯å‘é‡æ—¶ï¼ŒåŠ å…¥ä¸€ä¸ªç‰¹æ®Šçš„"æ–‡æ¡£ID"</p>
                            <p class="mt-2">æ¯ä¸ªæ–‡æ¡£éƒ½æœ‰è‡ªå·±çš„å‘é‡ï¼Œä¸è¯å‘é‡ä¸€èµ·è®­ç»ƒ</p>

                            <div class="math-display mt-3">
                                <p>è®­ç»ƒç›®æ ‡ï¼šé¢„æµ‹æ–‡æ¡£ä¸­çš„è¯</p>
                                <p class="math-formula">
                                    $P(w_t | w_{t-k}, ..., w_{t+k}, d_i)$
                                </p>
                                <p class="mt-2 text-muted">å…¶ä¸­ $d_i$ æ˜¯æ–‡æ¡£å‘é‡</p>
                            </div>
                        </div>
                        <p class="mt-2">
                            âœ… æ•è·æ–‡æ¡£æ•´ä½“è¯­ä¹‰ âŒ éœ€è¦é‡æ–°è®­ç»ƒ
                        </p>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h5>å¥å­åµŒå…¥ï¼ˆSentence-BERTï¼‰</h5>
                        <p>ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹ç”Ÿæˆå¥å­å‘é‡</p>
                        <div class="tip success">
                            <span class="tip-icon">ğŸš€</span>
                            <strong>ç°ä»£æ–¹æ³•ï¼šä½¿ç”¨BERTç­‰æ¨¡å‹ç›´æ¥ç”Ÿæˆé«˜è´¨é‡çš„å¥å­/æ–‡æ¡£å‘é‡</strong>
                        </div>
                    </div>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">Python - æ–‡æ¡£å‘é‡å®æˆ˜</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="toggleCode(this)">å±•å¼€</button>
                        <button class="code-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                    </div>
                </div>
                <div class="code-content collapsed">
                    <pre><span class="keyword">from</span> gensim.models.doc2vec <span class="keyword">import</span> Doc2Vec, TaggedDocument
<span class="keyword">from</span> sklearn.feature_extraction.text <span class="keyword">import</span> TfidfVectorizer
<span class="keyword">import</span> numpy <span class="keyword">as</span> np

<span class="keyword">class</span> <span class="function">DocumentVectorizer</span>:
    <span class="string">"""æ–‡æ¡£å‘é‡åŒ–å·¥å…·"""</span>

    <span class="keyword">def</span> <span class="function">__init__</span>(self, word_vectors=None):
        self.word_vectors = word_vectors
        self.tfidf = TfidfVectorizer()
        self.doc2vec_model = None

    <span class="keyword">def</span> <span class="function">average_word_vectors</span>(self, doc):
        <span class="string">"""æ–¹æ³•1ï¼šç®€å•å¹³å‡"""</span>
        vectors = []
        <span class="keyword">for</span> word <span class="keyword">in</span> doc:
            <span class="keyword">if</span> word <span class="keyword">in</span> self.word_vectors:
                vectors.append(self.word_vectors[word])

        <span class="keyword">if</span> vectors:
            <span class="keyword">return</span> np.mean(vectors, axis=<span class="number">0</span>)
        <span class="keyword">else</span>:
            <span class="comment"># å¦‚æœæ²¡æœ‰è¯åœ¨è¯è¡¨ä¸­ï¼Œè¿”å›é›¶å‘é‡</span>
            <span class="keyword">return</span> np.zeros(self.word_vectors.vector_size)

    <span class="keyword">def</span> <span class="function">weighted_average</span>(self, docs):
        <span class="string">"""æ–¹æ³•2ï¼šTF-IDFåŠ æƒå¹³å‡"""</span>
        <span class="comment"># è®­ç»ƒTF-IDF</span>
        docs_text = [<span class="string">' '</span>.join(doc) <span class="keyword">for</span> doc <span class="keyword">in</span> docs]
        self.tfidf.fit(docs_text)

        doc_vectors = []
        <span class="keyword">for</span> doc <span class="keyword">in</span> docs:
            <span class="comment"># è·å–TF-IDFæƒé‡</span>
            doc_text = <span class="string">' '</span>.join(doc)
            tfidf_vector = self.tfidf.transform([doc_text]).toarray()[<span class="number">0</span>]
            vocab = self.tfidf.get_feature_names_out()

            <span class="comment"># åŠ æƒå¹³å‡</span>
            weighted_vectors = []
            <span class="keyword">for</span> word <span class="keyword">in</span> doc:
                <span class="keyword">if</span> word <span class="keyword">in</span> self.word_vectors <span class="keyword">and</span> word <span class="keyword">in</span> vocab:
                    idx = list(vocab).index(word)
                    weight = tfidf_vector[idx]
                    weighted_vectors.append(self.word_vectors[word] * weight)

            <span class="keyword">if</span> weighted_vectors:
                doc_vectors.append(np.mean(weighted_vectors, axis=<span class="number">0</span>))
            <span class="keyword">else</span>:
                doc_vectors.append(np.zeros(self.word_vectors.vector_size))

        <span class="keyword">return</span> doc_vectors

    <span class="keyword">def</span> <span class="function">train_doc2vec</span>(self, documents, vector_size=<span class="number">100</span>, epochs=<span class="number">20</span>):
        <span class="string">"""æ–¹æ³•3ï¼šè®­ç»ƒDoc2Vecæ¨¡å‹"""</span>
        <span class="comment"># å‡†å¤‡è®­ç»ƒæ•°æ®</span>
        tagged_docs = []
        <span class="keyword">for</span> i, doc <span class="keyword">in</span> enumerate(documents):
            tagged_docs.append(TaggedDocument(words=doc, tags=[str(i)]))

        <span class="comment"># è®­ç»ƒæ¨¡å‹</span>
        self.doc2vec_model = Doc2Vec(
            vector_size=vector_size,
            window=<span class="number">5</span>,
            min_count=<span class="number">1</span>,
            workers=<span class="number">4</span>,
            epochs=epochs
        )

        self.doc2vec_model.build_vocab(tagged_docs)
        self.doc2vec_model.train(
            tagged_docs,
            total_examples=self.doc2vec_model.corpus_count,
            epochs=self.doc2vec_model.epochs
        )

        <span class="keyword">return</span> self.doc2vec_model

    <span class="keyword">def</span> <span class="function">infer_doc_vector</span>(self, doc):
        <span class="string">"""æ¨æ–­æ–°æ–‡æ¡£çš„å‘é‡"""</span>
        <span class="keyword">if</span> self.doc2vec_model:
            <span class="keyword">return</span> self.doc2vec_model.infer_vector(doc)
        <span class="keyword">else</span>:
            <span class="keyword">raise</span> ValueError(<span class="string">"è¯·å…ˆè®­ç»ƒDoc2Vecæ¨¡å‹"</span>)

<span class="comment"># ä½¿ç”¨ç¤ºä¾‹</span>
documents = [
    [<span class="string">'æœºå™¨å­¦ä¹ '</span>, <span class="string">'æ˜¯'</span>, <span class="string">'äººå·¥æ™ºèƒ½'</span>, <span class="string">'çš„'</span>, <span class="string">'ä¸€ä¸ª'</span>, <span class="string">'åˆ†æ”¯'</span>],
    [<span class="string">'æ·±åº¦å­¦ä¹ '</span>, <span class="string">'æ”¹å˜'</span>, <span class="string">'äº†'</span>, <span class="string">'è®¡ç®—æœºè§†è§‰'</span>],
    [<span class="string">'è‡ªç„¶è¯­è¨€å¤„ç†'</span>, <span class="string">'è®©'</span>, <span class="string">'æœºå™¨'</span>, <span class="string">'ç†è§£'</span>, <span class="string">'äººç±»è¯­è¨€'</span>]
]

<span class="comment"># æ–‡æ¡£ç›¸ä¼¼åº¦è®¡ç®—</span>
<span class="keyword">def</span> <span class="function">find_similar_documents</span>(query_doc, doc_vectors, documents, top_k=<span class="number">3</span>):
    <span class="string">"""æ‰¾å‡ºæœ€ç›¸ä¼¼çš„æ–‡æ¡£"""</span>

    similarities = []
    query_vec = doc_vectors[query_doc]

    <span class="keyword">for</span> i, doc_vec <span class="keyword">in</span> enumerate(doc_vectors):
        <span class="keyword">if</span> i != query_doc:
            sim = cosine_similarity(
                query_vec.reshape(<span class="number">1</span>, -<span class="number">1</span>),
                doc_vec.reshape(<span class="number">1</span>, -<span class="number">1</span>)
            )[<span class="number">0</span>, <span class="number">0</span>]
            similarities.append((i, sim))

    similarities.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="keyword">True</span>)

    print(<span class="string">f"ä¸æ–‡æ¡£{query_doc}æœ€ç›¸ä¼¼çš„æ–‡æ¡£ï¼š"</span>)
    <span class="keyword">for</span> idx, sim <span class="keyword">in</span> similarities[:top_k]:
        print(<span class="string">f"  æ–‡æ¡£{idx}: {' '.join(documents[idx][:10])}... (ç›¸ä¼¼åº¦: {sim:.3f})"</span>)</pre>
                </div>
            </div>
        </section>

        <!-- å®é™…åº”ç”¨æ¡ˆä¾‹ -->
        <section id="applications" class="section-card">
            <h2>ğŸš€ å®é™…åº”ç”¨æ¡ˆä¾‹</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ’¼</span>
                <p><strong>è¯å‘é‡æ”¹å˜äº†æ•´ä¸ªNLPè¡Œä¸š</strong></p>
                <p class="mt-2">
                    ä»2013å¹´Word2Vecå‘å¸ƒè‡³ä»Šï¼Œè¯å‘é‡å·²ç»æˆä¸ºNLPçš„åŸºç¡€è®¾æ–½ï¼Œæ”¯æ’‘ç€æ— æ•°åº”ç”¨ã€‚
                </p>
            </div>

            <div class="card-grid">
                <div class="info-card">
                    <span class="card-icon">ğŸ”</span>
                    <h3 class="card-title">æ™ºèƒ½æœç´¢</h3>
                    <p><strong>é—®é¢˜ï¼š</strong>ç”¨æˆ·æœç´¢"ä¾¿å®œçš„æ‰‹æœº"</p>
                    <p><strong>ä¼ ç»Ÿæ–¹æ³•ï¼š</strong>åªèƒ½åŒ¹é…åŒ…å«"ä¾¿å®œ"çš„ç»“æœ</p>
                    <p><strong>è¯å‘é‡æ–¹æ¡ˆï¼š</strong>æ‰¾åˆ°"å®æƒ "ã€"æ€§ä»·æ¯”é«˜"ã€"ç»æµå®æƒ "ç­‰ç›¸ä¼¼è¡¨è¾¾</p>
                    <div class="code-block mt-3">
                        <div class="code-header">
                            <span class="code-lang">å®ç°æ€è·¯</span>
                        </div>
                        <div class="code-content">
                            <pre><span class="comment"># æ‰©å±•æŸ¥è¯¢è¯</span>
similar_words = model.most_similar(<span class="string">"ä¾¿å®œ"</span>, topn=<span class="number">5</span>)
<span class="comment"># ['å®æƒ ', 'å»‰ä»·', 'ä½ä»·', 'ç»æµ', 'çœé’±']</span></pre>
                        </div>
                    </div>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ’¬</span>
                    <h3 class="card-title">æ™ºèƒ½å®¢æœ</h3>
                    <p><strong>é—®é¢˜ï¼š</strong>ç†è§£ç”¨æˆ·çš„å„ç§é—®æ³•</p>
                    <p><strong>ç¤ºä¾‹ï¼š</strong></p>
                    <ul style="font-size: 0.9rem;">
                        <li>"æ€ä¹ˆé€€è´§ï¼Ÿ"</li>
                        <li>"æˆ‘æƒ³é€€æ‰è¿™ä¸ªå•†å“"</li>
                        <li>"ä¸æƒ³è¦äº†èƒ½é€€å—"</li>
                    </ul>
                    <p><strong>è¯å‘é‡æ–¹æ¡ˆï¼š</strong>è®¡ç®—é—®é¢˜ç›¸ä¼¼åº¦ï¼ŒåŒ¹é…åˆ°åŒä¸€ä¸ªç­”æ¡ˆ</p>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ¯</span>
                    <h3 class="card-title">æ¨èç³»ç»Ÿ</h3>
                    <p><strong>åœºæ™¯ï¼š</strong>æ–°é—»æ¨è</p>
                    <p><strong>ä¼ ç»Ÿæ–¹æ³•ï¼š</strong>åŸºäºå…³é”®è¯åŒ¹é…</p>
                    <p><strong>è¯å‘é‡æ–¹æ¡ˆï¼š</strong></p>
                    <ol style="font-size: 0.9rem;">
                        <li>è®¡ç®—ç”¨æˆ·å†å²æ–‡ç« çš„å¹³å‡å‘é‡</li>
                        <li>æ‰¾ç›¸ä¼¼åº¦æœ€é«˜çš„æ–°æ–‡ç« </li>
                        <li>æ¨èè¯­ä¹‰ç›¸å…³è€Œéä»…ä»…å…³é”®è¯ç›¸åŒ</li>
                    </ol>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸŒ</span>
                    <h3 class="card-title">æœºå™¨ç¿»è¯‘</h3>
                    <p><strong>æŒ‘æˆ˜ï¼š</strong>è¯æ±‡å¯¹é½</p>
                    <p><strong>è¯å‘é‡æ–¹æ¡ˆï¼š</strong>è·¨è¯­è¨€è¯å‘é‡</p>
                    <div class="demo-container mt-3" style="padding: 1rem;">
                        <p style="font-size: 0.9rem;">
                            King - Man + Woman = Queen<br>
                            å›½ç‹ - ç”·äºº + å¥³äºº = å¥³ç‹<br>
                            <span class="text-muted">â†’ ä¸åŒè¯­è¨€çš„è¯å‘é‡ç©ºé—´å¯ä»¥å¯¹é½ï¼</span>
                        </p>
                    </div>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ­</span>
                    <h3 class="card-title">æƒ…æ„Ÿåˆ†æ</h3>
                    <p><strong>ä»»åŠ¡ï¼š</strong>åˆ¤æ–­è¯„è®ºçš„æƒ…æ„Ÿå€¾å‘</p>
                    <p><strong>è¯å‘é‡ä¼˜åŠ¿ï¼š</strong></p>
                    <ul style="font-size: 0.9rem;">
                        <li>ç›¸ä¼¼æƒ…æ„Ÿè¯èšé›†ï¼šå¼€å¿ƒâ‰ˆé«˜å…´â‰ˆæ„‰å¿«</li>
                        <li>åä¹‰è¯åˆ†ç¦»ï¼šå¥½âŸ·å</li>
                        <li>ç¨‹åº¦è¯åŒºåˆ†ï¼šå–œæ¬¢ < çˆ± < é…·çˆ±</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ·ï¸</span>
                    <h3 class="card-title">æ–‡æœ¬åˆ†ç±»</h3>
                    <p><strong>æ”¹è¿›æ•ˆæœï¼š</strong></p>
                    <div class="comparison-table mt-3" style="font-size: 0.875rem;">
                        <table>
                            <tr>
                                <td>ä¼ ç»Ÿæ–¹æ³•(BoW)</td>
                                <td>85%å‡†ç¡®ç‡</td>
                            </tr>
                            <tr>
                                <td>+è¯å‘é‡</td>
                                <td>92%å‡†ç¡®ç‡</td>
                            </tr>
                            <tr>
                                <td>+é¢„è®­ç»ƒæ¨¡å‹</td>
                                <td>97%å‡†ç¡®ç‡</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">Python - ç»¼åˆåº”ç”¨ç¤ºä¾‹</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="toggleCode(this)">å±•å¼€</button>
                        <button class="code-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                    </div>
                </div>
                <div class="code-content collapsed">
                    <pre><span class="comment"># åº”ç”¨1ï¼šæ™ºèƒ½æœç´¢æ‰©å±•</span>
<span class="keyword">class</span> <span class="function">SmartSearch</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, word_vectors):
        self.word_vectors = word_vectors
        self.documents = []
        self.doc_vectors = []

    <span class="keyword">def</span> <span class="function">expand_query</span>(self, query, n_expansions=<span class="number">3</span>):
        <span class="string">"""æ‰©å±•æŸ¥è¯¢è¯"""</span>
        expanded_terms = []

        <span class="keyword">for</span> word <span class="keyword">in</span> query.split():
            expanded_terms.append(word)
            <span class="keyword">if</span> word <span class="keyword">in</span> self.word_vectors:
                similar = self.word_vectors.most_similar(word, topn=n_expansions)
                expanded_terms.extend([w[<span class="number">0</span>] <span class="keyword">for</span> w <span class="keyword">in</span> similar])

        <span class="keyword">return</span> list(set(expanded_terms))

    <span class="keyword">def</span> <span class="function">search</span>(self, query, top_k=<span class="number">5</span>):
        <span class="string">"""è¯­ä¹‰æœç´¢"""</span>
        <span class="comment"># è®¡ç®—æŸ¥è¯¢å‘é‡</span>
        query_words = query.split()
        query_vec = np.mean([
            self.word_vectors[w] <span class="keyword">for</span> w <span class="keyword">in</span> query_words
            <span class="keyword">if</span> w <span class="keyword">in</span> self.word_vectors
        ], axis=<span class="number">0</span>)

        <span class="comment"># è®¡ç®—ç›¸ä¼¼åº¦</span>
        similarities = []
        <span class="keyword">for</span> i, doc_vec <span class="keyword">in</span> enumerate(self.doc_vectors):
            sim = cosine_similarity(
                query_vec.reshape(<span class="number">1</span>, -<span class="number">1</span>),
                doc_vec.reshape(<span class="number">1</span>, -<span class="number">1</span>)
            )[<span class="number">0</span>, <span class="number">0</span>]
            similarities.append((i, sim))

        <span class="comment"># è¿”å›æœ€ç›¸ä¼¼çš„æ–‡æ¡£</span>
        similarities.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="keyword">True</span>)
        <span class="keyword">return</span> [(self.documents[i], sim) <span class="keyword">for</span> i, sim <span class="keyword">in</span> similarities[:top_k]]

<span class="comment"># åº”ç”¨2ï¼šé—®ç­”ç³»ç»Ÿç›¸ä¼¼é—®é¢˜åŒ¹é…</span>
<span class="keyword">class</span> <span class="function">FAQMatcher</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, word_vectors):
        self.word_vectors = word_vectors
        self.faq_database = []
        self.faq_vectors = []

    <span class="keyword">def</span> <span class="function">add_faq</span>(self, question, answer):
        <span class="string">"""æ·»åŠ FAQ"""</span>
        self.faq_database.append({<span class="string">'question'</span>: question, <span class="string">'answer'</span>: answer})

        <span class="comment"># è®¡ç®—é—®é¢˜å‘é‡</span>
        words = question.split()
        vec = np.mean([
            self.word_vectors[w] <span class="keyword">for</span> w <span class="keyword">in</span> words
            <span class="keyword">if</span> w <span class="keyword">in</span> self.word_vectors
        ], axis=<span class="number">0</span>)
        self.faq_vectors.append(vec)

    <span class="keyword">def</span> <span class="function">find_answer</span>(self, user_question, threshold=<span class="number">0.7</span>):
        <span class="string">"""æ‰¾åˆ°æœ€åŒ¹é…çš„ç­”æ¡ˆ"""</span>
        <span class="comment"># è®¡ç®—ç”¨æˆ·é—®é¢˜å‘é‡</span>
        words = user_question.split()
        user_vec = np.mean([
            self.word_vectors[w] <span class="keyword">for</span> w <span class="keyword">in</span> words
            <span class="keyword">if</span> w <span class="keyword">in</span> self.word_vectors
        ], axis=<span class="number">0</span>)

        <span class="comment"># æ‰¾æœ€ç›¸ä¼¼çš„FAQ</span>
        best_match = None
        best_sim = -<span class="number">1</span>

        <span class="keyword">for</span> i, faq_vec <span class="keyword">in</span> enumerate(self.faq_vectors):
            sim = cosine_similarity(
                user_vec.reshape(<span class="number">1</span>, -<span class="number">1</span>),
                faq_vec.reshape(<span class="number">1</span>, -<span class="number">1</span>)
            )[<span class="number">0</span>, <span class="number">0</span>]

            <span class="keyword">if</span> sim > best_sim:
                best_sim = sim
                best_match = i

        <span class="keyword">if</span> best_sim >= threshold:
            <span class="keyword">return</span> self.faq_database[best_match][<span class="string">'answer'</span>], best_sim
        <span class="keyword">else</span>:
            <span class="keyword">return</span> <span class="string">"æŠ±æ­‰ï¼Œæˆ‘ä¸å¤ªç†è§£æ‚¨çš„é—®é¢˜ã€‚"</span>, best_sim

<span class="comment"># åº”ç”¨3ï¼šæ–‡æœ¬å»é‡</span>
<span class="keyword">def</span> <span class="function">find_duplicate_documents</span>(documents, word_vectors, threshold=<span class="number">0.9</span>):
    <span class="string">"""æ‰¾å‡ºé‡å¤æˆ–é«˜åº¦ç›¸ä¼¼çš„æ–‡æ¡£"""</span>

    <span class="comment"># è®¡ç®—æ‰€æœ‰æ–‡æ¡£å‘é‡</span>
    doc_vectors = []
    <span class="keyword">for</span> doc <span class="keyword">in</span> documents:
        words = doc.split()
        vec = np.mean([
            word_vectors[w] <span class="keyword">for</span> w <span class="keyword">in</span> words
            <span class="keyword">if</span> w <span class="keyword">in</span> word_vectors
        ], axis=<span class="number">0</span>)
        doc_vectors.append(vec)

    <span class="comment"># æ‰¾å‡ºç›¸ä¼¼æ–‡æ¡£å¯¹</span>
    duplicates = []
    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(documents)):
        <span class="keyword">for</span> j <span class="keyword">in</span> range(i + <span class="number">1</span>, len(documents)):
            sim = cosine_similarity(
                doc_vectors[i].reshape(<span class="number">1</span>, -<span class="number">1</span>),
                doc_vectors[j].reshape(<span class="number">1</span>, -<span class="number">1</span>)
            )[<span class="number">0</span>, <span class="number">0</span>]

            <span class="keyword">if</span> sim >= threshold:
                duplicates.append((i, j, sim))

    <span class="keyword">return</span> duplicates</pre>
                </div>
            </div>
        </section>

        <!-- æœ¬ç« æ€»ç»“ -->
        <section id="summary" class="section-card">
            <h2>ğŸ“š æœ¬ç« æ€»ç»“</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ“</span>
                <p><strong>ä»ç¬¦å·åˆ°è¯­ä¹‰çš„ä¼Ÿå¤§è·¨è¶Š</strong></p>
                <p class="mt-2">
                    è¿˜è®°å¾—å¼€ç¯‡çš„"å›½ç‹-ç”·äºº+å¥³äºº=å¥³ç‹"å—ï¼Ÿè¿™ä¸ªç®€å•çš„ç®—å¼èƒŒåï¼Œæ˜¯äººç±»è®©æœºå™¨ç†è§£è¯­è¨€å«ä¹‰çš„é‡å¤§çªç ´ã€‚
                </p>
                <p class="mt-2">
                    è¯å‘é‡ä¸ä»…ä»…æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œæ›´æ˜¯ä¸€ç§å…¨æ–°çš„è¯­è¨€ç†è§£èŒƒå¼â€”â€”å®ƒè®©"æ„ä¹‰"å˜å¾—å¯è®¡ç®—ã€‚
                </p>
            </div>

            <div class="flow-diagram">
                <h4 class="text-center mb-4" style="color: var(--primary-light);">ğŸ—ºï¸ è¯å‘é‡æŠ€æœ¯å…¨æ™¯å›¾</h4>

                <div class="visualization">
                    <svg width="900" height="600" viewBox="0 0 900 600" style="max-width: 100%;">
                        <!-- æ—¶é—´è½´ -->
                        <line x1="50" y1="500" x2="850" y2="500" stroke="#475569" stroke-width="2"/>
                        <text x="450" y="540" text-anchor="middle" fill="#94a3b8" font-size="14">æ—¶é—´å‘å±•</text>

                        <!-- 2013 -->
                        <circle cx="150" cy="500" r="5" fill="#6366f1"/>
                        <text x="150" y="520" text-anchor="middle" fill="#cbd5e1" font-size="12">2013</text>
                        <rect x="100" y="420" width="100" height="60" fill="#334155" rx="10"/>
                        <text x="150" y="445" text-anchor="middle" fill="white" font-size="14" font-weight="bold">Word2Vec</text>
                        <text x="150" y="465" text-anchor="middle" fill="#94a3b8" font-size="11">å¼€åˆ›æ€§çªç ´</text>

                        <!-- 2014 -->
                        <circle cx="300" cy="500" r="5" fill="#6366f1"/>
                        <text x="300" y="520" text-anchor="middle" fill="#cbd5e1" font-size="12">2014</text>
                        <rect x="250" y="420" width="100" height="60" fill="#334155" rx="10"/>
                        <text x="300" y="445" text-anchor="middle" fill="white" font-size="14" font-weight="bold">GloVe</text>
                        <text x="300" y="465" text-anchor="middle" fill="#94a3b8" font-size="11">å…¨å±€è§†è§’</text>

                        <!-- 2016 -->
                        <circle cx="450" cy="500" r="5" fill="#6366f1"/>
                        <text x="450" y="520" text-anchor="middle" fill="#cbd5e1" font-size="12">2016</text>
                        <rect x="400" y="420" width="100" height="60" fill="#334155" rx="10"/>
                        <text x="450" y="445" text-anchor="middle" fill="white" font-size="14" font-weight="bold">FastText</text>
                        <text x="450" y="465" text-anchor="middle" fill="#94a3b8" font-size="11">å­è¯å»ºæ¨¡</text>

                        <!-- 2018 -->
                        <circle cx="600" cy="500" r="5" fill="#ec4899"/>
                        <text x="600" y="520" text-anchor="middle" fill="#cbd5e1" font-size="12">2018</text>
                        <rect x="550" y="340" width="100" height="60" fill="#ec4899" rx="10"/>
                        <text x="600" y="365" text-anchor="middle" fill="white" font-size="14" font-weight="bold">BERT</text>
                        <text x="600" y="385" text-anchor="middle" fill="white" font-size="11">ä¸Šä¸‹æ–‡ç†è§£</text>
                        <path d="M 600 400 L 600 495" stroke="#ec4899" stroke-width="2" stroke-dasharray="5,5"/>

                        <!-- 2023+ -->
                        <circle cx="750" cy="500" r="5" fill="#10b981"/>
                        <text x="750" y="520" text-anchor="middle" fill="#cbd5e1" font-size="12">2023+</text>
                        <rect x="700" y="340" width="100" height="60" fill="#10b981" rx="10"/>
                        <text x="750" y="365" text-anchor="middle" fill="white" font-size="14" font-weight="bold">LLMæ—¶ä»£</text>
                        <text x="750" y="385" text-anchor="middle" fill="white" font-size="11">GPT/ChatGPT</text>

                        <!-- æŠ€æœ¯åˆ†ç±» -->
                        <text x="50" y="50" fill="#f1f5f9" font-size="16" font-weight="bold">è¯å‘é‡æŠ€æœ¯æ¼”è¿›</text>

                        <!-- é™æ€è¯å‘é‡ -->
                        <rect x="50" y="80" width="500" height="200" fill="none" stroke="#6366f1" stroke-width="2" rx="10" stroke-dasharray="10,5"/>
                        <text x="60" y="105" fill="#818cf8" font-size="14" font-weight="bold">é™æ€è¯å‘é‡</text>

                        <!-- åŠ¨æ€è¯å‘é‡ -->
                        <rect x="480" y="80" width="370" height="200" fill="none" stroke="#ec4899" stroke-width="2" rx="10" stroke-dasharray="10,5"/>
                        <text x="490" y="105" fill="#f472b6" font-size="14" font-weight="bold">åŠ¨æ€è¯å‘é‡</text>

                        <!-- ç‰¹ç‚¹å¯¹æ¯” -->
                        <text x="80" y="140" fill="#94a3b8" font-size="12">â€¢ ä¸€è¯ä¸€å‘é‡</text>
                        <text x="80" y="165" fill="#94a3b8" font-size="12">â€¢ è®­ç»ƒå¿«é€Ÿ</text>
                        <text x="80" y="190" fill="#94a3b8" font-size="12">â€¢ å†…å­˜å ç”¨å°</text>
                        <text x="80" y="215" fill="#94a3b8" font-size="12">â€¢ æ— æ³•å¤„ç†å¤šä¹‰è¯</text>

                        <text x="510" y="140" fill="#94a3b8" font-size="12">â€¢ æ ¹æ®ä¸Šä¸‹æ–‡å˜åŒ–</text>
                        <text x="510" y="165" fill="#94a3b8" font-size="12">â€¢ éœ€è¦å¤§æ¨¡å‹</text>
                        <text x="510" y="190" fill="#94a3b8" font-size="12">â€¢ è®¡ç®—èµ„æºå¯†é›†</text>
                        <text x="510" y="215" fill="#94a3b8" font-size="12">â€¢ ç†è§£å¤šä¹‰è¯</text>
                    </svg>
                </div>
            </div>

            <div class="card-grid mt-4">
                <div class="info-card">
                    <span class="card-icon">ğŸ¯</span>
                    <h3 class="card-title">æ ¸å¿ƒæ¦‚å¿µ</h3>
                    <ul>
                        <li><strong>åˆ†å¸ƒå‡è®¾ï¼š</strong>è¯çš„æ„ä¹‰ç”±ä¸Šä¸‹æ–‡å†³å®š</li>
                        <li><strong>è¯å‘é‡ï¼š</strong>ç”¨è¿ç»­å‘é‡è¡¨ç¤ºè¯çš„è¯­ä¹‰</li>
                        <li><strong>è¯­ä¹‰è¿ç®—ï¼š</strong>å‘é‡è¿ç®—å¯¹åº”è¯­ä¹‰å…³ç³»</li>
                        <li><strong>ç›¸ä¼¼åº¦ï¼š</strong>ä½™å¼¦ç›¸ä¼¼åº¦è¡¡é‡è¯­ä¹‰ç›¸è¿‘</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ› ï¸</span>
                    <h3 class="card-title">å…³é”®æŠ€æœ¯</h3>
                    <ul>
                        <li><strong>Word2Vecï¼š</strong>CBOWå’ŒSkip-gram</li>
                        <li><strong>GloVeï¼š</strong>ç»“åˆå…¨å±€ç»Ÿè®¡</li>
                        <li><strong>FastTextï¼š</strong>å­è¯çº§åˆ«å»ºæ¨¡</li>
                        <li><strong>BERTç­‰ï¼š</strong>ä¸Šä¸‹æ–‡ç›¸å…³è¡¨ç¤º</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ’¡</span>
                    <h3 class="card-title">å®è·µè¦ç‚¹</h3>
                    <ul>
                        <li>é¢„è®­ç»ƒæ¨¡å‹ä¼˜äºä»é›¶è®­ç»ƒ</li>
                        <li>æ ¹æ®ä»»åŠ¡é€‰æ‹©åˆé€‚çš„è¯å‘é‡</li>
                        <li>æ³¨æ„å¤„ç†æœªç™»å½•è¯ï¼ˆOOVï¼‰</li>
                        <li>è€ƒè™‘è®¡ç®—èµ„æºå’Œå®æ—¶æ€§éœ€æ±‚</li>
                    </ul>
                </div>
            </div>

            <div class="tip success mt-4">
                <span class="tip-icon">ğŸŒŸ</span>
                <strong>å±•æœ›æœªæ¥</strong>
                <p class="mt-2">
                    è¯å‘é‡æŠ€æœ¯ä»åœ¨å¿«é€Ÿå‘å±•ã€‚ä»é™æ€åˆ°åŠ¨æ€ï¼Œä»å•è¯­åˆ°å¤šè¯­ï¼Œä»æ–‡æœ¬åˆ°å¤šæ¨¡æ€ï¼Œè¯å‘é‡æ­£åœ¨å¸®åŠ©æœºå™¨æ›´æ·±å…¥åœ°ç†è§£äººç±»è¯­è¨€ã€‚
                </p>
                <p class="mt-2">
                    åœ¨å¤§è¯­è¨€æ¨¡å‹æ—¶ä»£ï¼Œè¯å‘é‡ä¾ç„¶æ˜¯ç†è§£å’Œæ”¹è¿›è¿™äº›æ¨¡å‹çš„å…³é”®ã€‚æŒæ¡è¯å‘é‡ï¼Œå°±æŒæ¡äº†æ‰“å¼€NLPå¤§é—¨çš„é’¥åŒ™ã€‚
                </p>
            </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="exercises" class="section-card">
            <h2>ğŸ‹ï¸ åŠ¨æ‰‹ç»ƒä¹ </h2>

            <div class="algorithm-steps">
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h5>åŸºç¡€ç»ƒä¹ ï¼šå®ç°ç®€å•çš„è¯å‘é‡è®­ç»ƒ</h5>
                        <p>ä½¿ç”¨numpyå®ç°ä¸€ä¸ªç®€åŒ–ç‰ˆçš„Word2Vec</p>
                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">Python - ç»ƒä¹ æ¨¡æ¿</span>
                            </div>
                            <div class="code-content">
                                <pre><span class="keyword">import</span> numpy <span class="keyword">as</span> np

<span class="keyword">class</span> <span class="function">SimpleWord2Vec</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self, vocab_size, embedding_dim):
        <span class="string">"""
        å®ç°ä¸€ä¸ªç®€å•çš„Word2Vecæ¨¡å‹

        ä»»åŠ¡ï¼š
        1. åˆå§‹åŒ–è¯å‘é‡çŸ©é˜µ
        2. å®ç°å‰å‘ä¼ æ’­
        3. å®ç°æ¢¯åº¦æ›´æ–°
        """</span>
        <span class="comment"># æç¤ºï¼šéœ€è¦ä¸¤ä¸ªçŸ©é˜µ</span>
        self.W = np.random.randn(vocab_size, embedding_dim) * 0.01  <span class="comment"># è¾“å…¥è¯å‘é‡</span>
        self.U = np.random.randn(vocab_size, embedding_dim) * 0.01  <span class="comment"># è¾“å‡ºè¯å‘é‡</span>

    <span class="keyword">def</span> <span class="function">forward</span>(self, center_word_idx):
        <span class="string">"""å‰å‘ä¼ æ’­ï¼šè®¡ç®—P(context|center)"""</span>
        <span class="comment"># æç¤ºï¼š</span>
        <span class="comment"># 1. è·å–ä¸­å¿ƒè¯å‘é‡: v_c = self.W[center_word_idx]</span>
        <span class="comment"># 2. è®¡ç®—æ‰€æœ‰è¯çš„å¾—åˆ†: scores = np.dot(self.U, v_c)</span>
        <span class="comment"># 3. åº”ç”¨softmax: exp_scores = np.exp(scores - np.max(scores))</span>
        <span class="comment"># 4. å½’ä¸€åŒ–: probs = exp_scores / np.sum(exp_scores)</span>
        <span class="keyword">pass</span>

    <span class="keyword">def</span> <span class="function">train_step</span>(self, center_idx, context_idx, learning_rate=0.01):
        <span class="string">"""è®­ç»ƒä¸€æ­¥"""</span>
        <span class="comment"># æç¤ºï¼šåŸºäºå…¬å¼æ›´æ–°å‘é‡</span>
        <span class="comment"># error = predicted_prob - actual_prob</span>
        <span class="comment"># grad_U = error * v_c</span>
        <span class="comment"># grad_v_c = U.T @ error</span>
        <span class="keyword">pass</span>

<span class="comment"># æµ‹è¯•æç¤º</span>
<span class="comment"># 1. åˆ›å»ºç®€å•è¯æ±‡è¡¨ï¼švocab = ['çŒ«', 'ç‹—', 'å–', 'åƒ', 'ç‰›å¥¶', 'éª¨å¤´']</span>
<span class="comment"># 2. ç”Ÿæˆè®­ç»ƒå¯¹ï¼špairs = [(2, 0), (2, 4), ...]  # (å–, çŒ«), (å–, ç‰›å¥¶)</span>
<span class="comment"># 3. è®­ç»ƒåæ£€æŸ¥ç›¸ä¼¼åº¦ï¼šçŒ«å’Œç‹—åº”è¯¥æ¯”çŒ«å’Œå–æ›´ç›¸ä¼¼</span></pre>
                            </div>
                        </div>

                        <div class="formula-explanation mt-3">
                            <h5>ğŸ“– ä»æ•°å­¦åˆ°ä»£ç çš„æ¡¥æ¢</h5>
                            <p>Skip-gramçš„æ ¸å¿ƒå…¬å¼ï¼š</p>
                            <p class="text-center">$P(w_o|w_c) = \frac{\exp(u_o^T v_c)}{\sum_{w} \exp(u_w^T v_c)}$</p>

                            <p class="mt-3">è½¬æ¢æˆä»£ç çš„æ­¥éª¤ï¼š</p>
                            <ol>
                                <li><strong>å‘é‡ç›¸ä¹˜ï¼š</strong><code>u_o^T v_c</code> â†’ <code>np.dot(U[o], v_c)</code></li>
                                <li><strong>æŒ‡æ•°å‡½æ•°ï¼š</strong><code>exp(...)</code> â†’ <code>np.exp(...)</code></li>
                                <li><strong>æ±‚å’Œï¼š</strong><code>Î£</code> â†’ <code>np.sum(...)</code></li>
                                <li><strong>æ¢¯åº¦ä¸‹é™ï¼š</strong><code>Î¸ = Î¸ - Î±âˆ‡L</code> â†’ <code>W -= lr * gradient</code></li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h5>è¿›é˜¶ç»ƒä¹ ï¼šæ„å»ºè¯­ä¹‰æœç´¢å¼•æ“</h5>
                        <p>ä½¿ç”¨é¢„è®­ç»ƒè¯å‘é‡å®ç°ä¸€ä¸ªç®€å•çš„è¯­ä¹‰æœç´¢ç³»ç»Ÿ</p>
                        <div class="demo-container">
                            <p><strong>éœ€æ±‚ï¼š</strong></p>
                            <ul>
                                <li>åŠ è½½é¢„è®­ç»ƒè¯å‘é‡</li>
                                <li>å®ç°æŸ¥è¯¢æ‰©å±•</li>
                                <li>è®¡ç®—æ–‡æ¡£ç›¸ä¼¼åº¦</li>
                                <li>è¿”å›æœ€ç›¸å…³çš„ç»“æœ</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h5>æŒ‘æˆ˜ç»ƒä¹ ï¼šå¤šè¯­è¨€è¯å‘é‡å¯¹é½</h5>
                        <p>å®ç°ä¸­è‹±æ–‡è¯å‘é‡ç©ºé—´çš„å¯¹é½</p>
                        <div class="demo-container">
                            <p><strong>ç›®æ ‡ï¼š</strong></p>
                            <ul>
                                <li>åŠ è½½ä¸­æ–‡å’Œè‹±æ–‡è¯å‘é‡</li>
                                <li>ä½¿ç”¨å¯¹é½è¯å…¸å­¦ä¹ è½¬æ¢çŸ©é˜µ</li>
                                <li>å®ç°è·¨è¯­è¨€è¯æ±‡æ£€ç´¢</li>
                                <li>è¯„ä¼°å¯¹é½è´¨é‡</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="think-box mt-4">
                <h4>ğŸ’­ æ·±åº¦æ€è€ƒé¢˜</h4>
                <ul>
                    <li>ä¸ºä»€ä¹ˆè¯å‘é‡çš„ç»´åº¦é€šå¸¸é€‰æ‹©100-300ï¼Œè€Œä¸æ˜¯æ›´é«˜æˆ–æ›´ä½ï¼Ÿ</li>
                    <li>è¯å‘é‡çœŸçš„ç†è§£äº†è¯­ä¹‰å—ï¼Ÿè¿˜æ˜¯åªæ˜¯ç»Ÿè®¡è§„å¾‹ï¼Ÿ</li>
                    <li>åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œç®€å•çš„TF-IDFå¯èƒ½æ¯”è¯å‘é‡æ•ˆæœæ›´å¥½ï¼Ÿ</li>
                    <li>å¦‚ä½•è¯„ä¼°è¯å‘é‡çš„è´¨é‡ï¼Ÿæœ‰å“ªäº›æ ‡å‡†çš„è¯„æµ‹ä»»åŠ¡ï¼Ÿ</li>
                    <li>å¤§è¯­è¨€æ¨¡å‹æ—¶ä»£ï¼Œé™æ€è¯å‘é‡è¿˜æœ‰ä»·å€¼å—ï¼Ÿ</li>
                </ul>
            </div>

            <div class="tip info mt-4">
                <span class="tip-icon">ğŸ“–</span>
                <strong>æ¨èé˜…è¯»</strong>
                <ul class="mt-2">
                    <li>ğŸ“„ Mikolov et al. (2013) - Efficient Estimation of Word Representations</li>
                    <li>ğŸ“„ Pennington et al. (2014) - GloVe: Global Vectors for Word Representation</li>
                    <li>ğŸ“„ Bojanowski et al. (2017) - Enriching Word Vectors with Subword Information</li>
                    <li>ğŸ“„ Peters et al. (2018) - Deep contextualized word representations (ELMo)</li>
                    <li>ğŸ“„ Devlin et al. (2018) - BERT: Pre-training of Deep Bidirectional Transformers</li>
                </ul>
            </div>
        </section>
    </div>
</main>

<!-- JavaScript -->
<script>
    // è¿›åº¦æ¡
    window.addEventListener('scroll', function() {
        const winScroll = document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrolled = (winScroll / height) * 100;
        document.getElementById('progress-bar').style.width = scrolled + '%';
    });

    // ä¾§è¾¹æ åˆ‡æ¢
    document.getElementById('toggle-sidebar').addEventListener('click', function() {
        document.getElementById('sidebar').classList.toggle('open');
    });

    // ç›®å½•é«˜äº®
    const sections = document.querySelectorAll('section[id]');
    const tocItems = document.querySelectorAll('.toc-item');

    window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (scrollY >= sectionTop - 100) {
                current = section.getAttribute('id');
            }
        });

        tocItems.forEach(item => {
            item.classList.remove('active');
            if (item.getAttribute('href') === `#${current}`) {
                item.classList.add('active');
            }
        });

        // æ›´æ–°å¿«é€Ÿå¯¼èˆª
        const quickNavItems = document.querySelectorAll('.quick-nav-item');
        quickNavItems.forEach(item => {
            item.classList.remove('active');
            if (item.getAttribute('data-section') === current) {
                item.classList.add('active');
            }
        });
    });

    // å¿«é€Ÿå¯¼èˆª
    const quickNavItems = document.querySelectorAll('.quick-nav-item');
    quickNavItems.forEach(item => {
        item.addEventListener('click', function() {
            const section = this.getAttribute('data-section');
            document.getElementById(section).scrollIntoView({ behavior: 'smooth' });
        });
    });

    // 3Dè¯å‘é‡ç©ºé—´å¯è§†åŒ–
    function initVectorSpace() {
        const canvas = document.getElementById('vector-space');
        const ctx = canvas.getContext('2d');

        // è®¾ç½®ç”»å¸ƒå¤§å°
        canvas.width = canvas.offsetWidth;
        canvas.height = canvas.offsetHeight;

        // æ¨¡æ‹Ÿçš„è¯å‘é‡æ•°æ®
        const words = [
            {name: 'å›½ç‹', x: 100, y: 100, color: '#6366f1'},
            {name: 'å¥³ç‹', x: 120, y: 280, color: '#ec4899'},
            {name: 'ç”·äºº', x: 250, y: 100, color: '#3b82f6'},
            {name: 'å¥³äºº', x: 270, y: 280, color: '#f472b6'},
            {name: 'ç‹å­', x: 150, y: 150, color: '#818cf8'},
            {name: 'å…¬ä¸»', x: 170, y: 230, color: '#f9a8d4'}
        ];

        // ç¼©æ”¾åˆ°ç”»å¸ƒå¤§å°
        const scaleX = canvas.width / 400;
        const scaleY = canvas.height / 400;

        // ç»˜åˆ¶èƒŒæ™¯
        ctx.fillStyle = '#1e293b';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // ç»˜åˆ¶ç½‘æ ¼
        ctx.strokeStyle = '#334155';
        ctx.lineWidth = 1;
        for (let i = 0; i < canvas.width; i += 50) {
            ctx.beginPath();
            ctx.moveTo(i, 0);
            ctx.lineTo(i, canvas.height);
            ctx.stroke();
        }
        for (let i = 0; i < canvas.height; i += 50) {
            ctx.beginPath();
            ctx.moveTo(0, i);
            ctx.lineTo(canvas.width, i);
            ctx.stroke();
        }

        // ç»˜åˆ¶å…³ç³»ç®­å¤´
        ctx.strokeStyle = '#475569';
        ctx.lineWidth = 2;
        ctx.setLineDash([5, 5]);

        // å›½ç‹->å¥³ç‹
        drawArrow(ctx, words[0].x * scaleX, words[0].y * scaleY,
            words[1].x * scaleX, words[1].y * scaleY, '#6366f1');

        // ç”·äºº->å¥³äºº
        drawArrow(ctx, words[2].x * scaleX, words[2].y * scaleY,
            words[3].x * scaleX, words[3].y * scaleY, '#3b82f6');

        ctx.setLineDash([]);

        // ç»˜åˆ¶è¯å‘é‡ç‚¹
        words.forEach(word => {
            const x = word.x * scaleX;
            const y = word.y * scaleY;

            // ç»˜åˆ¶å…‰æ™•æ•ˆæœ
            ctx.beginPath();
            ctx.arc(x, y, 20, 0, 2 * Math.PI);
            const gradient = ctx.createRadialGradient(x, y, 0, x, y, 20);
            gradient.addColorStop(0, word.color + '40');
            gradient.addColorStop(1, 'transparent');
            ctx.fillStyle = gradient;
            ctx.fill();

            // ç»˜åˆ¶ç‚¹
            ctx.beginPath();
            ctx.arc(x, y, 8, 0, 2 * Math.PI);
            ctx.fillStyle = word.color;
            ctx.fill();

            // ç»˜åˆ¶æ ‡ç­¾èƒŒæ™¯
            ctx.fillStyle = 'rgba(30, 41, 59, 0.8)';
            ctx.fillRect(x - 25, y - 30, 50, 20);

            // ç»˜åˆ¶æ ‡ç­¾
            ctx.fillStyle = '#f1f5f9';
            ctx.font = '14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(word.name, x, y - 15);
        });

        // ç»˜åˆ¶å‘é‡è¿ç®—ç¤ºä¾‹
        ctx.fillStyle = '#f59e0b';
        ctx.font = 'bold 16px Arial';
        ctx.textAlign = 'center';
        ctx.fillText('å›½ç‹ - ç”·äºº + å¥³äºº â‰ˆ å¥³ç‹', canvas.width / 2, canvas.height - 30);
    }

    // ç»˜åˆ¶ç®­å¤´
    function drawArrow(ctx, fromX, fromY, toX, toY, color) {
        const headlen = 10;
        const angle = Math.atan2(toY - fromY, toX - fromX);

        ctx.beginPath();
        ctx.moveTo(fromX, fromY);
        ctx.lineTo(toX, toY);
        ctx.strokeStyle = color + '80';
        ctx.stroke();

        ctx.beginPath();
        ctx.moveTo(toX, toY);
        ctx.lineTo(toX - headlen * Math.cos(angle - Math.PI / 6), toY - headlen * Math.sin(angle - Math.PI / 6));
        ctx.moveTo(toX, toY);
        ctx.lineTo(toX - headlen * Math.cos(angle + Math.PI / 6), toY - headlen * Math.sin(angle + Math.PI / 6));
        ctx.stroke();
    }

    // åˆå§‹åŒ–å¯è§†åŒ–
    if (document.getElementById('vector-space')) {
        initVectorSpace();

        // å“åº”å¼é‡ç»˜
        window.addEventListener('resize', initVectorSpace);
    }

    // è¯äº‘æ›´æ–°
    function updateWordCloud(category) {
        const container = document.getElementById('word-embedding-viz');
        container.innerHTML = '';

        const wordGroups = {
            animals: [
                {text: 'å°çŒ«', size: 28},
                {text: 'å°ç‹—', size: 26},
                {text: 'å…”å­', size: 22},
                {text: 'è€è™', size: 24},
                {text: 'ç‹®å­', size: 23},
                {text: 'ç†ŠçŒ«', size: 30},
                {text: 'å¤§è±¡', size: 25},
                {text: 'çŒ´å­', size: 20},
                {text: 'æ¾é¼ ', size: 18},
                {text: 'æµ·è±š', size: 21}
            ],
            food: [
                {text: 'è‹¹æœ', size: 25},
                {text: 'é¦™è•‰', size: 23},
                {text: 'é¢åŒ…', size: 22},
                {text: 'ç±³é¥­', size: 28},
                {text: 'ç‰›å¥¶', size: 24},
                {text: 'é¸¡è›‹', size: 20},
                {text: 'è”¬èœ', size: 26},
                {text: 'æ°´æœ', size: 30},
                {text: 'å·§å…‹åŠ›', size: 21},
                {text: 'å’–å•¡', size: 19}
            ],
            tech: [
                {text: 'äººå·¥æ™ºèƒ½', size: 30},
                {text: 'æœºå™¨å­¦ä¹ ', size: 28},
                {text: 'æ·±åº¦å­¦ä¹ ', size: 26},
                {text: 'ç¥ç»ç½‘ç»œ', size: 24},
                {text: 'ç®—æ³•', size: 22},
                {text: 'ç¼–ç¨‹', size: 20},
                {text: 'æ•°æ®', size: 25},
                {text: 'äº‘è®¡ç®—', size: 21},
                {text: 'åŒºå—é“¾', size: 19},
                {text: 'é‡å­è®¡ç®—', size: 18}
            ],
            emotion: [
                {text: 'å¿«ä¹', size: 28},
                {text: 'æ‚²ä¼¤', size: 24},
                {text: 'æ„¤æ€’', size: 22},
                {text: 'ææƒ§', size: 20},
                {text: 'æƒŠå–œ', size: 26},
                {text: 'å¹³é™', size: 23},
                {text: 'å…´å¥‹', size: 25},
                {text: 'å¤±æœ›', size: 21},
                {text: 'æ„ŸåŠ¨', size: 27},
                {text: 'æ¸©æš–', size: 29}
            ]
        };

        const words = wordGroups[category] || wordGroups.animals;

        words.forEach((word, index) => {
            const span = document.createElement('span');
            span.className = 'word-item';
            span.textContent = word.text;

            // è®¡ç®—ä½ç½®ï¼ˆèšç±»æ•ˆæœï¼‰
            const angle = (index / words.length) * 2 * Math.PI;
            const radius = 100 + Math.random() * 80;
            const x = 50 + radius * Math.cos(angle) / 3;
            const y = 50 + radius * Math.sin(angle) / 3;

            span.style.fontSize = word.size + 'px';
            span.style.left = x + '%';
            span.style.top = y + '%';
            span.style.color = `hsl(${index * 36}, 70%, 60%)`;
            span.style.animationDelay = `${index * 0.1}s`;

            container.appendChild(span);
        });
    }

    // åˆå§‹åŒ–è¯äº‘
    updateWordCloud('animals');

    // ç›¸ä¼¼åº¦è®¡ç®—æ¼”ç¤º
    function calculateSimilarity() {
        const word1 = document.getElementById('word1').value.trim();
        const word2 = document.getElementById('word2').value.trim();
        const resultDiv = document.getElementById('similarity-result');

        if (!word1 || !word2) {
            resultDiv.innerHTML = '<p class="text-muted">è¯·è¾“å…¥ä¸¤ä¸ªè¯...</p>';
            return;
        }

        // æ¨¡æ‹Ÿç›¸ä¼¼åº¦è®¡ç®—
        const similarPairs = {
            'å°çŒ«,å°ç‹—': 0.85,
            'å°ç‹—,å°çŒ«': 0.85,
            'æ±½è½¦,è‡ªè¡Œè½¦': 0.72,
            'è‡ªè¡Œè½¦,æ±½è½¦': 0.72,
            'æ±½è½¦,é£æœº': 0.68,
            'é£æœº,æ±½è½¦': 0.68,
            'å¿«ä¹,é«˜å…´': 0.92,
            'é«˜å…´,å¿«ä¹': 0.92,
            'æ‚²ä¼¤,éš¾è¿‡': 0.89,
            'éš¾è¿‡,æ‚²ä¼¤': 0.89,
            'ç¾ä¸½,æ¼‚äº®': 0.94,
            'æ¼‚äº®,ç¾ä¸½': 0.94,
            'èªæ˜,æ™ºæ…§': 0.87,
            'æ™ºæ…§,èªæ˜': 0.87,
            'å¤§,å°': -0.65,
            'å°,å¤§': -0.65,
            'çƒ­,å†·': -0.58,
            'å†·,çƒ­': -0.58,
            'è‹¹æœ,é¦™è•‰': 0.76,
            'é¦™è•‰,è‹¹æœ': 0.76,
            'åŒ—äº¬,ä¸Šæµ·': 0.83,
            'ä¸Šæµ·,åŒ—äº¬': 0.83,
            'è€å¸ˆ,å­¦ç”Ÿ': 0.61,
            'å­¦ç”Ÿ,è€å¸ˆ': 0.61,
            'æ˜¥å¤©,å¤å¤©': 0.78,
            'å¤å¤©,æ˜¥å¤©': 0.78
        };

        const key = `${word1},${word2}`;
        let similarity = similarPairs[key];

        // å¦‚æœæ²¡æœ‰é¢„å®šä¹‰çš„ç›¸ä¼¼åº¦ï¼Œæ ¹æ®ä¸€äº›è§„åˆ™ç”Ÿæˆ
        if (similarity === undefined) {
            // ç›¸åŒçš„è¯
            if (word1 === word2) {
                similarity = 1.0;
            }
            // åŒ…å«å…³ç³»
            else if (word1.includes(word2) || word2.includes(word1)) {
                similarity = 0.7 + Math.random() * 0.2;
            }
            // é»˜è®¤éšæœº
            else {
                similarity = Math.random() * 0.6 - 0.1; // -0.1 åˆ° 0.5
            }
        }

        let html = `
            <h4>è®¡ç®—ç»“æœ</h4>
            <div class="mt-3">
                <p><strong>${word1}</strong> å’Œ <strong>${word2}</strong> çš„ä½™å¼¦ç›¸ä¼¼åº¦ï¼š</p>
                <div style="font-size: 2rem; color: var(--primary-light); text-align: center; margin: 1rem 0;">
                    ${similarity.toFixed(3)}
                </div>

                <!-- ç›¸ä¼¼åº¦å¯è§†åŒ– -->
                <div style="background: var(--bg-dark); padding: 1rem; border-radius: 0.5rem; margin-top: 1rem;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span style="color: var(--text-muted);">ç›¸ä¼¼åº¦ï¼š</span>
                        <div style="flex: 1; background: rgba(255,255,255,0.1); height: 20px; border-radius: 10px; overflow: hidden;">
                            <div style="height: 100%; background: ${similarity > 0.7 ? 'var(--success)' : similarity > 0.4 ? 'var(--warning)' : 'var(--danger)'}; width: ${Math.abs(similarity) * 100}%; transition: width 0.5s ease;"></div>
                        </div>
                        <span style="color: var(--text-primary);">${(Math.abs(similarity) * 100).toFixed(0)}%</span>
                    </div>
                </div>

                <div style="background: var(--bg-dark); padding: 1rem; border-radius: 0.5rem; margin-top: 1rem;">
                    <p style="font-size: 0.875rem; color: var(--text-muted);">
                        <strong>ç›¸ä¼¼åº¦è§£é‡Šï¼š</strong><br>`;

        if (similarity > 0.8) {
            html += 'âœ… éå¸¸ç›¸ä¼¼ - è¿™ä¸¤ä¸ªè¯åœ¨è¯­ä¹‰ä¸Šé«˜åº¦ç›¸å…³ï¼Œç»å¸¸å‡ºç°åœ¨ç›¸ä¼¼çš„ä¸Šä¸‹æ–‡ä¸­ã€‚';
        } else if (similarity > 0.6) {
            html += 'ğŸŸ¡ è¾ƒä¸ºç›¸ä¼¼ - æœ‰ä¸€å®šçš„è¯­ä¹‰å…³è”ï¼Œå±äºç›¸å…³æ¦‚å¿µã€‚';
        } else if (similarity > 0.3) {
            html += 'ğŸŸ  ç•¥æœ‰ç›¸ä¼¼ - å­˜åœ¨æŸäº›å…±åŒç‰¹å¾ï¼Œä½†å…³è”æ€§ä¸å¼ºã€‚';
        } else if (similarity > -0.3) {
            html += 'âšª åŸºæœ¬æ— å…³ - è¿™ä¸¤ä¸ªè¯åœ¨è¯­ä¹‰ä¸Šæ²¡æœ‰æ˜æ˜¾å…³è”ã€‚';
        } else {
            html += 'ğŸ”´ ç›¸åå…³ç³» - è¿™ä¸¤ä¸ªè¯å¯èƒ½æ˜¯åä¹‰è¯æˆ–å¯¹ç«‹æ¦‚å¿µã€‚';
        }

        html += `
                    </p>

                    <div class="mt-3" style="font-size: 0.875rem;">
                        <p style="color: var(--primary-light); margin-bottom: 0.5rem;">ğŸ’¡ å°çŸ¥è¯†ï¼š</p>
                        <p>ä½™å¼¦ç›¸ä¼¼åº¦é€šè¿‡è®¡ç®—ä¸¤ä¸ªå‘é‡å¤¹è§’çš„ä½™å¼¦å€¼æ¥è¡¡é‡ç›¸ä¼¼æ€§ã€‚å€¼è¶Šæ¥è¿‘1è¡¨ç¤ºè¶Šç›¸ä¼¼ï¼Œè¶Šæ¥è¿‘-1è¡¨ç¤ºè¶Šç›¸åï¼Œ0è¡¨ç¤ºæ— å…³ã€‚</p>
                    </div>
                </div>
            </div>
        `;

        resultDiv.innerHTML = html;
    }

    // ä»£ç æŠ˜å 
    function toggleCode(btn) {
        const codeContent = btn.parentElement.parentElement.nextElementSibling;
        if (codeContent.classList.contains('collapsed')) {
            codeContent.classList.remove('collapsed');
            btn.textContent = 'æŠ˜å ';
        } else {
            codeContent.classList.add('collapsed');
            btn.textContent = 'å±•å¼€';
        }
    }

    // å¤åˆ¶ä»£ç 
    function copyCode(btn) {
        const codeContent = btn.parentElement.parentElement.nextElementSibling;
        const code = codeContent.querySelector('pre').textContent;

        navigator.clipboard.writeText(code).then(() => {
            const originalText = btn.textContent;
            btn.textContent = 'å·²å¤åˆ¶ï¼';
            btn.style.background = 'var(--success)';
            setTimeout(() => {
                btn.textContent = originalText;
                btn.style.background = '';
            }, 2000);
        }).catch(() => {
            // é™çº§æ–¹æ¡ˆ
            const textArea = document.createElement('textarea');
            textArea.value = code;
            textArea.style.position = 'fixed';
            textArea.style.opacity = '0';
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            const originalText = btn.textContent;
            btn.textContent = 'å·²å¤åˆ¶ï¼';
            btn.style.background = 'var(--success)';
            setTimeout(() => {
                btn.textContent = originalText;
                btn.style.background = '';
            }, 2000);
        });
    }

    // ä¸»é¢˜åˆ‡æ¢ï¼ˆé¢„ç•™ï¼‰
    document.getElementById('theme-toggle').addEventListener('click', function() {
        // è¿™é‡Œå¯ä»¥æ·»åŠ ä¸»é¢˜åˆ‡æ¢é€»è¾‘
        alert('ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½å¼€å‘ä¸­...');
    });
</script>

</body>
</html>