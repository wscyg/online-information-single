<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬5ç« ï¼šæ³¨æ„åŠ›æœºåˆ¶ä¸Transformer - NLPçš„é©å‘½</title>
    <meta name="description" content="ç†è§£Attention is All You NeedèƒŒåçš„é­”æ³•">

    <!-- KaTeXæ”¯æŒ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
            onload="renderMathInElement(document.body, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '$', right: '$', display: false}
                ]
            });"></script>

    <style>
        /* ===== CSSå˜é‡å®šä¹‰ ===== */
        :root {
            /* æ¸å˜è‰² */
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --hero-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --card-gradient: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.05));
            --attention-gradient: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 100%);

            /* ä¸»é¢˜è‰² */
            --primary: #6366f1;
            --primary-light: #818cf8;
            --primary-dark: #4f46e5;
            --secondary: #ec4899;
            --accent: #10b981;
            --attention-color: #ff6b6b;

            /* åŠŸèƒ½è‰² */
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;

            /* èƒŒæ™¯è‰² */
            --bg-dark: #0f172a;
            --bg-section: #1e293b;
            --bg-card: #334155;
            --bg-code: #0d1117;

            /* æ–‡å­—è‰² */
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;

            /* å…¶ä»– */
            --border-color: rgba(255, 255, 255, 0.1);
            --shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            --shadow-lg: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            --radius: 1rem;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* ===== å…¨å±€æ ·å¼ ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.7;
            font-size: 16px;
            overflow-x: hidden;
        }

        /* ===== èƒŒæ™¯æ•ˆæœ ===== */
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.03;
            background-image:
                    repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255,255,255,.5) 35px, rgba(255,255,255,.5) 70px);
            pointer-events: none;
            z-index: 0;
        }

        .floating-shapes {
            position: fixed;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
        }

        .shape {
            position: absolute;
            opacity: 0.1;
            animation: float 20s infinite ease-in-out;
        }

        .shape:nth-child(1) {
            width: 80px;
            height: 80px;
            background: var(--primary);
            border-radius: 50%;
            left: 10%;
            top: 20%;
            animation-delay: 0s;
        }

        .shape:nth-child(2) {
            width: 120px;
            height: 120px;
            background: var(--secondary);
            border-radius: 38% 62% 63% 37% / 41% 44% 56% 59%;
            left: 70%;
            top: 60%;
            animation-delay: 2s;
        }

        .shape:nth-child(3) {
            width: 100px;
            height: 100px;
            background: var(--accent);
            border-radius: 63% 37% 54% 46% / 55% 48% 52% 45%;
            left: 40%;
            top: 80%;
            animation-delay: 4s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-30px) rotate(120deg); }
            66% { transform: translateY(30px) rotate(240deg); }
        }

        /* ===== å¸ƒå±€ ===== */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
            position: relative;
            z-index: 1;
        }

        /* ===== å¯¼èˆªæ  ===== */
        .nav-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.85);
            backdrop-filter: blur(20px);
            z-index: 1000;
            border-bottom: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .nav-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 0;
        }

        .nav-title {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .nav-title h1 {
            font-size: 1.25rem;
            font-weight: 600;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-menu {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        /* è¿›åº¦æ¡ */
        .progress-container {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: rgba(255, 255, 255, 0.1);
        }

        .progress-bar {
            height: 100%;
            background: var(--primary-gradient);
            width: 0;
            transition: width 0.3s ease;
        }

        /* ===== ä¾§è¾¹æ  ===== */
        .sidebar {
            position: fixed;
            left: -300px;
            top: 60px;
            bottom: 0;
            width: 300px;
            background: var(--bg-section);
            border-right: 1px solid var(--border-color);
            padding: 2rem;
            overflow-y: auto;
            transition: transform 0.3s ease;
            z-index: 999;
            box-shadow: 5px 0 25px rgba(0, 0, 0, 0.5);
        }

        .sidebar.open {
            transform: translateX(300px);
        }

        .toc-title {
            color: var(--primary-light);
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .toc-section {
            margin-bottom: 1.5rem;
        }

        .toc-section-title {
            color: var(--text-muted);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
            padding-left: 0.5rem;
        }

        .toc-item {
            display: block;
            padding: 0.75rem 1rem;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
            margin-bottom: 0.25rem;
            font-size: 0.95rem;
            position: relative;
            overflow: hidden;
        }

        .toc-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--primary);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }

        .toc-item:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            padding-left: 1.5rem;
        }

        .toc-item.active {
            background: var(--card-gradient);
            color: var(--primary-light);
        }

        .toc-item.active::before {
            transform: translateX(0);
        }

        /* ===== æŒ‰é’®æ ·å¼ ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-size: 0.95rem;
            font-weight: 500;
            text-decoration: none;
            transition: var(--transition);
            cursor: pointer;
            border: none;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.5s, height 0.5s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: var(--primary-gradient);
            color: white;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-icon {
            background: transparent;
            padding: 0.5rem;
            color: var(--text-secondary);
        }

        /* ===== ä¸»å†…å®¹ ===== */
        main {
            margin-top: 80px;
            padding-bottom: 4rem;
            position: relative;
            z-index: 1;
        }

        /* ===== ç« èŠ‚å¤´éƒ¨ ===== */
        .chapter-hero {
            background: var(--hero-gradient);
            padding: 6rem 0;
            margin-bottom: 3rem;
            position: relative;
            overflow: hidden;
        }

        .chapter-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 30s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .chapter-hero-content {
            text-align: center;
            color: white;
            position: relative;
            z-index: 1;
        }

        .chapter-hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            font-weight: 800;
            letter-spacing: -0.02em;
            animation: fadeInUp 0.8s ease;
        }

        .chapter-hero p {
            font-size: 1.5rem;
            opacity: 0.95;
            animation: fadeInUp 0.8s ease 0.2s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ===== å†…å®¹å¡ç‰‡ ===== */
        .section-card {
            background: var(--bg-section);
            border-radius: var(--radius);
            padding: 3rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .section-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary-gradient);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s ease;
        }

        .section-card:hover::before {
            transform: scaleX(1);
        }

        .section-card h2 {
            color: var(--primary-light);
            margin-bottom: 2rem;
            font-size: 2.25rem;
            font-weight: 700;
        }

        .section-card h3 {
            color: var(--text-primary);
            margin: 2rem 0 1rem;
            font-size: 1.5rem;
            font-weight: 600;
        }

        /* ===== æ•…äº‹å¡ç‰‡ ===== */
        .story-card {
            background: linear-gradient(135deg, rgba(250, 112, 154, 0.1), rgba(254, 225, 64, 0.1));
            border: 2px solid rgba(250, 112, 154, 0.3);
            border-radius: var(--radius);
            padding: 2.5rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .story-card::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: var(--hero-gradient);
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: var(--radius);
        }

        .story-card:hover::after {
            opacity: 0.3;
        }

        .story-icon {
            font-size: 3rem;
            display: block;
            margin-bottom: 1rem;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* ===== ä»£ç å— ===== */
        .code-block {
            background: var(--bg-code);
            border: 1px solid #30363d;
            border-radius: 0.75rem;
            margin: 1.5rem 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .code-header {
            background: #161b22;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #30363d;
        }

        .code-lang {
            color: var(--primary-light);
            font-size: 0.875rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .code-lang::before {
            content: '';
            width: 12px;
            height: 12px;
            background: var(--primary);
            border-radius: 50%;
            display: inline-block;
        }

        .code-actions {
            display: flex;
            gap: 0.5rem;
        }

        .code-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--text-secondary);
            padding: 0.375rem 0.875rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }

        .code-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: translateY(-1px);
        }

        .code-content {
            padding: 1.5rem;
            overflow-x: auto;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', monospace;
            font-size: 0.875rem;
            line-height: 1.7;
        }

        .code-content pre {
            margin: 0;
            color: #e6edf3;
        }

        .code-content.collapsed {
            max-height: 300px;
            overflow: hidden;
            position: relative;
        }

        .code-content.collapsed::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: linear-gradient(transparent, var(--bg-code));
        }

        /* ä»£ç é«˜äº® */
        .keyword { color: #ff79c6; }
        .string { color: #f1fa8c; }
        .comment { color: #6272a4; }
        .function { color: #50fa7b; }
        .number { color: #bd93f9; }

        /* ===== å¡ç‰‡ç½‘æ ¼ ===== */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .info-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 2rem;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .info-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--primary-gradient);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary);
        }

        .info-card:hover::before {
            opacity: 0.05;
        }

        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
        }

        .card-title {
            color: var(--primary-light);
            margin-bottom: 1rem;
            font-size: 1.25rem;
            font-weight: 600;
        }

        /* ===== äº’åŠ¨æ¼”ç¤º ===== */
        .demo-container {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(78, 205, 196, 0.1));
            border: 2px solid rgba(255, 107, 107, 0.3);
            border-radius: var(--radius);
            padding: 2.5rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .demo-container::before {
            content: 'ğŸ§ª';
            position: absolute;
            top: -20px;
            right: 20px;
            font-size: 4rem;
            opacity: 0.1;
        }

        /* ===== æ³¨æ„åŠ›å¯è§†åŒ– ===== */
        .attention-visualization {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 2rem 0;
            overflow: hidden;
        }

        .attention-matrix {
            display: grid;
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .attention-cell {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
            font-weight: bold;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .attention-cell:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(255, 107, 107, 0.3);
        }

        /* ===== æ€è€ƒæ¡† ===== */
        .think-box {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.1));
            border: 2px solid rgba(251, 191, 36, 0.3);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
        }

        .think-box::before {
            content: 'ğŸ¤”';
            position: absolute;
            top: -15px;
            left: 25px;
            font-size: 2rem;
            background: var(--bg-section);
            padding: 0 0.5rem;
        }

        .think-box h4 {
            color: var(--warning);
            margin-bottom: 1rem;
        }

        .think-box ul {
            list-style: none;
            padding: 0;
        }

        .think-box li {
            margin-bottom: 0.5rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .think-box li::before {
            content: 'ğŸ’­';
            position: absolute;
            left: 0;
        }

        /* ===== æ·±åº¦æ€è€ƒæ¡† ===== */
        .deep-think-box {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(99, 102, 241, 0.1));
            border: 2px solid rgba(139, 92, 246, 0.4);
            border-radius: var(--radius);
            padding: 2.5rem;
            margin: 3rem 0;
            position: relative;
        }

        .deep-think-box::before {
            content: 'ğŸ§©';
            position: absolute;
            top: -18px;
            left: 30px;
            font-size: 2.5rem;
            background: var(--bg-section);
            padding: 0 0.75rem;
        }

        .deep-think-box h4 {
            color: var(--primary-light);
            margin-bottom: 1.25rem;
            font-size: 1.25rem;
        }

        .deep-think-box .think-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 1.25rem;
            border-radius: 0.75rem;
            margin-bottom: 1rem;
            border-left: 3px solid var(--primary);
        }

        .deep-think-box .think-item h5 {
            color: var(--primary-light);
            margin-bottom: 0.5rem;
        }

        /* ===== æ¢ç´¢æ¡† ===== */
        .explore-box {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(59, 130, 246, 0.1));
            border: 2px solid rgba(16, 185, 129, 0.3);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
        }

        .explore-box::before {
            content: 'ğŸ”';
            position: absolute;
            top: -15px;
            left: 25px;
            font-size: 2rem;
            background: var(--bg-section);
            padding: 0 0.5rem;
        }

        .explore-box h4 {
            color: var(--success);
            margin-bottom: 1rem;
        }

        /* ===== æ•°å­¦å…¬å¼è§£é‡Šæ ·å¼ ===== */
        .formula-explanation {
            background: rgba(99, 102, 241, 0.05);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        .formula-explanation h5 {
            color: var(--primary-light);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .formula-table {
            width: 100%;
            margin: 1rem 0;
        }

        .formula-table td {
            padding: 0.75rem;
            vertical-align: middle;
        }

        .formula-table .formula-part {
            font-family: 'KaTeX_Math', serif;
            font-size: 1.2rem;
            color: var(--primary);
            white-space: nowrap;
            width: 30%;
        }

        .formula-table .formula-meaning {
            color: var(--text-primary);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .code-from-math {
            background: var(--bg-code);
            border: 1px solid #30363d;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
        }

        .code-from-math h6 {
            color: var(--success);
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        /* ===== æç¤ºæ¡† ===== */
        .tip {
            padding: 1.5rem 2rem;
            border-radius: var(--radius);
            margin: 2rem 0;
            border-left: 4px solid;
            position: relative;
            overflow: hidden;
        }

        .tip::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.05;
            background: currentColor;
        }

        .tip-icon {
            font-size: 1.5rem;
            margin-right: 1rem;
            vertical-align: middle;
        }

        .tip.info {
            background: rgba(59, 130, 246, 0.1);
            border-color: var(--info);
            color: var(--text-primary);
        }

        .tip.warning {
            background: rgba(245, 158, 11, 0.1);
            border-color: var(--warning);
            color: var(--text-primary);
        }

        .tip.success {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--success);
            color: var(--text-primary);
        }

        .tip.danger {
            background: rgba(239, 68, 68, 0.1);
            border-color: var(--danger);
            color: var(--text-primary);
        }

        /* ===== å¿«é€Ÿå¯¼èˆª ===== */
        .quick-nav {
            position: fixed;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .quick-nav-item {
            width: 12px;
            height: 12px;
            background: var(--text-muted);
            border-radius: 50%;
            transition: all 0.3s;
            position: relative;
            cursor: pointer;
        }

        .quick-nav-item:hover,
        .quick-nav-item.active {
            background: var(--primary);
            transform: scale(1.5);
        }

        .quick-nav-tooltip {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--bg-dark);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            border: 1px solid var(--border-color);
            font-size: 0.875rem;
        }

        .quick-nav-item:hover .quick-nav-tooltip {
            opacity: 1;
        }

        /* ===== æ¯”è¾ƒè¡¨æ ¼ ===== */
        .comparison-table {
            background: var(--bg-card);
            border-radius: var(--radius);
            overflow: hidden;
            margin: 2rem 0;
            box-shadow: var(--shadow);
        }

        .comparison-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .comparison-table th {
            background: var(--primary-gradient);
            color: white;
            padding: 1.25rem;
            text-align: left;
            font-weight: 600;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .comparison-table td {
            padding: 1.25rem;
            border-bottom: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .comparison-table tr:hover td {
            background: rgba(99, 102, 241, 0.05);
        }

        .comparison-table tr:last-child td {
            border-bottom: none;
        }

        /* ===== ç®—æ³•æ­¥éª¤ ===== */
        .algorithm-steps {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.05));
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: var(--radius);
            padding: 2.5rem;
            margin: 2rem 0;
        }

        .step-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 2rem;
            position: relative;
        }

        .step-item:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 24px;
            top: 50px;
            bottom: -30px;
            width: 2px;
            background: linear-gradient(to bottom, var(--primary), transparent);
        }

        .step-number {
            width: 48px;
            height: 48px;
            background: var(--primary-gradient);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.25rem;
            margin-right: 1.5rem;
            flex-shrink: 0;
            position: relative;
            z-index: 1;
        }

        .step-content h5 {
            color: var(--primary-light);
            margin-bottom: 0.5rem;
            font-size: 1.25rem;
        }

        /* ===== æ•°å­¦å…¬å¼ ===== */
        .math-display {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(99, 102, 241, 0.05));
            border: 2px solid rgba(139, 92, 246, 0.2);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
            font-size: 1.2rem;
            overflow-x: auto;
        }

        .math-formula {
            font-family: 'KaTeX_Math', 'Times New Roman', serif;
            font-style: italic;
            color: var(--primary-light);
            font-size: 1.3rem;
            margin: 1rem 0;
        }

        /* KaTeXæ ·å¼è°ƒæ•´ */
        .katex-display {
            margin: 1.5rem 0 !important;
        }

        .katex {
            font-size: 1.1em;
            color: var(--primary-light);
        }

        /* ===== Transformerç‰¹æœ‰æ ·å¼ ===== */
        .transformer-architecture {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 3rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .architecture-component {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--primary);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 1rem 0;
            transition: all 0.3s ease;
        }

        .architecture-component:hover {
            background: rgba(99, 102, 241, 0.1);
            transform: translateX(10px);
        }

        .attention-weights {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(50px, 1fr));
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .weight-cell {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.25rem;
            font-weight: bold;
            font-size: 0.875rem;
            transition: all 0.3s ease;
        }

        /* ===== å“åº”å¼è®¾è®¡ ===== */
        @media (max-width: 768px) {
            .chapter-hero h1 {
                font-size: 2.5rem;
            }

            .section-card {
                padding: 2rem;
            }

            .quick-nav {
                display: none;
            }

            .card-grid {
                grid-template-columns: 1fr;
            }

            .attention-matrix {
                font-size: 0.75rem;
            }
        }

        /* ===== å·¥å…·ç±» ===== */
        .text-center { text-align: center; }
        .text-muted { color: var(--text-muted); }
        .mt-1 { margin-top: 0.5rem; }
        .mt-2 { margin-top: 1rem; }
        .mt-3 { margin-top: 1.5rem; }
        .mt-4 { margin-top: 2rem; }
        .mb-1 { margin-bottom: 0.5rem; }
        .mb-2 { margin-bottom: 1rem; }
        .mb-3 { margin-bottom: 1.5rem; }
        .mb-4 { margin-bottom: 2rem; }
    </style>
</head>
<body>

<!-- èƒŒæ™¯æ•ˆæœ -->
<div class="bg-pattern"></div>
<div class="floating-shapes">
    <div class="shape"></div>
    <div class="shape"></div>
    <div class="shape"></div>
</div>

<!-- å¯¼èˆªæ  -->
<nav class="nav-header">
    <div class="container">
        <div class="nav-content">
            <div class="nav-title">
                <button id="toggle-sidebar" class="btn btn-icon">
                    <svg width="20" height="20" fill="currentColor">
                        <path d="M3 5h14M3 10h14M3 15h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
                <h1>ç¬¬5ç« ï¼šæ³¨æ„åŠ›æœºåˆ¶ä¸Transformer</h1>
            </div>
            <div class="nav-menu">
                <button class="btn btn-icon" id="theme-toggle">ğŸŒ™</button>
                <a href="#summary" class="btn btn-secondary">ç« èŠ‚æ€»ç»“</a>
            </div>
        </div>
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
    </div>
</nav>

<!-- ä¾§è¾¹æ  -->
<aside class="sidebar" id="sidebar">
    <h3 class="toc-title">
        <span>ğŸ“š</span>
        <span>æœ¬ç« å¯¼èˆª</span>
    </h3>

    <div class="toc-section">
        <div class="toc-section-title">å¼€ç¯‡</div>
        <a href="#intro" class="toc-item active">åºè¨€ï¼šæ³¨æ„åŠ›çš„é©å‘½</a>
        <a href="#rnn-limits" class="toc-item">RNNçš„å±€é™æ€§</a>
    </div>

    <div class="toc-section">
        <div class="toc-section-title">æ³¨æ„åŠ›æœºåˆ¶</div>
        <a href="#attention-basics" class="toc-item">ä»€ä¹ˆæ˜¯æ³¨æ„åŠ›ï¼Ÿ</a>
        <a href="#attention-math" class="toc-item">æ³¨æ„åŠ›çš„æ•°å­¦åŸç†</a>
        <a href="#self-attention" class="toc-item">è‡ªæ³¨æ„åŠ›æœºåˆ¶</a>
    </div>

    <div class="toc-section">
        <div class="toc-section-title">Transformer</div>
        <a href="#transformer-intro" class="toc-item">Transformerè¯ç”Ÿ</a>
        <a href="#transformer-architecture" class="toc-item">æ¶æ„è¯¦è§£</a>
        <a href="#multi-head" class="toc-item">å¤šå¤´æ³¨æ„åŠ›</a>
        <a href="#positional-encoding" class="toc-item">ä½ç½®ç¼–ç </a>
    </div>

    <div class="toc-section">
        <div class="toc-section-title">å®è·µä¸åº”ç”¨</div>
        <a href="#training" class="toc-item">è®­ç»ƒæŠ€å·§</a>
        <a href="#applications" class="toc-item">å®é™…åº”ç”¨</a>
        <a href="#bert-gpt" class="toc-item">BERTä¸GPT</a>
    </div>

    <div class="toc-section">
        <div class="toc-section-title">æ€»ç»“å±•æœ›</div>
        <a href="#summary" class="toc-item">æœ¬ç« æ€»ç»“</a>
        <a href="#future" class="toc-item">æœªæ¥å±•æœ›</a>
    </div>
</aside>

<!-- å¿«é€Ÿå¯¼èˆª -->
<div class="quick-nav" id="quick-nav">
    <div class="quick-nav-item active" data-section="intro">
        <span class="quick-nav-tooltip">å¼€ç¯‡æ•…äº‹</span>
    </div>
    <div class="quick-nav-item" data-section="attention-basics">
        <span class="quick-nav-tooltip">æ³¨æ„åŠ›æœºåˆ¶</span>
    </div>
    <div class="quick-nav-item" data-section="transformer-intro">
        <span class="quick-nav-tooltip">Transformer</span>
    </div>
    <div class="quick-nav-item" data-section="applications">
        <span class="quick-nav-tooltip">åº”ç”¨æ¡ˆä¾‹</span>
    </div>
    <div class="quick-nav-item" data-section="summary">
        <span class="quick-nav-tooltip">ç« èŠ‚æ€»ç»“</span>
    </div>
</div>

<!-- ä¸»å†…å®¹ -->
<main>
    <!-- ç« èŠ‚æ ‡é¢˜ -->
    <section class="chapter-hero">
        <div class="container">
            <div class="chapter-hero-content">
                <h1>æ³¨æ„åŠ›æœºåˆ¶ä¸Transformer</h1>
                <p>Attention is All You Need</p>
            </div>
        </div>
    </section>

    <div class="container">
        <!-- åºè¨€ -->
        <section id="intro" class="section-card">
            <h2>ğŸŒŸ åºè¨€ï¼šæ³¨æ„åŠ›çš„é©å‘½</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ‘ï¸</span>
                <p><strong>ä¸€ä¸ªæ”¹å˜ä¸–ç•Œçš„å‘ç°</strong></p>
                <p class="mt-2">
                    2017å¹´ï¼ŒGoogleçš„ä¸€ç¯‡è®ºæ–‡ã€ŠAttention is All You Needã€‹éœ‡æ’¼äº†æ•´ä¸ªAIç•Œã€‚
                    å®ƒæŠ›å¼ƒäº†ä¼ ç»Ÿçš„RNNå’ŒCNNï¼Œä»…ç”¨"æ³¨æ„åŠ›"æœºåˆ¶å°±è¾¾åˆ°äº†å‰æ‰€æœªæœ‰çš„æ•ˆæœã€‚
                </p>
                <p class="mt-3" style="font-size: 1.25rem; color: var(--warning); text-align: center;">
                    ğŸ’¡ è¿™ä¸ä»…æ˜¯ä¸€ä¸ªæŠ€æœ¯çªç ´ï¼Œæ›´æ˜¯ä¸€ç§æ€æƒ³é©å‘½ï¼
                </p>
            </div>

            <div class="deep-think-box">
                <h4>ä¸ºä»€ä¹ˆ"æ³¨æ„åŠ›"å¦‚æ­¤é‡è¦ï¼Ÿ</h4>
                <div class="think-item">
                    <h5>ğŸ‘€ äººç±»çš„æ³¨æ„åŠ›æœºåˆ¶</h5>
                    <p>æƒ³è±¡ä½ åœ¨çœ‹è¿™å¹…åœºæ™¯ï¼š</p>
                    <p style="font-style: italic; margin: 1rem 0; padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 0.5rem;">
                        "ä¸€åª<strong style="color: var(--danger);">çº¢è‰²</strong>çš„å°é¸Ÿåœåœ¨<strong style="color: var(--success);">ç»¿è‰²</strong>çš„æ ‘æä¸Šï¼Œ
                        æ—è¾¹æ˜¯è“å¤©ç™½äº‘ï¼Œè¿œå¤„æœ‰å±±å³¦èµ·ä¼..."
                    </p>
                    <p>ä½ çš„å¤§è„‘ä¼šè‡ªåŠ¨ï¼š</p>
                    <ul>
                        <li>èšç„¦äº"çº¢è‰²å°é¸Ÿ"ï¼ˆä¸»ä½“ï¼‰</li>
                        <li>æ³¨æ„"ç»¿è‰²æ ‘æ"ï¼ˆç›¸å…³èƒŒæ™¯ï¼‰</li>
                        <li>å¿½ç•¥"å±±å³¦èµ·ä¼"ï¼ˆä¸ç›¸å…³ç»†èŠ‚ï¼‰</li>
                    </ul>
                    <p class="mt-2"><strong>è¿™å°±æ˜¯æ³¨æ„åŠ›ï¼šæœ‰é€‰æ‹©åœ°å…³æ³¨é‡è¦ä¿¡æ¯ï¼</strong></p>
                </div>
                <div class="think-item">
                    <h5>ğŸ§  æœºå™¨ä¹Ÿéœ€è¦"æ³¨æ„åŠ›"</h5>
                    <p>åœ¨å¤„ç†"æˆ‘çˆ±ä¸­å›½åŒ—äº¬å¤©å®‰é—¨"æ—¶ï¼š</p>
                    <ul>
                        <li>ç†è§£"çˆ±"éœ€è¦çŸ¥é“ä¸»è¯­æ˜¯"æˆ‘"</li>
                        <li>ç†è§£"å¤©å®‰é—¨"éœ€è¦çŸ¥é“å®ƒåœ¨"åŒ—äº¬"</li>
                        <li>ä½†"æˆ‘"å’Œ"å¤©å®‰é—¨"çš„å…³ç³»è¾ƒå¼±</li>
                    </ul>
                    <p class="mt-2"><strong>å…³é”®ï¼šè®©æ¨¡å‹å­¦ä¼š"çœ‹å“ªé‡Œ"ï¼</strong></p>
                </div>
            </div>

            <div class="demo-container">
                <h3 class="text-center mb-3" style="color: var(--primary-light);">ğŸ¯ ä½“éªŒæ³¨æ„åŠ›çš„é­”åŠ›</h3>

                <p><strong>å¥å­ï¼š</strong>"æœºå™¨å­¦ä¹ æ”¹å˜äº†ä¸–ç•Œ"</p>

                <div class="attention-visualization">
                    <p class="text-center mb-3">å½“ç†è§£"æ”¹å˜"è¿™ä¸ªè¯æ—¶ï¼Œæ¨¡å‹çš„æ³¨æ„åŠ›åˆ†å¸ƒï¼š</p>
                    <div style="display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap;">
                        <div style="text-align: center;">
                            <div class="attention-cell" style="background: rgba(255, 107, 107, 0.3);">æœºå™¨</div>
                            <p style="color: var(--text-muted); font-size: 0.875rem; margin-top: 0.5rem;">20%</p>
                        </div>
                        <div style="text-align: center;">
                            <div class="attention-cell" style="background: rgba(255, 107, 107, 0.8); color: white;">å­¦ä¹ </div>
                            <p style="color: var(--text-muted); font-size: 0.875rem; margin-top: 0.5rem;">45%</p>
                        </div>
                        <div style="text-align: center;">
                            <div class="attention-cell" style="background: rgba(255, 107, 107, 1); color: white; transform: scale(1.1);">æ”¹å˜</div>
                            <p style="color: var(--text-muted); font-size: 0.875rem; margin-top: 0.5rem;">è‡ªå·±</p>
                        </div>
                        <div style="text-align: center;">
                            <div class="attention-cell" style="background: rgba(255, 107, 107, 0.1);">äº†</div>
                            <p style="color: var(--text-muted); font-size: 0.875rem; margin-top: 0.5rem;">5%</p>
                        </div>
                        <div style="text-align: center;">
                            <div class="attention-cell" style="background: rgba(255, 107, 107, 0.5);">ä¸–ç•Œ</div>
                            <p style="color: var(--text-muted); font-size: 0.875rem; margin-top: 0.5rem;">30%</p>
                        </div>
                    </div>
                    <p class="text-center mt-3 text-muted">é¢œè‰²è¶Šæ·±ï¼Œæ³¨æ„åŠ›æƒé‡è¶Šå¤§</p>
                </div>

                <div class="tip info mt-3">
                    <span class="tip-icon">ğŸ’¡</span>
                    <strong>æ ¸å¿ƒæ´å¯Ÿ</strong>
                    <p class="mt-2">
                        æ³¨æ„åŠ›æœºåˆ¶è®©æ¨¡å‹èƒ½å¤ŸåŠ¨æ€åœ°å†³å®šå…³æ³¨è¾“å…¥çš„å“ªäº›éƒ¨åˆ†ï¼Œ
                        è€Œä¸æ˜¯åƒRNNé‚£æ ·æœºæ¢°åœ°æŒ‰é¡ºåºå¤„ç†ã€‚è¿™å¸¦æ¥äº†å·¨å¤§çš„çµæ´»æ€§ï¼
                    </p>
                </div>
            </div>

            <div class="think-box">
                <h4>ğŸ¤” å¼€å§‹æ€è€ƒ</h4>
                <ul>
                    <li>ä¸ºä»€ä¹ˆRNNæŒ‰é¡ºåºå¤„ç†ä¼šæœ‰é—®é¢˜ï¼Ÿ</li>
                    <li>å¦‚ä½•æ•°å­¦åŒ–åœ°è¡¨ç¤º"æ³¨æ„åŠ›"ï¼Ÿ</li>
                    <li>ä¸ºä»€ä¹ˆè¯´"Attention is All You Need"ï¼Ÿ</li>
                </ul>
            </div>

            <div class="explore-box">
                <h4>å°å®éªŒï¼šäººç±»çš„æ³¨æ„åŠ›</h4>
                <p><strong>ä»»åŠ¡ï¼š</strong>å¿«é€Ÿé˜…è¯»ä¸‹é¢çš„å¥å­ï¼Œç„¶åå›ç­”é—®é¢˜</p>
                <p style="padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 0.5rem; margin: 1rem 0;">
                    "æ˜¨å¤©æ™šä¸Šï¼Œå°æ˜åœ¨å›¾ä¹¦é¦†è®¤çœŸå¤ä¹ æ•°å­¦ï¼Œä»–çš„åŒå­¦å°çº¢åœ¨æ—è¾¹çœ‹è‹±è¯­ä¹¦ï¼Œ
                    çªç„¶åœç”µäº†ï¼Œå¤§å®¶éƒ½å¾ˆæƒŠè®¶ï¼Œä½†æ˜¯5åˆ†é’Ÿåå°±æ¢å¤äº†ä¾›ç”µã€‚"
                </p>
                <p><strong>é—®é¢˜ï¼š</strong>è°åœ¨å¤ä¹ æ•°å­¦ï¼Ÿ</p>
                <p class="mt-3"><strong>è§‚å¯Ÿï¼š</strong>ä½ æ˜¯å¦‚ä½•æ‰¾åˆ°ç­”æ¡ˆçš„ï¼Ÿæ˜¯å¦è‡ªåŠ¨å¿½ç•¥äº†"åœç”µ"ç­‰æ— å…³ä¿¡æ¯ï¼Ÿ</p>
            </div>
        </section>

        <!-- RNNçš„å±€é™æ€§ -->
        <section id="rnn-limits" class="section-card">
            <h2>ğŸš§ RNNçš„å±€é™æ€§</h2>

            <div class="story-card">
                <span class="story-icon">ğŸŒ</span>
                <p><strong>é¡ºåºå¤„ç†çš„è¯…å’’</strong></p>
                <p class="mt-2">
                    RNNå°±åƒä¸€ä¸ªåªèƒ½å•çº¿ç¨‹å·¥ä½œçš„å¤„ç†å™¨ï¼Œå¿…é¡»ä¸€ä¸ªå­—ä¸€ä¸ªå­—åœ°è¯»å®Œæ•´ä¸ªå¥å­ã€‚
                    åœ¨å¹¶è¡Œè®¡ç®—çš„æ—¶ä»£ï¼Œè¿™æˆäº†è‡´å‘½çš„å¼±ç‚¹ã€‚
                </p>
            </div>

            <div class="deep-think-box">
                <h4>æ·±å…¥ç†è§£RNNçš„é—®é¢˜</h4>
                <div class="think-item">
                    <h5>â° æ—¶é—´å¤æ‚åº¦</h5>
                    <p>å¤„ç†ä¸€ä¸ªé•¿åº¦ä¸ºnçš„åºåˆ—ï¼š</p>
                    <ul>
                        <li><strong>RNNï¼š</strong>å¿…é¡»è®¡ç®—næ¬¡ï¼Œæ— æ³•å¹¶è¡Œ</li>
                        <li><strong>ç†æƒ³æƒ…å†µï¼š</strong>å¦‚æœèƒ½å¹¶è¡Œï¼Œåªéœ€è¦O(1)æ—¶é—´</li>
                        <li><strong>é—®é¢˜ï¼š</strong>è®­ç»ƒä¸€ä¸ªé•¿æ–‡æœ¬éœ€è¦ç­‰å¾…å¾ˆä¹…</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>ğŸ“ é•¿è·ç¦»ä¾èµ–</h5>
                    <p>å³ä½¿æœ‰LSTM/GRUï¼Œä»ç„¶å­˜åœ¨é—®é¢˜ï¼š</p>
                    <ul>
                        <li>ä¿¡æ¯ä»éœ€è¦é€æ­¥ä¼ é€’</li>
                        <li>æ¢¯åº¦ä»ä¼šè¡°å‡ï¼ˆè™½ç„¶ç¼“è§£äº†ï¼‰</li>
                        <li>éš¾ä»¥æ•æ‰è¶…é•¿è·ç¦»ï¼ˆ>100è¯ï¼‰çš„ä¾èµ–</li>
                    </ul>
                </div>
            </div>

            <div class="comparison-table">
                <table>
                    <thead>
                    <tr>
                        <th>é—®é¢˜</th>
                        <th>RNNè¡¨ç°</th>
                        <th>æœŸæœ›çš„è§£å†³æ–¹æ¡ˆ</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>å¹¶è¡ŒåŒ–</td>
                        <td>âŒ å¿…é¡»é¡ºåºè®¡ç®—</td>
                        <td>âœ… æ‰€æœ‰ä½ç½®åŒæ—¶è®¡ç®—</td>
                    </tr>
                    <tr>
                        <td>é•¿è·ç¦»ä¾èµ–</td>
                        <td>ğŸ˜ é€šè¿‡å¤šæ­¥ä¼ é€’</td>
                        <td>âœ… ç›´æ¥è¿æ¥ä»»æ„ä½ç½®</td>
                    </tr>
                    <tr>
                        <td>è®¡ç®—æ•ˆç‡</td>
                        <td>ğŸŒ O(n)é¡ºåºæ—¶é—´</td>
                        <td>ğŸš€ O(1)å¹¶è¡Œæ—¶é—´</td>
                    </tr>
                    <tr>
                        <td>ä¿¡æ¯ç“¶é¢ˆ</td>
                        <td>ğŸ˜° å›ºå®šå¤§å°çš„éšè—çŠ¶æ€</td>
                        <td>âœ… åŠ¨æ€çš„ä¿¡æ¯æµ</td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="demo-container mt-4">
                <h3 class="mb-3">å¯è§†åŒ–ï¼šRNN vs ç†æƒ³æ¨¡å‹</h3>

                <div class="card-grid">
                    <div class="info-card">
                        <h4 class="text-center mb-3">RNNçš„ä¿¡æ¯æµ</h4>
                        <svg width="250" height="150" viewBox="0 0 250 150">
                            <!-- RNNé¡ºåºå¤„ç† -->
                            <circle cx="30" cy="75" r="20" fill="#8b5cf6" opacity="0.3"/>
                            <circle cx="80" cy="75" r="20" fill="#8b5cf6" opacity="0.5"/>
                            <circle cx="130" cy="75" r="20" fill="#8b5cf6" opacity="0.7"/>
                            <circle cx="180" cy="75" r="20" fill="#8b5cf6" opacity="0.9"/>
                            <circle cx="230" cy="75" r="20" fill="#8b5cf6"/>

                            <!-- ç®­å¤´ -->
                            <path d="M 50 75 L 60 75" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>
                            <path d="M 100 75 L 110 75" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>
                            <path d="M 150 75 L 160 75" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>
                            <path d="M 200 75 L 210 75" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>

                            <text x="125" y="130" text-anchor="middle" fill="#94a3b8" font-size="12">å¿…é¡»ç­‰å¾…å‰ä¸€æ­¥å®Œæˆ</text>

                            <defs>
                                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="#64748b"/>
                                </marker>
                            </defs>
                        </svg>
                    </div>

                    <div class="info-card">
                        <h4 class="text-center mb-3">ç†æƒ³çš„ä¿¡æ¯æµ</h4>
                        <svg width="250" height="150" viewBox="0 0 250 150">
                            <!-- å…¨è¿æ¥ -->
                            <circle cx="50" cy="30" r="15" fill="#ff6b6b"/>
                            <circle cx="125" cy="30" r="15" fill="#ff6b6b"/>
                            <circle cx="200" cy="30" r="15" fill="#ff6b6b"/>

                            <circle cx="50" cy="120" r="15" fill="#4ecdc4"/>
                            <circle cx="125" cy="120" r="15" fill="#4ecdc4"/>
                            <circle cx="200" cy="120" r="15" fill="#4ecdc4"/>

                            <!-- è¿æ¥çº¿ -->
                            <line x1="50" y1="45" x2="50" y2="105" stroke="#94a3b8" stroke-width="1" opacity="0.5"/>
                            <line x1="50" y1="45" x2="125" y2="105" stroke="#94a3b8" stroke-width="1" opacity="0.5"/>
                            <line x1="50" y1="45" x2="200" y2="105" stroke="#94a3b8" stroke-width="1" opacity="0.5"/>

                            <line x1="125" y1="45" x2="50" y2="105" stroke="#94a3b8" stroke-width="1" opacity="0.5"/>
                            <line x1="125" y1="45" x2="125" y2="105" stroke="#94a3b8" stroke-width="1" opacity="0.5"/>
                            <line x1="125" y1="45" x2="200" y2="105" stroke="#94a3b8" stroke-width="1" opacity="0.5"/>

                            <line x1="200" y1="45" x2="50" y2="105" stroke="#94a3b8" stroke-width="1" opacity="0.5"/>
                            <line x1="200" y1="45" x2="125" y2="105" stroke="#94a3b8" stroke-width="1" opacity="0.5"/>
                            <line x1="200" y1="45" x2="200" y2="105" stroke="#94a3b8" stroke-width="1" opacity="0.5"/>

                            <text x="125" y="145" text-anchor="middle" fill="#94a3b8" font-size="12">æ‰€æœ‰ä½ç½®ç›´æ¥äº¤äº’</text>
                        </svg>
                    </div>
                </div>
            </div>

            <div class="explore-box mt-4">
                <h4>æ€è€ƒå®éªŒï¼šè®¾è®¡ä½ çš„è§£å†³æ–¹æ¡ˆ</h4>
                <p><strong>é—®é¢˜ï¼š</strong>å¦‚ä½•è®©æ¨¡å‹åŒæ—¶"çœ‹åˆ°"æ•´ä¸ªå¥å­çš„æ‰€æœ‰è¯ï¼Ÿ</p>
                <p><strong>æç¤ºï¼š</strong></p>
                <ul>
                    <li>æƒ³æƒ³äººç±»æ˜¯å¦‚ä½•ä¸€çœ¼çœ‹åˆ°æ•´ä¸ªå¥å­çš„</li>
                    <li>å¦‚ä½•è¡¡é‡è¯ä¸è¯ä¹‹é—´çš„ç›¸å…³æ€§ï¼Ÿ</li>
                    <li>èƒ½å¦ç”¨æŸç§"ç›¸ä¼¼åº¦"æ¥å†³å®šå…³æ³¨ç¨‹åº¦ï¼Ÿ</li>
                </ul>
                <p class="mt-3"><strong>è¿™å°±æ˜¯æ³¨æ„åŠ›æœºåˆ¶çš„æ ¸å¿ƒæ€æƒ³ï¼</strong></p>
            </div>

            <div class="tip warning mt-4">
                <span class="tip-icon">âš ï¸</span>
                <strong>å…³é”®è®¤è¯†</strong>
                <p class="mt-2">
                    RNNçš„é¡ºåºå¤„ç†ä¸ä»…æ…¢ï¼Œè¿˜é™åˆ¶äº†æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›ã€‚
                    æˆ‘ä»¬éœ€è¦ä¸€ç§æ–°çš„æœºåˆ¶ï¼Œèƒ½å¤Ÿè®©ä»»æ„ä¸¤ä¸ªä½ç½®ç›´æ¥äº¤äº’ã€‚
                </p>
            </div>
        </section>

        <!-- ä»€ä¹ˆæ˜¯æ³¨æ„åŠ› -->
        <section id="attention-basics" class="section-card">
            <h2>ğŸ‘ï¸ ä»€ä¹ˆæ˜¯æ³¨æ„åŠ›æœºåˆ¶ï¼Ÿ</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ”</span>
                <p><strong>ä»æŸ¥å­—å…¸è¯´èµ·</strong></p>
                <p class="mt-2">
                    æƒ³è±¡ä½ åœ¨æŸ¥å­—å…¸æ‰¾"apple"çš„ä¸­æ–‡æ„æ€ã€‚ä½ ä¼šï¼š
                </p>
                <ol class="mt-2">
                    <li>ç”¨"apple"ä½œä¸º<strong>æŸ¥è¯¢(Query)</strong></li>
                    <li>åœ¨å­—å…¸çš„æ‰€æœ‰<strong>é”®(Key)</strong>ä¸­å¯»æ‰¾</li>
                    <li>æ‰¾åˆ°åŒ¹é…åï¼Œè·å–å¯¹åº”çš„<strong>å€¼(Value)</strong>ï¼š"è‹¹æœ"</li>
                </ol>
                <p class="mt-3" style="text-align: center; font-size: 1.1rem; color: var(--primary-light);">
                    <strong>æ³¨æ„åŠ›æœºåˆ¶å°±æ˜¯ä¸€ä¸ª"è½¯"å­—å…¸æŸ¥è¯¢ï¼</strong>
                </p>
            </div>

            <div class="deep-think-box">
                <h4>æ³¨æ„åŠ›çš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ</h4>
                <div class="think-item">
                    <h5>ğŸ”‘ Query, Key, Value</h5>
                    <p><strong>ç¡¬æŸ¥è¯¢ï¼ˆå­—å…¸ï¼‰ï¼š</strong></p>
                    <ul>
                        <li>Query = "apple"</li>
                        <li>Key = ["apple", "banana", "cat", ...]</li>
                        <li>Value = ["è‹¹æœ", "é¦™è•‰", "çŒ«", ...]</li>
                        <li>ç»“æœï¼šç²¾ç¡®åŒ¹é…ï¼Œåªè¿”å›"è‹¹æœ"</li>
                    </ul>
                    <p class="mt-2"><strong>è½¯æŸ¥è¯¢ï¼ˆæ³¨æ„åŠ›ï¼‰ï¼š</strong></p>
                    <ul>
                        <li>Query = "fruit"ï¼ˆæ°´æœï¼‰</li>
                        <li>Key = ["apple", "banana", "cat", ...]</li>
                        <li>Value = ["è‹¹æœ", "é¦™è•‰", "çŒ«", ...]</li>
                        <li>ç»“æœï¼š70%"è‹¹æœ" + 25%"é¦™è•‰" + 5%å…¶ä»–</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>ğŸ“Š ç›¸ä¼¼åº¦è®¡ç®—</h5>
                    <p>å¦‚ä½•è¡¡é‡Queryå’ŒKeyçš„ç›¸ä¼¼åº¦ï¼Ÿ</p>
                    <ul>
                        <li><strong>ç‚¹ç§¯ï¼š</strong>æœ€ç®€å•ï¼Œè®¡ç®—å¿«é€Ÿ</li>
                        <li><strong>ç¼©æ”¾ç‚¹ç§¯ï¼š</strong>é¿å…æ¢¯åº¦é—®é¢˜</li>
                        <li><strong>åŠ æ€§æ³¨æ„åŠ›ï¼š</strong>æ›´å¤æ‚ä½†æ›´çµæ´»</li>
                    </ul>
                    <p class="mt-2">Transformeré€‰æ‹©äº†ç¼©æ”¾ç‚¹ç§¯ï¼Œå› ä¸ºæ•ˆæœå¥½ä¸”é«˜æ•ˆï¼</p>
                </div>
            </div>

            <div class="attention-visualization">
                <h3 class="text-center mb-3" style="color: var(--primary-light);">æ³¨æ„åŠ›æœºåˆ¶å·¥ä½œæµç¨‹</h3>

                <div class="algorithm-steps">
                    <div class="step-item">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h5>å‡†å¤‡Qã€Kã€V</h5>
                            <p>å°†è¾“å…¥è½¬æ¢ä¸ºæŸ¥è¯¢(Q)ã€é”®(K)ã€å€¼(V)å‘é‡</p>
                            <div class="code-block mt-2">
                                <div class="code-header">
                                    <span class="code-lang">è½¬æ¢ç¤ºä¾‹</span>
                                </div>
                                <div class="code-content">
                                    <pre>è¾“å…¥: "æˆ‘çˆ±ä½ "
Q = [æˆ‘çš„æŸ¥è¯¢å‘é‡, çˆ±çš„æŸ¥è¯¢å‘é‡, ä½ çš„æŸ¥è¯¢å‘é‡]
K = [æˆ‘çš„é”®å‘é‡, çˆ±çš„é”®å‘é‡, ä½ çš„é”®å‘é‡]
V = [æˆ‘çš„å€¼å‘é‡, çˆ±çš„å€¼å‘é‡, ä½ çš„å€¼å‘é‡]</pre>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="step-item">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h5>è®¡ç®—æ³¨æ„åŠ›åˆ†æ•°</h5>
                            <p>ç”¨Qå’ŒKè®¡ç®—ç›¸ä¼¼åº¦ï¼ˆæ³¨æ„åŠ›åˆ†æ•°ï¼‰</p>
                            <div class="demo-container mt-2">
                                <p>ä¾‹å¦‚ï¼Œ"çˆ±"å¯¹å…¶ä»–è¯çš„æ³¨æ„åŠ›ï¼š</p>
                                <div class="attention-weights">
                                    <div class="weight-cell" style="background: rgba(255, 107, 107, 0.8); color: white;">
                                        æˆ‘: 0.4
                                    </div>
                                    <div class="weight-cell" style="background: rgba(255, 107, 107, 1); color: white;">
                                        çˆ±: 0.2
                                    </div>
                                    <div class="weight-cell" style="background: rgba(255, 107, 107, 0.6);">
                                        ä½ : 0.4
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="step-item">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h5>åŠ æƒæ±‚å’Œ</h5>
                            <p>ç”¨æ³¨æ„åŠ›åˆ†æ•°å¯¹Vè¿›è¡ŒåŠ æƒæ±‚å’Œ</p>
                            <p class="mt-2" style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 0.5rem;">
                                è¾“å‡º = 0.4Ã—V[æˆ‘] + 0.2Ã—V[çˆ±] + 0.4Ã—V[ä½ ]
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="demo-container mt-4">
                <h3 class="mb-3">ğŸ® äº’åŠ¨æ¼”ç¤ºï¼šæ³¨æ„åŠ›å¯è§†åŒ–</h3>

                <p><strong>å¥å­ï¼š</strong>"The cat sat on the mat"ï¼ˆçŒ«ååœ¨å«å­ä¸Šï¼‰</p>

                <div class="attention-matrix" style="display: grid; grid-template-columns: 60px repeat(6, 1fr); gap: 0.5rem;">
                    <!-- è¡¨å¤´ -->
                    <div></div>
                    <div class="text-center text-muted">The</div>
                    <div class="text-center text-muted">cat</div>
                    <div class="text-center text-muted">sat</div>
                    <div class="text-center text-muted">on</div>
                    <div class="text-center text-muted">the</div>
                    <div class="text-center text-muted">mat</div>

                    <!-- Theè¡Œ -->
                    <div class="text-muted">The</div>
                    <div class="attention-cell" style="background: rgba(255, 107, 107, 0.3);">0.1</div>
                    <div class="attention-cell" style="background: rgba(255, 107, 107, 0.8); color: white;">0.7</div>
                    <div class="attention-cell" style="background: rgba(255, 107, 107, 0.1);">0.05</div>
                    <div class="attention-cell" style="background: rgba(255, 107, 107, 0.1);">0.05</div>
                    <div class="attention-cell" style="background: rgba(255, 107, 107, 0.1);">0.05</div>
                    <div class="attention-cell" style="background: rgba(255, 107, 107, 0.1);">0.05</div>

                    <!-- catè¡Œ -->
                    <div class="text-muted">cat</div>
                    <div class="attention-cell" style="background: rgba(255, 107, 107, 0.1);">0.1</div>
                    <div class="attention-cell" style="background: rgba(255, 107, 107, 0.5);">0.3</div>
                    <div class="attention-cell" style="background: rgba(255, 107, 107, 0.8); color: white;">0.5</div>
                    <div class="attention-cell" style="background: rgba(255, 107, 107, 0.1);">0.05</div>
                    <div class="attention-cell" style="background: rgba(255, 107, 107, 0.1);">0.03</div>
                    <div class="attention-cell" style="background: rgba(255, 107, 107, 0.1);">0.02</div>

                    <!-- æ›´å¤šè¡Œ... -->
                </div>

                <div class="tip info mt-3">
                    <span class="tip-icon">ğŸ’¡</span>
                    <strong>è§‚å¯Ÿ</strong>
                    <p class="mt-2">
                        "The"ä¸»è¦å…³æ³¨"cat"ï¼ˆå† è¯å…³æ³¨åè¯ï¼‰
                        "cat"ä¸»è¦å…³æ³¨"sat"ï¼ˆä¸»è¯­å…³æ³¨åŠ¨è¯ï¼‰
                        æ¨¡å‹å­¦ä¼šäº†è¯­æ³•å…³ç³»ï¼
                    </p>
                </div>
            </div>

            <div class="explore-box mt-4">
                <h4>åŠ¨æ‰‹è®¡ç®—ï¼šç®€åŒ–çš„æ³¨æ„åŠ›</h4>
                <p><strong>ç»™å®šï¼š</strong></p>
                <ul>
                    <li>Q = [1, 0]ï¼ˆæŸ¥è¯¢å‘é‡ï¼‰</li>
                    <li>Kâ‚ = [1, 0], Kâ‚‚ = [0, 1], Kâ‚ƒ = [0.7, 0.7]ï¼ˆé”®å‘é‡ï¼‰</li>
                    <li>Vâ‚ = [A], Vâ‚‚ = [B], Vâ‚ƒ = [C]ï¼ˆå€¼ï¼‰</li>
                </ul>
                <p class="mt-2"><strong>è®¡ç®—ï¼š</strong></p>
                <ol>
                    <li>ç›¸ä¼¼åº¦ï¼šQÂ·Kâ‚ = ?, QÂ·Kâ‚‚ = ?, QÂ·Kâ‚ƒ = ?</li>
                    <li>æ³¨æ„åŠ›æƒé‡ï¼ˆsoftmaxå½’ä¸€åŒ–ï¼‰</li>
                    <li>æœ€ç»ˆè¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ</li>
                </ol>
                <p class="mt-3"><strong>ç­”æ¡ˆæç¤ºï¼š</strong>Qæœ€åƒKâ‚ï¼Œæ‰€ä»¥è¾“å‡ºä¸»è¦æ˜¯Vâ‚(A)</p>
            </div>

            <div class="think-box mt-4">
                <h4>ğŸ¤” æ·±å…¥æ€è€ƒ</h4>
                <ul>
                    <li>ä¸ºä»€ä¹ˆè¦åˆ†æˆQã€Kã€Vä¸‰ä¸ªå‘é‡ï¼Ÿç›´æ¥ç”¨åŸå§‹å‘é‡ä¸è¡Œå—ï¼Ÿ</li>
                    <li>æ³¨æ„åŠ›æƒé‡åŠ èµ·æ¥ä¸ºä»€ä¹ˆè¦ç­‰äº1ï¼Ÿ</li>
                    <li>è¿™ç§æœºåˆ¶å¦‚ä½•å®ç°"é€‰æ‹©æ€§æ³¨æ„"ï¼Ÿ</li>
                </ul>
            </div>
        </section>

        <!-- æ³¨æ„åŠ›çš„æ•°å­¦åŸç† -->
        <section id="attention-math" class="section-card">
            <h2>ğŸ“ æ³¨æ„åŠ›çš„æ•°å­¦åŸç†</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ§®</span>
                <p><strong>ä»ç›´è§‰åˆ°å…¬å¼</strong></p>
                <p class="mt-2">
                    è®©æˆ‘ä»¬æŠŠ"è½¯å­—å…¸æŸ¥è¯¢"çš„ç›´è§‰è½¬åŒ–ä¸ºç²¾ç¡®çš„æ•°å­¦å…¬å¼ã€‚
                    åˆ«æ‹…å¿ƒï¼Œæˆ‘ä»¬ä¼šä¸€æ­¥æ­¥è§£é‡Šæ¯ä¸ªç¬¦å·çš„å«ä¹‰ï¼
                </p>
            </div>

            <div class="math-display">
                <h4 class="mb-3" style="color: var(--primary-light);">ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›ï¼ˆScaled Dot-Product Attentionï¼‰</h4>

                <p class="math-formula">
                    $\text{Attention}(Q, K, V) = \text{softmax}\left(\frac{QK^T}{\sqrt{d_k}}\right)V$
                </p>

                <div class="formula-explanation">
                    <h5>ğŸ“– å…¬å¼è§£è¯»</h5>

                    <table class="formula-table">
                        <tr>
                            <td class="formula-part">$Q$</td>
                            <td class="formula-meaning">æŸ¥è¯¢çŸ©é˜µï¼ˆnÃ—d_kï¼‰ï¼Œnä¸ªæŸ¥è¯¢ï¼Œæ¯ä¸ªd_kç»´</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$K$</td>
                            <td class="formula-meaning">é”®çŸ©é˜µï¼ˆmÃ—d_kï¼‰ï¼Œmä¸ªé”®ï¼Œæ¯ä¸ªd_kç»´</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$V$</td>
                            <td class="formula-meaning">å€¼çŸ©é˜µï¼ˆmÃ—d_vï¼‰ï¼Œmä¸ªå€¼ï¼Œæ¯ä¸ªd_vç»´</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$QK^T$</td>
                            <td class="formula-meaning">ç‚¹ç§¯ï¼Œè®¡ç®—æ‰€æœ‰Q-Kå¯¹çš„ç›¸ä¼¼åº¦ï¼ˆnÃ—mçŸ©é˜µï¼‰</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$\sqrt{d_k}$</td>
                            <td class="formula-meaning">ç¼©æ”¾å› å­ï¼Œé˜²æ­¢ç‚¹ç§¯è¿‡å¤§å¯¼è‡´æ¢¯åº¦æ¶ˆå¤±</td>
                        </tr>
                        <tr>
                            <td class="formula-part">softmax</td>
                            <td class="formula-meaning">å½’ä¸€åŒ–ä¸ºæ¦‚ç‡åˆ†å¸ƒï¼ˆæ¯è¡Œå’Œä¸º1ï¼‰</td>
                        </tr>
                    </table>

                    <div class="deep-think-box mt-3">
                        <h4>ä¸ºä»€ä¹ˆéœ€è¦ç¼©æ”¾ï¼Ÿ</h4>
                        <div class="think-item">
                            <h5>ğŸ”¢ æ•°å€¼ç¨³å®šæ€§</h5>
                            <p>å½“d_kå¾ˆå¤§æ—¶ï¼ˆå¦‚512ï¼‰ï¼š</p>
                            <ul>
                                <li>ç‚¹ç§¯çš„æœŸæœ›å€¼æ­£æ¯”äºd_k</li>
                                <li>ç‚¹ç§¯å¯èƒ½å˜å¾—å¾ˆå¤§ï¼ˆå¦‚100+ï¼‰</li>
                                <li>softmax(100) â‰ˆ 1ï¼Œsoftmax(-100) â‰ˆ 0</li>
                                <li>å¯¼è‡´æ¢¯åº¦æ¶ˆå¤±ï¼Œè®­ç»ƒå›°éš¾</li>
                            </ul>
                            <p class="mt-2"><strong>è§£å†³ï¼š</strong>é™¤ä»¥âˆšd_kï¼Œè®©ç‚¹ç§¯çš„æ–¹å·®ä¿æŒä¸º1</p>
                        </div>
                    </div>

                    <div class="code-from-math">
                        <h6>ğŸ’» ä»£ç å®ç°ï¼š</h6>
                        <pre style="color: #e6edf3; margin: 0;">
<span class="keyword">import</span> numpy <span class="keyword">as</span> np

<span class="keyword">def</span> <span class="function">scaled_dot_product_attention</span>(Q, K, V, mask=None):
    <span class="string">"""
    ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›
    Q: [batch_size, n_heads, seq_len, d_k]
    K: [batch_size, n_heads, seq_len, d_k]
    V: [batch_size, n_heads, seq_len, d_v]
    """</span>
    d_k = Q.shape[-1]

    <span class="comment"># 1. è®¡ç®—æ³¨æ„åŠ›åˆ†æ•°</span>
    scores = np.matmul(Q, K.transpose(-2, -1)) / np.sqrt(d_k)

    <span class="comment"># 2. åº”ç”¨maskï¼ˆå¯é€‰ï¼Œç”¨äºå±è”½paddingç­‰ï¼‰</span>
    <span class="keyword">if</span> mask <span class="keyword">is not</span> None:
        scores = scores.masked_fill(mask == 0, -1e9)

    <span class="comment"># 3. Softmaxå½’ä¸€åŒ–</span>
    attention_weights = softmax(scores, axis=-1)

    <span class="comment"># 4. åŠ æƒæ±‚å’Œ</span>
    output = np.matmul(attention_weights, V)

    <span class="keyword">return</span> output, attention_weights

<span class="keyword">def</span> <span class="function">softmax</span>(x, axis=-1):
    <span class="string">"""æ•°å€¼ç¨³å®šçš„softmax"""</span>
    x_exp = np.exp(x - np.max(x, axis=axis, keepdims=True))
    <span class="keyword">return</span> x_exp / np.sum(x_exp, axis=axis, keepdims=True)</pre>
                    </div>
                </div>
            </div>

            <div class="demo-container mt-4">
                <h3 class="mb-3">æ­¥éª¤åˆ†è§£ï¼šè®¡ç®—æ³¨æ„åŠ›</h3>

                <div class="algorithm-steps">
                    <div class="step-item">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h5>è®¡ç®—ç›¸ä¼¼åº¦çŸ©é˜µ</h5>
                            <p>$S = QK^T$ å¾—åˆ°nÃ—mçš„åˆ†æ•°çŸ©é˜µ</p>
                            <div style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 0.5rem; margin-top: 1rem;">
                                <pre>Q = [[1, 0],    K = [[1, 0],     S = QK^T = [[1, 0],
     [0, 1]]         [0, 1]]              [0, 1]]</pre>
                            </div>
                        </div>
                    </div>

                    <div class="step-item">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h5>ç¼©æ”¾</h5>
                            <p>$S' = S / \sqrt{d_k}$ é˜²æ­¢æ•°å€¼è¿‡å¤§</p>
                            <div style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 0.5rem; margin-top: 1rem;">
                                <pre>d_k = 2, âˆšd_k = 1.414
S' = [[0.707, 0],
      [0, 0.707]]</pre>
                            </div>
                        </div>
                    </div>

                    <div class="step-item">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h5>Softmaxå½’ä¸€åŒ–</h5>
                            <p>$A = \text{softmax}(S')$ è½¬æ¢ä¸ºæ¦‚ç‡</p>
                            <div style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 0.5rem; margin-top: 1rem;">
                                <pre>A = [[0.67, 0.33],   # ç¬¬ä¸€ä¸ªæŸ¥è¯¢ï¼š67%å…³æ³¨ç¬¬ä¸€ä¸ªé”®
     [0.33, 0.67]]   # ç¬¬äºŒä¸ªæŸ¥è¯¢ï¼š67%å…³æ³¨ç¬¬äºŒä¸ªé”®</pre>
                            </div>
                        </div>
                    </div>

                    <div class="step-item">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h5>åŠ æƒæ±‚å’Œ</h5>
                            <p>$\text{Output} = AV$ å¾—åˆ°æœ€ç»ˆè¾“å‡º</p>
                            <div style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 0.5rem; margin-top: 1rem;">
                                <pre>V = [["è‹¹æœ"],    Output = [[0.67Ã—"è‹¹æœ" + 0.33Ã—"é¦™è•‰"],
     ["é¦™è•‰"]]              [0.33Ã—"è‹¹æœ" + 0.67Ã—"é¦™è•‰"]]</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="explore-box mt-4">
                <h4>å®éªŒï¼šæ¸©åº¦å‚æ•°çš„å½±å“</h4>
                <p>ä¿®æ”¹å…¬å¼ä¸ºï¼š$\text{softmax}(QK^T / (\sqrt{d_k} \cdot T))$</p>
                <p><strong>Tæ˜¯æ¸©åº¦å‚æ•°ï¼š</strong></p>
                <ul>
                    <li>T = 0.1ï¼šæ³¨æ„åŠ›éå¸¸é›†ä¸­ï¼ˆç¡¬æ³¨æ„åŠ›ï¼‰</li>
                    <li>T = 1.0ï¼šæ­£å¸¸çš„æ³¨æ„åŠ›åˆ†å¸ƒ</li>
                    <li>T = 10ï¼šæ³¨æ„åŠ›éå¸¸åˆ†æ•£ï¼ˆæ¥è¿‘å‡åŒ€åˆ†å¸ƒï¼‰</li>
                </ul>
                <p class="mt-3"><strong>æ€è€ƒï¼š</strong>ä»€ä¹ˆåœºæ™¯éœ€è¦é›†ä¸­çš„æ³¨æ„åŠ›ï¼Ÿä»€ä¹ˆåœºæ™¯éœ€è¦åˆ†æ•£çš„æ³¨æ„åŠ›ï¼Ÿ</p>
            </div>

            <div class="think-box mt-4">
                <h4>ğŸ¤” æ·±åº¦ç†è§£</h4>
                <ul>
                    <li>ä¸ºä»€ä¹ˆsoftmaxæ˜¯æŒ‰è¡Œè®¡ç®—çš„ï¼Ÿï¼ˆæç¤ºï¼šæ¯ä¸ªæŸ¥è¯¢çš„æ³¨æ„åŠ›ç‹¬ç«‹ï¼‰</li>
                    <li>å¦‚æœKå’ŒVä¸æ˜¯åŒä¸€ä¸ªçŸ©é˜µä¼šæ€æ ·ï¼Ÿï¼ˆæç¤ºï¼šæ›´çµæ´»çš„æ˜ å°„ï¼‰</li>
                    <li>æ³¨æ„åŠ›çŸ©é˜µçš„ç§©è¯´æ˜äº†ä»€ä¹ˆï¼Ÿï¼ˆæç¤ºï¼šä¿¡æ¯ç“¶é¢ˆï¼‰</li>
                </ul>
            </div>
        </section>

        <!-- è‡ªæ³¨æ„åŠ›æœºåˆ¶ -->
        <section id="self-attention" class="section-card">
            <h2>ğŸ”„ è‡ªæ³¨æ„åŠ›æœºåˆ¶</h2>

            <div class="story-card">
                <span class="story-icon">ğŸª</span>
                <p><strong>è‡ªå·±å…³æ³¨è‡ªå·±</strong></p>
                <p class="mt-2">
                    å¦‚æœè¯´æ³¨æ„åŠ›æœºåˆ¶æ˜¯åœ¨ä¸¤ä¸ªåºåˆ—ä¹‹é—´å»ºç«‹è”ç³»ï¼ˆå¦‚ç¿»è¯‘ï¼‰ï¼Œ
                    é‚£ä¹ˆè‡ªæ³¨æ„åŠ›å°±æ˜¯åºåˆ—å†…éƒ¨çš„è‡ªæˆ‘å®¡è§†â€”â€”æ¯ä¸ªè¯éƒ½è¦çœ‹çœ‹å¥å­ä¸­çš„å…¶ä»–è¯ã€‚
                </p>
            </div>

            <div class="deep-think-box">
                <h4>ä¸ºä»€ä¹ˆéœ€è¦è‡ªæ³¨æ„åŠ›ï¼Ÿ</h4>
                <div class="think-item">
                    <h5>ğŸ”— å»ºç«‹å…¨å±€ä¾èµ–</h5>
                    <p>è€ƒè™‘è¿™ä¸ªå¥å­ï¼š</p>
                    <p style="padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 0.5rem;">
                        "The <span style="color: var(--primary);">animal</span> didn't cross the street because
                        <span style="color: var(--danger);">it</span> was too tired."
                    </p>
                    <p>"it"æŒ‡ä»£ä»€ä¹ˆï¼Ÿ</p>
                    <ul>
                        <li>éœ€è¦ç†è§£"it"å’Œ"animal"çš„å…³ç³»</li>
                        <li>RNNï¼šéœ€è¦è®°ä½"animal"ç›´åˆ°é‡åˆ°"it"</li>
                        <li>è‡ªæ³¨æ„åŠ›ï¼šç›´æ¥å»ºç«‹"it"â†’"animal"çš„è¿æ¥</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>ğŸ¯ å¹¶è¡Œè®¡ç®—</h5>
                    <p>è‡ªæ³¨æ„åŠ›çš„é©å‘½æ€§ä¼˜åŠ¿ï¼š</p>
                    <ul>
                        <li>æ‰€æœ‰ä½ç½®åŒæ—¶è®¡ç®—æ³¨æ„åŠ›</li>
                        <li>ä¸éœ€è¦ç­‰å¾…å‰ä¸€ä¸ªä½ç½®</li>
                        <li>GPUå¯ä»¥å……åˆ†å¹¶è¡ŒåŒ–</li>
                    </ul>
                </div>
            </div>

            <div class="attention-visualization">
                <h3 class="text-center mb-3" style="color: var(--primary-light);">è‡ªæ³¨æ„åŠ› vs æ™®é€šæ³¨æ„åŠ›</h3>

                <div class="card-grid">
                    <div class="info-card">
                        <h4 class="card-title">æ™®é€šæ³¨æ„åŠ›ï¼ˆå¦‚ç¿»è¯‘ï¼‰</h4>
                        <div style="text-align: center; margin: 1rem 0;">
                            <p>è‹±æ–‡ï¼šThe cat â†’ ä¸­æ–‡ï¼šçŒ«</p>
                            <svg width="200" height="100" viewBox="0 0 200 100">
                                <text x="30" y="30" fill="#ff6b6b">The cat</text>
                                <text x="140" y="30" fill="#4ecdc4">çŒ«</text>
                                <path d="M 80 35 L 120 35" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead2)"/>
                                <defs>
                                    <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                        <polygon points="0 0, 10 3.5, 0 7" fill="#94a3b8"/>
                                    </marker>
                                </defs>
                            </svg>
                        </div>
                        <p>Queryæ¥è‡ªç›®æ ‡ï¼ŒKey/Valueæ¥è‡ªæº</p>
                    </div>

                    <div class="info-card">
                        <h4 class="card-title">è‡ªæ³¨æ„åŠ›</h4>
                        <div style="text-align: center; margin: 1rem 0;">
                            <p>The cat sat</p>
                            <svg width="200" height="100" viewBox="0 0 200 100">
                                <text x="30" y="30" fill="#ff6b6b">The</text>
                                <text x="90" y="30" fill="#ff6b6b">cat</text>
                                <text x="150" y="30" fill="#ff6b6b">sat</text>
                                <!-- ç›¸äº’è¿æ¥ -->
                                <path d="M 40 35 Q 65 50 80 35" stroke="#94a3b8" stroke-width="1" opacity="0.5"/>
                                <path d="M 100 35 Q 125 50 140 35" stroke="#94a3b8" stroke-width="1" opacity="0.5"/>
                                <path d="M 80 25 Q 65 10 50 25" stroke="#94a3b8" stroke-width="1" opacity="0.5"/>
                            </svg>
                        </div>
                        <p>Qã€Kã€Véƒ½æ¥è‡ªåŒä¸€åºåˆ—</p>
                    </div>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">Python - è‡ªæ³¨æ„åŠ›å®ç°</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="toggleCode(this)">å±•å¼€</button>
                        <button class="code-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                    </div>
                </div>
                <div class="code-content collapsed">
                    <pre><span class="keyword">import</span> torch
<span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn
<span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F

<span class="keyword">class</span> <span class="function">SelfAttention</span>(nn.Module):
    <span class="keyword">def</span> <span class="function">__init__</span>(self, embed_size, heads):
        <span class="string">"""
        è‡ªæ³¨æ„åŠ›å±‚
        embed_size: è¯åµŒå…¥ç»´åº¦
        heads: æ³¨æ„åŠ›å¤´æ•°
        """</span>
        super(SelfAttention, self).__init__()
        self.embed_size = embed_size
        self.heads = heads
        self.head_dim = embed_size // heads

        assert embed_size % heads == 0, <span class="string">"åµŒå…¥ç»´åº¦å¿…é¡»èƒ½è¢«å¤´æ•°æ•´é™¤"</span>

        <span class="comment"># å®šä¹‰çº¿æ€§å˜æ¢å±‚</span>
        self.values = nn.Linear(embed_size, embed_size, bias=False)
        self.keys = nn.Linear(embed_size, embed_size, bias=False)
        self.queries = nn.Linear(embed_size, embed_size, bias=False)
        self.fc_out = nn.Linear(embed_size, embed_size)

    <span class="keyword">def</span> <span class="function">forward</span>(self, values, keys, query, mask=None):
        <span class="string">"""
        å‰å‘ä¼ æ’­
        values, keys, query: [batch_size, seq_len, embed_size]
        mask: [batch_size, seq_len, seq_len]
        """</span>
        batch_size = query.shape[0]
        value_len, key_len, query_len = values.shape[1], keys.shape[1], query.shape[1]

        <span class="comment"># 1. çº¿æ€§å˜æ¢å¾—åˆ°Qã€Kã€V</span>
        values = self.values(values)
        keys = self.keys(keys)
        queries = self.queries(query)

        <span class="comment"># 2. é‡å¡‘ä¸ºå¤šå¤´å½¢å¼</span>
        values = values.reshape(batch_size, value_len, self.heads, self.head_dim)
        keys = keys.reshape(batch_size, key_len, self.heads, self.head_dim)
        queries = queries.reshape(batch_size, query_len, self.heads, self.head_dim)

        <span class="comment"># 3. è®¡ç®—ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›</span>
        energy = torch.einsum(<span class="string">"bqhd,bkhd->bhqk"</span>, queries, keys)
        <span class="comment"># queries: [batch, query_len, heads, head_dim]</span>
        <span class="comment"># keys: [batch, key_len, heads, head_dim]</span>
        <span class="comment"># energy: [batch, heads, query_len, key_len]</span>

        <span class="comment"># 4. åº”ç”¨maskï¼ˆå¯é€‰ï¼‰</span>
        <span class="keyword">if</span> mask <span class="keyword">is not</span> None:
            energy = energy.masked_fill(mask == 0, float(<span class="string">"-1e20"</span>))

        <span class="comment"># 5. Softmaxå½’ä¸€åŒ–</span>
        attention = F.softmax(energy / (self.head_dim ** 0.5), dim=-1)

        <span class="comment"># 6. åŠ æƒæ±‚å’Œ</span>
        out = torch.einsum(<span class="string">"bhqk,bvhd->bqhd"</span>, attention, values)
        <span class="comment"># attention: [batch, heads, query_len, key_len]</span>
        <span class="comment"># values: [batch, value_len, heads, head_dim]</span>
        <span class="comment"># out: [batch, query_len, heads, head_dim]</span>

        <span class="comment"># 7. åˆå¹¶å¤šå¤´</span>
        out = out.reshape(batch_size, query_len, self.embed_size)

        <span class="comment"># 8. æœ€ç»ˆçº¿æ€§å±‚</span>
        out = self.fc_out(out)

        <span class="keyword">return</span> out

<span class="comment"># ä½¿ç”¨ç¤ºä¾‹</span>
<span class="keyword">def</span> <span class="function">demo_self_attention</span>():
    <span class="string">"""æ¼”ç¤ºè‡ªæ³¨æ„åŠ›çš„ä½¿ç”¨"""</span>
    batch_size = 2
    seq_len = 5
    embed_size = 512
    heads = 8

    <span class="comment"># åˆ›å»ºè‡ªæ³¨æ„åŠ›å±‚</span>
    self_attention = SelfAttention(embed_size, heads)

    <span class="comment"># æ¨¡æ‹Ÿè¾“å…¥ï¼ˆå¦‚è¯åµŒå…¥ï¼‰</span>
    x = torch.randn(batch_size, seq_len, embed_size)

    <span class="comment"># è‡ªæ³¨æ„åŠ›ï¼šQ=K=V=x</span>
    output = self_attention(x, x, x)

    print(<span class="string">f"è¾“å…¥å½¢çŠ¶: {x.shape}"</span>)
    print(<span class="string">f"è¾“å‡ºå½¢çŠ¶: {output.shape}"</span>)
    print(<span class="string">"æ³¨æ„ï¼šè¾“å‡ºå½¢çŠ¶ä¸è¾“å…¥ç›¸åŒï¼"</span>)</pre>
                </div>
            </div>

            <div class="deep-think-box mt-4">
                <h4>è‡ªæ³¨æ„åŠ›çš„æ·±å±‚å«ä¹‰</h4>
                <div class="think-item">
                    <h5>ğŸŒ å…¨è¿æ¥çš„ä¿¡æ¯æµ</h5>
                    <p>æ¯ä¸ªä½ç½®éƒ½èƒ½ç›´æ¥è®¿é—®æ‰€æœ‰å…¶ä»–ä½ç½®ï¼š</p>
                    <ul>
                        <li>ä¸å†æœ‰RNNçš„ä¿¡æ¯ç“¶é¢ˆ</li>
                        <li>é•¿è·ç¦»ä¾èµ–å˜å¾—å®¹æ˜“</li>
                        <li>ä½†ä¹Ÿå¤±å»äº†ä½ç½®ä¿¡æ¯ï¼ˆéœ€è¦é¢å¤–å¤„ç†ï¼‰</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>ğŸ’¡ å­¦ä¹ å†…éƒ¨è¡¨ç¤º</h5>
                    <p>è‡ªæ³¨æ„åŠ›è®©æ¨¡å‹å­¦ä¼šï¼š</p>
                    <ul>
                        <li>è¯ä¸è¯çš„è¯­æ³•å…³ç³»</li>
                        <li>è¯­ä¹‰ç›¸ä¼¼æ€§</li>
                        <li>ä¸Šä¸‹æ–‡ç›¸å…³æ€§</li>
                    </ul>
                    <p class="mt-2">è¿™äº›éƒ½æ˜¯è‡ªåŠ¨å­¦ä¹ çš„ï¼Œä¸éœ€è¦äººå·¥æ ‡æ³¨ï¼</p>
                </div>
            </div>

            <div class="explore-box mt-4">
                <h4>å¯è§†åŒ–å®éªŒï¼šæ³¨æ„åŠ›æ¨¡å¼</h4>
                <p>å¸¸è§çš„è‡ªæ³¨æ„åŠ›æ¨¡å¼ï¼š</p>
                <ol>
                    <li><strong>å±€éƒ¨æ¨¡å¼ï¼š</strong>ç›¸é‚»è¯ä¹‹é—´çš„å¼ºè¿æ¥ï¼ˆå¦‚å½¢å®¹è¯â†’åè¯ï¼‰</li>
                    <li><strong>å…¨å±€æ¨¡å¼ï¼š</strong>æŸäº›è¯ï¼ˆå¦‚ä¸»è¯­ï¼‰è¢«å¹¿æ³›å…³æ³¨</li>
                    <li><strong>è¯­æ³•æ¨¡å¼ï¼š</strong>åŠ¨è¯å…³æ³¨ä¸»è¯­ï¼Œä»‹è¯å…³æ³¨åè¯ç­‰</li>
                    <li><strong>ç‰¹æ®Šæ¨¡å¼ï¼š</strong>[CLS]æ ‡è®°èšåˆå…¨å¥ä¿¡æ¯</li>
                </ol>
                <p class="mt-3"><strong>æ€è€ƒï¼š</strong>è¿™äº›æ¨¡å¼æ˜¯å¦‚ä½•è‡ªåŠ¨å½¢æˆçš„ï¼Ÿ</p>
            </div>

            <div class="tip success mt-4">
                <span class="tip-icon">âœ¨</span>
                <strong>é©å‘½æ€§åˆ›æ–°</strong>
                <p class="mt-2">
                    è‡ªæ³¨æ„åŠ›æœºåˆ¶è®©æ¯ä¸ªè¯éƒ½èƒ½"çœ‹åˆ°"æ•´ä¸ªå¥å­ï¼Œæ‰“ç ´äº†RNNçš„é¡ºåºé™åˆ¶ã€‚
                    è¿™ä¸ä»…æé«˜äº†å¹¶è¡Œåº¦ï¼Œæ›´é‡è¦çš„æ˜¯å¢å¼ºäº†æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›ï¼
                </p>
            </div>
        </section>

        <!-- Transformerè¯ç”Ÿ -->
        <section id="transformer-intro" class="section-card">
            <h2>ğŸš€ Transformerçš„è¯ç”Ÿ</h2>

            <div class="story-card">
                <span class="story-icon">âš¡</span>
                <p><strong>"Attention is All You Need"</strong></p>
                <p class="mt-2">
                    2017å¹´ï¼ŒGoogleå›¢é˜Ÿæå‡ºäº†ä¸€ä¸ªå¤§èƒ†çš„æƒ³æ³•ï¼š
                    æ—¢ç„¶æ³¨æ„åŠ›æœºåˆ¶è¿™ä¹ˆå¼ºå¤§ï¼Œä¸ºä»€ä¹ˆä¸å®Œå…¨æŠ›å¼ƒRNNå’ŒCNNï¼Œåªç”¨æ³¨æ„åŠ›ï¼Ÿ
                </p>
                <p class="mt-3" style="text-align: center; font-size: 1.2rem; color: var(--primary-light);">
                    ç»“æœï¼šTransformeræ¨ªç©ºå‡ºä¸–ï¼Œå¼€å¯äº†NLPçš„æ–°çºªå…ƒï¼
                </p>
            </div>

            <div class="deep-think-box">
                <h4>Transformerçš„æ ¸å¿ƒåˆ›æ–°</h4>
                <div class="think-item">
                    <h5>ğŸ—ï¸ çº¯æ³¨æ„åŠ›æ¶æ„</h5>
                    <ul>
                        <li>æ²¡æœ‰RNNï¼Œæ²¡æœ‰CNN</li>
                        <li>åªæœ‰æ³¨æ„åŠ›å’Œå‰é¦ˆç½‘ç»œ</li>
                        <li>æè‡´çš„å¹¶è¡ŒåŒ–</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>ğŸ”§ å…³é”®ç»„ä»¶</h5>
                    <ul>
                        <li><strong>å¤šå¤´æ³¨æ„åŠ›ï¼š</strong>ä»å¤šä¸ªè§’åº¦ç†è§£ä¿¡æ¯</li>
                        <li><strong>ä½ç½®ç¼–ç ï¼š</strong>å¼¥è¡¥æ²¡æœ‰é¡ºåºä¿¡æ¯çš„ç¼ºé™·</li>
                        <li><strong>æ®‹å·®è¿æ¥ï¼š</strong>è®©æ·±å±‚ç½‘ç»œæ˜“äºè®­ç»ƒ</li>
                        <li><strong>å±‚å½’ä¸€åŒ–ï¼š</strong>ç¨³å®šè®­ç»ƒè¿‡ç¨‹</li>
                    </ul>
                </div>
            </div>

            <div class="transformer-architecture">
                <h3 class="text-center mb-3" style="color: var(--primary-light);">Transformeræ•´ä½“æ¶æ„</h3>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                    <div>
                        <h4 class="text-center mb-3">ç¼–ç å™¨ï¼ˆEncoderï¼‰</h4>
                        <div class="architecture-component">
                            <h5>è¾“å…¥åµŒå…¥ + ä½ç½®ç¼–ç </h5>
                            <p>å°†è¯è½¬æ¢ä¸ºå‘é‡ï¼ŒåŠ å…¥ä½ç½®ä¿¡æ¯</p>
                        </div>
                        <div class="architecture-component">
                            <h5>å¤šå¤´è‡ªæ³¨æ„åŠ›</h5>
                            <p>ç†è§£è¾“å…¥åºåˆ—çš„å†…éƒ¨å…³ç³»</p>
                        </div>
                        <div class="architecture-component">
                            <h5>å‰é¦ˆç½‘ç»œ</h5>
                            <p>å¯¹æ¯ä¸ªä½ç½®ç‹¬ç«‹å¤„ç†</p>
                        </div>
                        <p class="text-center mt-2 text-muted">Ã— Nå±‚</p>
                    </div>

                    <div>
                        <h4 class="text-center mb-3">è§£ç å™¨ï¼ˆDecoderï¼‰</h4>
                        <div class="architecture-component">
                            <h5>è¾“å‡ºåµŒå…¥ + ä½ç½®ç¼–ç </h5>
                            <p>ç›®æ ‡åºåˆ—çš„å‘é‡è¡¨ç¤º</p>
                        </div>
                        <div class="architecture-component">
                            <h5>æ©ç å¤šå¤´è‡ªæ³¨æ„åŠ›</h5>
                            <p>é˜²æ­¢çœ‹åˆ°æœªæ¥ä¿¡æ¯</p>
                        </div>
                        <div class="architecture-component">
                            <h5>ç¼–ç å™¨-è§£ç å™¨æ³¨æ„åŠ›</h5>
                            <p>å…³æ³¨ç¼–ç å™¨çš„è¾“å‡º</p>
                        </div>
                        <div class="architecture-component">
                            <h5>å‰é¦ˆç½‘ç»œ</h5>
                            <p>æœ€ç»ˆçš„ç‰¹å¾å˜æ¢</p>
                        </div>
                        <p class="text-center mt-2 text-muted">Ã— Nå±‚</p>
                    </div>
                </div>
            </div>

            <div class="comparison-table mt-4">
                <table>
                    <thead>
                    <tr>
                        <th>ç‰¹æ€§</th>
                        <th>RNN</th>
                        <th>CNN</th>
                        <th>Transformer</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>å¹¶è¡ŒåŒ–</td>
                        <td>âŒ å¿…é¡»é¡ºåº</td>
                        <td>âœ… å¯å¹¶è¡Œ</td>
                        <td>âœ… å®Œå…¨å¹¶è¡Œ</td>
                    </tr>
                    <tr>
                        <td>é•¿è·ç¦»ä¾èµ–</td>
                        <td>ğŸ˜ å›°éš¾</td>
                        <td>ğŸ˜ å—é™äºå·ç§¯æ ¸</td>
                        <td>âœ… ç›´æ¥å»ºæ¨¡</td>
                    </tr>
                    <tr>
                        <td>è®¡ç®—å¤æ‚åº¦</td>
                        <td>O(n)</td>
                        <td>O(nÃ—k)</td>
                        <td>O(nÂ²)</td>
                    </tr>
                    <tr>
                        <td>å¯è§£é‡Šæ€§</td>
                        <td>ğŸ˜ éšè—çŠ¶æ€</td>
                        <td>ğŸ˜ ç‰¹å¾å›¾</td>
                        <td>âœ… æ³¨æ„åŠ›æƒé‡</td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="think-box mt-4">
                <h4>ğŸ¤” æ·±å…¥æ€è€ƒ</h4>
                <ul>
                    <li>ä¸ºä»€ä¹ˆTransformerçš„è®¡ç®—å¤æ‚åº¦æ˜¯O(nÂ²)ï¼Ÿè¿™ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜ï¼Ÿ</li>
                    <li>å®Œå…¨æ²¡æœ‰é€’å½’ç»“æ„ï¼Œå¦‚ä½•ä¿è¯è¾“å‡ºçš„è¿è´¯æ€§ï¼Ÿ</li>
                    <li>ä¸ºä»€ä¹ˆTransformerç‰¹åˆ«é€‚åˆé¢„è®­ç»ƒï¼Ÿ</li>
                </ul>
            </div>

            <div class="explore-box mt-4">
                <h4>å†å²æ—¶åˆ»ï¼šå½±å“åŠ›</h4>
                <p><strong>Transformerå¸¦æ¥çš„é©å‘½ï¼š</strong></p>
                <ul>
                    <li><strong>2018ï¼š</strong>BERTåˆ·æ–°11é¡¹NLPä»»åŠ¡è®°å½•</li>
                    <li><strong>2019ï¼š</strong>GPT-2å±•ç¤ºæƒŠäººçš„ç”Ÿæˆèƒ½åŠ›</li>
                    <li><strong>2020ï¼š</strong>GPT-3è¾¾åˆ°1750äº¿å‚æ•°</li>
                    <li><strong>2022ï¼š</strong>ChatGPTå¼•çˆ†AIåº”ç”¨</li>
                    <li><strong>ç°åœ¨ï¼š</strong>å‡ ä¹æ‰€æœ‰å¤§æ¨¡å‹éƒ½åŸºäºTransformer</li>
                </ul>
                <p class="mt-3" style="text-align: center; font-size: 1.1rem; color: var(--warning);">
                    <strong>ä¸€ä¸ªæ¶æ„ï¼Œæ”¹å˜äº†æ•´ä¸ªAIé¢†åŸŸï¼</strong>
                </p>
            </div>
        </section>

        <!-- æ¶æ„è¯¦è§£ -->
        <section id="transformer-architecture" class="section-card">
            <h2>ğŸ›ï¸ Transformeræ¶æ„è¯¦è§£</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ”§</span>
                <p><strong>ç²¾å¯†çš„æœºå™¨</strong></p>
                <p class="mt-2">
                    Transformerå°±åƒä¸€å°ç²¾å¯†çš„æœºå™¨ï¼Œæ¯ä¸ªç»„ä»¶éƒ½ç»è¿‡ç²¾å¿ƒè®¾è®¡ã€‚
                    è®©æˆ‘ä»¬æ‹†è§£è¿™å°æœºå™¨ï¼Œçœ‹çœ‹æ¯ä¸ªé›¶ä»¶æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚
                </p>
            </div>

            <div class="algorithm-steps">
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h5>è¾“å…¥å¤„ç†å±‚</h5>
                        <p>å°†æ–‡æœ¬è½¬æ¢ä¸ºæ¨¡å‹èƒ½ç†è§£çš„å½¢å¼</p>

                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">ç»„ä»¶è¯¦è§£</span>
                            </div>
                            <div class="code-content">
                                <pre><span class="comment"># 1. è¯åµŒå…¥ï¼ˆWord Embeddingï¼‰</span>
è¾“å…¥: "æˆ‘çˆ±ä½ " â†’ [101, 2769, 3221, 102]ï¼ˆè¯IDï¼‰
åµŒå…¥: æ¯ä¸ªID â†’ 512ç»´å‘é‡

<span class="comment"># 2. ä½ç½®ç¼–ç ï¼ˆPositional Encodingï¼‰</span>
ä½ç½®0: PE(0) = [sin(0), cos(0), sin(0/100), ...]
ä½ç½®1: PE(1) = [sin(1), cos(1), sin(1/100), ...]

<span class="comment"># 3. ç›¸åŠ </span>
æœ€ç»ˆè¾“å…¥ = è¯åµŒå…¥ + ä½ç½®ç¼–ç </pre>
                            </div>
                        </div>

                        <div class="think-box mt-3">
                            <h4>ğŸ¤” ä¸ºä»€ä¹ˆè¦åŠ ä½ç½®ç¼–ç ï¼Ÿ</h4>
                            <ul>
                                <li>è‡ªæ³¨æ„åŠ›æ²¡æœ‰é¡ºåºæ¦‚å¿µ</li>
                                <li>"æˆ‘çˆ±ä½ "å’Œ"ä½ çˆ±æˆ‘"çš„è¯åµŒå…¥ç›¸åŒ</li>
                                <li>ä½ç½®ç¼–ç æä¾›äº†é¡ºåºä¿¡æ¯</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h5>ç¼–ç å™¨å±‚ï¼ˆEncoder Layerï¼‰</h5>
                        <p>Transformerçš„æ ¸å¿ƒå¤„ç†å•å…ƒ</p>

                        <div class="demo-container mt-3">
                            <h6>å­å±‚1ï¼šå¤šå¤´è‡ªæ³¨æ„åŠ›</h6>
                            <ul>
                                <li>è¾“å…¥ï¼šX</li>
                                <li>å¤„ç†ï¼šMultiHeadAttention(X, X, X)</li>
                                <li>è¾“å‡ºï¼šæ³¨æ„åŠ›åŠ æƒåçš„è¡¨ç¤º</li>
                            </ul>

                            <h6 class="mt-3">å­å±‚2ï¼šå‰é¦ˆç½‘ç»œ</h6>
                            <ul>
                                <li>ä¸¤å±‚å…¨è¿æ¥ï¼šFFN(x) = ReLU(xWâ‚ + bâ‚)Wâ‚‚ + bâ‚‚</li>
                                <li>ä¸­é—´å±‚é€šå¸¸æ˜¯4Ã—éšè—å±‚å¤§å°ï¼ˆå¦‚2048ï¼‰</li>
                                <li>å¯¹æ¯ä¸ªä½ç½®ç‹¬ç«‹å¤„ç†</li>
                            </ul>

                            <h6 class="mt-3">å…³é”®æŠ€å·§</h6>
                            <ul>
                                <li><strong>æ®‹å·®è¿æ¥ï¼š</strong>output = LayerNorm(x + Sublayer(x))</li>
                                <li><strong>å±‚å½’ä¸€åŒ–ï¼š</strong>ç¨³å®šè®­ç»ƒï¼ŒåŠ é€Ÿæ”¶æ•›</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h5>è§£ç å™¨å±‚ï¼ˆDecoder Layerï¼‰</h5>
                        <p>ç”Ÿæˆè¾“å‡ºçš„æ ¸å¿ƒç»„ä»¶</p>

                        <div class="info-card">
                            <h6>ä¸‰ä¸ªå­å±‚ï¼š</h6>
                            <ol>
                                <li><strong>æ©ç è‡ªæ³¨æ„åŠ›ï¼š</strong>é˜²æ­¢çœ‹åˆ°æœªæ¥çš„è¯</li>
                                <li><strong>äº¤å‰æ³¨æ„åŠ›ï¼š</strong>å…³æ³¨ç¼–ç å™¨è¾“å‡º</li>
                                <li><strong>å‰é¦ˆç½‘ç»œï¼š</strong>åŒç¼–ç å™¨</li>
                            </ol>

                            <div class="tip warning mt-3">
                                <span class="tip-icon">âš ï¸</span>
                                <strong>æ©ç çš„é‡è¦æ€§</strong>
                                <p class="mt-2">
                                    è®­ç»ƒæ—¶ï¼Œæ¨¡å‹èƒ½çœ‹åˆ°å®Œæ•´çš„ç›®æ ‡åºåˆ—ã€‚
                                    æ©ç ç¡®ä¿åœ¨é¢„æµ‹ç¬¬iä¸ªè¯æ—¶ï¼Œåªèƒ½çœ‹åˆ°å‰i-1ä¸ªè¯ã€‚
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">Python - å®Œæ•´çš„Transformerå—</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="toggleCode(this)">å±•å¼€</button>
                        <button class="code-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                    </div>
                </div>
                <div class="code-content collapsed">
                    <pre><span class="keyword">class</span> <span class="function">TransformerBlock</span>(nn.Module):
    <span class="keyword">def</span> <span class="function">__init__</span>(self, embed_size, heads, dropout, forward_expansion):
        super(TransformerBlock, self).__init__()
        self.attention = SelfAttention(embed_size, heads)
        self.norm1 = nn.LayerNorm(embed_size)
        self.norm2 = nn.LayerNorm(embed_size)

        <span class="comment"># å‰é¦ˆç½‘ç»œ</span>
        self.feed_forward = nn.Sequential(
            nn.Linear(embed_size, forward_expansion * embed_size),
            nn.ReLU(),
            nn.Linear(forward_expansion * embed_size, embed_size)
        )

        self.dropout = nn.Dropout(dropout)

    <span class="keyword">def</span> <span class="function">forward</span>(self, value, key, query, mask=None):
        <span class="comment"># 1. å¤šå¤´è‡ªæ³¨æ„åŠ›</span>
        attention = self.attention(value, key, query, mask)

        <span class="comment"># 2. æ®‹å·®è¿æ¥ + å±‚å½’ä¸€åŒ–</span>
        x = self.norm1(attention + query)
        x = self.dropout(x)

        <span class="comment"># 3. å‰é¦ˆç½‘ç»œ</span>
        forward = self.feed_forward(x)

        <span class="comment"># 4. æ®‹å·®è¿æ¥ + å±‚å½’ä¸€åŒ–</span>
        out = self.norm2(forward + x)
        out = self.dropout(out)

        <span class="keyword">return</span> out

<span class="keyword">class</span> <span class="function">Encoder</span>(nn.Module):
    <span class="keyword">def</span> <span class="function">__init__</span>(self,
                 src_vocab_size,
                 embed_size,
                 num_layers,
                 heads,
                 device,
                 forward_expansion,
                 dropout,
                 max_length):
        super(Encoder, self).__init__()
        self.embed_size = embed_size
        self.device = device

        <span class="comment"># è¯åµŒå…¥</span>
        self.word_embedding = nn.Embedding(src_vocab_size, embed_size)

        <span class="comment"># ä½ç½®ç¼–ç </span>
        self.position_embedding = nn.Embedding(max_length, embed_size)

        <span class="comment"># Nä¸ªç¼–ç å™¨å±‚</span>
        self.layers = nn.ModuleList([
            TransformerBlock(
                embed_size,
                heads,
                dropout=dropout,
                forward_expansion=forward_expansion
            )
            <span class="keyword">for</span> _ <span class="keyword">in</span> range(num_layers)
        ])

        self.dropout = nn.Dropout(dropout)

    <span class="keyword">def</span> <span class="function">forward</span>(self, x, mask=None):
        batch_size, seq_length = x.shape

        <span class="comment"># ç”Ÿæˆä½ç½®ç´¢å¼•</span>
        positions = torch.arange(0, seq_length).expand(batch_size, seq_length).to(self.device)

        <span class="comment"># åµŒå…¥ + ä½ç½®ç¼–ç </span>
        out = self.word_embedding(x) + self.position_embedding(positions)
        out = self.dropout(out)

        <span class="comment"># é€šè¿‡Nä¸ªç¼–ç å™¨å±‚</span>
        <span class="keyword">for</span> layer <span class="keyword">in</span> self.layers:
            out = layer(out, out, out, mask)

        <span class="keyword">return</span> out</pre>
                </div>
            </div>

            <div class="deep-think-box mt-4">
                <h4>æ¶æ„è®¾è®¡çš„æ™ºæ…§</h4>
                <div class="think-item">
                    <h5>ğŸ”„ æ®‹å·®è¿æ¥çš„å¿…è¦æ€§</h5>
                    <p>ä¸ºä»€ä¹ˆæ¯ä¸ªå­å±‚éƒ½éœ€è¦æ®‹å·®è¿æ¥ï¼Ÿ</p>
                    <ul>
                        <li>ç¼“è§£æ¢¯åº¦æ¶ˆå¤±ï¼ˆæ·±å±‚ç½‘ç»œçš„é€šç—…ï¼‰</li>
                        <li>è®©æ¨¡å‹å¯ä»¥"é€‰æ‹©"ä½¿ç”¨æˆ–è·³è¿‡æŸå±‚</li>
                        <li>ä¿ç•™åŸå§‹ä¿¡æ¯ï¼Œé˜²æ­¢ä¿¡æ¯æŸå¤±</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>ğŸ“Š å±‚å½’ä¸€åŒ– vs æ‰¹å½’ä¸€åŒ–</h5>
                    <p>ä¸ºä»€ä¹ˆé€‰æ‹©LayerNormè€Œä¸æ˜¯BatchNormï¼Ÿ</p>
                    <ul>
                        <li>åºåˆ—é•¿åº¦å¯å˜ï¼Œæ‰¹å½’ä¸€åŒ–ä¸ç¨³å®š</li>
                        <li>å±‚å½’ä¸€åŒ–å¯¹æ¯ä¸ªæ ·æœ¬ç‹¬ç«‹ï¼Œæ›´é€‚åˆNLP</li>
                        <li>è®­ç»ƒå’Œæ¨ç†è¡Œä¸ºä¸€è‡´</li>
                    </ul>
                </div>
            </div>

            <div class="explore-box mt-4">
                <h4>å®éªŒï¼šå±‚æ•°çš„å½±å“</h4>
                <p><strong>ä¸åŒæ¨¡å‹çš„å±‚æ•°ï¼š</strong></p>
                <ul>
                    <li>BERT-Base: 12å±‚</li>
                    <li>BERT-Large: 24å±‚</li>
                    <li>GPT-3: 96å±‚</li>
                </ul>
                <p class="mt-3"><strong>è§‚å¯Ÿï¼š</strong></p>
                <ul>
                    <li>æ›´æ·±çš„æ¨¡å‹é€šå¸¸æ€§èƒ½æ›´å¥½</li>
                    <li>ä½†è®­ç»ƒéš¾åº¦å’Œè®¡ç®—æˆæœ¬æ€¥å‰§å¢åŠ </li>
                    <li>éœ€è¦æ›´å¤šæŠ€å·§ï¼ˆå¦‚æ¸è¿›å¼è®­ç»ƒï¼‰</li>
                </ul>
            </div>
        </section>

        <!-- å¤šå¤´æ³¨æ„åŠ› -->
        <section id="multi-head" class="section-card">
            <h2>ğŸ­ å¤šå¤´æ³¨æ„åŠ›æœºåˆ¶</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ‘¥</span>
                <p><strong>å›¢é˜Ÿçš„åŠ›é‡</strong></p>
                <p class="mt-2">
                    æƒ³è±¡ä¸€ä¸ªå›¢é˜Ÿåœ¨åˆ†æä¸€ä»½æ–‡æ¡£ï¼šå¾‹å¸ˆå…³æ³¨æ³•å¾‹æ¡æ¬¾ï¼Œä¼šè®¡å…³æ³¨æ•°å­—ï¼Œ
                    å¸‚åœºäººå‘˜å…³æ³¨å®¢æˆ·éœ€æ±‚ã€‚å¤šå¤´æ³¨æ„åŠ›å°±æ˜¯è®©æ¨¡å‹åŒæ—¶ä»å¤šä¸ªè§’åº¦ç†è§£ä¿¡æ¯ï¼
                </p>
            </div>

            <div class="deep-think-box">
                <h4>ä¸ºä»€ä¹ˆéœ€è¦"å¤šå¤´"ï¼Ÿ</h4>
                <div class="think-item">
                    <h5>ğŸ¯ ä¸åŒçš„å…³æ³¨ç‚¹</h5>
                    <p>å•ä¸€çš„æ³¨æ„åŠ›å¯èƒ½è¿‡äºå±€é™ï¼š</p>
                    <ul>
                        <li>å¤´1ï¼šå…³æ³¨è¯­æ³•å…³ç³»ï¼ˆä¸»è°“å®¾ï¼‰</li>
                        <li>å¤´2ï¼šå…³æ³¨è¯­ä¹‰ç›¸ä¼¼æ€§</li>
                        <li>å¤´3ï¼šå…³æ³¨ä½ç½®å…³ç³»</li>
                        <li>å¤´4ï¼šå…³æ³¨ç‰¹å®šæ¨¡å¼ï¼ˆå¦‚å¦å®šè¯ï¼‰</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>ğŸ’¡ è¡¨è¾¾èƒ½åŠ›</h5>
                    <p>æ•°å­¦è§†è§’ï¼š</p>
                    <ul>
                        <li>å•å¤´ï¼šå­¦ä¹ ä¸€ç§æ˜ å°„å…³ç³»</li>
                        <li>å¤šå¤´ï¼šå­¦ä¹ å¤šä¸ªå­ç©ºé—´çš„æ˜ å°„</li>
                        <li>ç»„åˆï¼šæ›´ä¸°å¯Œçš„è¡¨ç¤ºèƒ½åŠ›</li>
                    </ul>
                </div>
            </div>

            <div class="math-display">
                <h4 class="mb-3" style="color: var(--primary-light);">å¤šå¤´æ³¨æ„åŠ›çš„æ•°å­¦è¡¨è¾¾</h4>

                <p class="math-formula">
                    $\text{MultiHead}(Q, K, V) = \text{Concat}(\text{head}_1, ..., \text{head}_h)W^O$
                </p>
                <p class="text-center">å…¶ä¸­ï¼š</p>
                <p class="math-formula">
                    $\text{head}_i = \text{Attention}(QW_i^Q, KW_i^K, VW_i^V)$
                </p>

                <div class="formula-explanation">
                    <h5>ğŸ“– å…¬å¼è§£è¯»</h5>

                    <table class="formula-table">
                        <tr>
                            <td class="formula-part">$W_i^Q, W_i^K, W_i^V$</td>
                            <td class="formula-meaning">ç¬¬iä¸ªå¤´çš„æŠ•å½±çŸ©é˜µï¼Œå°†è¾“å…¥æŠ•å½±åˆ°ä¸åŒå­ç©ºé—´</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$\text{head}_i$</td>
                            <td class="formula-meaning">ç¬¬iä¸ªæ³¨æ„åŠ›å¤´çš„è¾“å‡º</td>
                        </tr>
                        <tr>
                            <td class="formula-part">Concat</td>
                            <td class="formula-meaning">å°†æ‰€æœ‰å¤´çš„è¾“å‡ºæ‹¼æ¥èµ·æ¥</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$W^O$</td>
                            <td class="formula-meaning">è¾“å‡ºæŠ•å½±çŸ©é˜µï¼Œæ•´åˆæ‰€æœ‰å¤´çš„ä¿¡æ¯</td>
                        </tr>
                    </table>

                    <div class="demo-container mt-3">
                        <p><strong>ç»´åº¦å˜åŒ–ç¤ºä¾‹ï¼ˆ8å¤´æ³¨æ„åŠ›ï¼‰ï¼š</strong></p>
                        <pre style="background: var(--bg-code); padding: 1rem; border-radius: 0.5rem; color: #e6edf3;">
è¾“å…¥: [batch, seq_len, 512]
â†“ åˆ†æˆ8ä¸ªå¤´
æ¯ä¸ªå¤´: [batch, seq_len, 64]  (512 Ã· 8 = 64)
â†“ å„è‡ªè®¡ç®—æ³¨æ„åŠ›
æ¯ä¸ªå¤´è¾“å‡º: [batch, seq_len, 64]
â†“ æ‹¼æ¥
æ‹¼æ¥ç»“æœ: [batch, seq_len, 512]  (64 Ã— 8 = 512)
â†“ è¾“å‡ºæŠ•å½±
æœ€ç»ˆè¾“å‡º: [batch, seq_len, 512]</pre>
                    </div>
                </div>
            </div>

            <div class="attention-visualization mt-4">
                <h3 class="text-center mb-3" style="color: var(--primary-light);">å¤šå¤´æ³¨æ„åŠ›å¯è§†åŒ–</h3>

                <p class="text-center mb-3">å¥å­ï¼š"The cat sat on the mat" çš„ä¸åŒæ³¨æ„åŠ›å¤´</p>

                <div class="card-grid">
                    <div class="info-card">
                        <h5 class="card-title">Head 1: è¯­æ³•å…³ç³»</h5>
                        <div style="text-align: center;">
                            <p>The â†’ cat (å† è¯â†’åè¯)</p>
                            <p>cat â†’ sat (ä¸»è¯­â†’åŠ¨è¯)</p>
                            <p>on â†’ mat (ä»‹è¯â†’åè¯)</p>
                        </div>
                    </div>

                    <div class="info-card">
                        <h5 class="card-title">Head 2: å±€éƒ¨å…³ç³»</h5>
                        <div style="text-align: center;">
                            <p>æ¯ä¸ªè¯ä¸»è¦å…³æ³¨ç›¸é‚»è¯</p>
                            <p>The â†” cat</p>
                            <p>the â†” mat</p>
                        </div>
                    </div>

                    <div class="info-card">
                        <h5 class="card-title">Head 3: ä¸»é¢˜è¯</h5>
                        <div style="text-align: center;">
                            <p>æ‰€æœ‰è¯éƒ½å…³æ³¨"cat"</p>
                            <p>ï¼ˆè¯†åˆ«å¥å­ä¸»è¯­ï¼‰</p>
                        </div>
                    </div>
                </div>

                <div class="tip info mt-3">
                    <span class="tip-icon">ğŸ’¡</span>
                    <strong>å…³é”®æ´å¯Ÿ</strong>
                    <p class="mt-2">
                        ä¸åŒçš„å¤´å­¦ä¼šäº†ä¸åŒçš„è¯­è¨€æ¨¡å¼ï¼Œå®ƒä»¬çš„ç»„åˆæä¾›äº†ä¸°å¯Œçš„è¯­è¨€ç†è§£èƒ½åŠ›ã€‚
                        è¿™å°±åƒä¸€ä¸ªä¸“å®¶å›¢é˜Ÿï¼Œæ¯ä¸ªä¸“å®¶è´Ÿè´£ä¸åŒæ–¹é¢ï¼
                    </p>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">Python - å¤šå¤´æ³¨æ„åŠ›å®ç°æ ¸å¿ƒ</span>
                </div>
                <div class="code-content">
                    <pre><span class="keyword">def</span> <span class="function">multi_head_attention</span>(query, key, value, num_heads):
    <span class="string">"""ç®€åŒ–çš„å¤šå¤´æ³¨æ„åŠ›å®ç°"""</span>
    batch_size, seq_len, d_model = query.shape
    d_k = d_model // num_heads

    <span class="comment"># 1. çº¿æ€§å˜æ¢å¹¶åˆ†å¤´</span>
    Q = query.view(batch_size, seq_len, num_heads, d_k).transpose(1, 2)
    K = key.view(batch_size, seq_len, num_heads, d_k).transpose(1, 2)
    V = value.view(batch_size, seq_len, num_heads, d_k).transpose(1, 2)
    <span class="comment"># ç°åœ¨: [batch, heads, seq_len, d_k]</span>

    <span class="comment"># 2. è®¡ç®—æ³¨æ„åŠ›ï¼ˆæ¯ä¸ªå¤´ç‹¬ç«‹ï¼‰</span>
    scores = torch.matmul(Q, K.transpose(-2, -1)) / math.sqrt(d_k)
    attention_weights = F.softmax(scores, dim=-1)
    context = torch.matmul(attention_weights, V)

    <span class="comment"># 3. åˆå¹¶å¤šå¤´</span>
    context = context.transpose(1, 2).contiguous().view(
        batch_size, seq_len, d_model
    )

    return context</pre>
                </div>
            </div>

            <div class="deep-think-box mt-4">
                <h4>å¤šå¤´æ³¨æ„åŠ›çš„ä¼˜åŠ¿</h4>
                <div class="think-item">
                    <h5>ğŸ“Š å¹¶è¡Œå­¦ä¹ ä¸åŒçš„è¡¨ç¤º</h5>
                    <p>8ä¸ªå¤´å¯èƒ½å­¦åˆ°ï¼š</p>
                    <ul>
                        <li>è¯­æ³•ä¾èµ–ï¼ˆä¸»è°“å®¾ç»“æ„ï¼‰</li>
                        <li>å±€éƒ¨ä¸Šä¸‹æ–‡ï¼ˆç›¸é‚»è¯å…³ç³»ï¼‰</li>
                        <li>é•¿è·ç¦»ä¾èµ–ï¼ˆæŒ‡ä»£å…³ç³»ï¼‰</li>
                        <li>è¯­ä¹‰ç›¸ä¼¼æ€§ï¼ˆåŒä¹‰è¯ï¼‰</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>ğŸ”§ è®¡ç®—æ•ˆç‡</h5>
                    <p>è™½ç„¶æœ‰å¤šä¸ªå¤´ï¼Œä½†æ€»è®¡ç®—é‡ä¸å˜ï¼š</p>
                    <ul>
                        <li>æ¯ä¸ªå¤´çš„ç»´åº¦ = æ€»ç»´åº¦ Ã· å¤´æ•°</li>
                        <li>8ä¸ª64ç»´çš„å¤´ = 1ä¸ª512ç»´çš„å¤´</li>
                        <li>ä½†è¡¨è¾¾èƒ½åŠ›æ›´å¼ºï¼</li>
                    </ul>
                </div>
            </div>

            <div class="explore-box mt-4">
                <h4>å®éªŒï¼šå¤´æ•°çš„é€‰æ‹©</h4>
                <p><strong>å¸¸è§çš„å¤´æ•°é…ç½®ï¼š</strong></p>
                <ul>
                    <li>å°æ¨¡å‹ï¼š4-8å¤´</li>
                    <li>BERT/GPT-2ï¼š12-16å¤´</li>
                    <li>å¤§æ¨¡å‹ï¼š32-64å¤´</li>
                </ul>
                <p class="mt-3"><strong>æƒè¡¡ï¼š</strong></p>
                <ul>
                    <li>å¤´å¤ªå°‘ï¼šè¡¨è¾¾èƒ½åŠ›ä¸è¶³</li>
                    <li>å¤´å¤ªå¤šï¼šæ¯ä¸ªå¤´ç»´åº¦å¤ªå°ï¼Œéš¾ä»¥å­¦ä¹ æœ‰æ„ä¹‰çš„æ¨¡å¼</li>
                    <li>ç»éªŒæ³•åˆ™ï¼šç¡®ä¿æ¯ä¸ªå¤´è‡³å°‘æœ‰64ç»´</li>
                </ul>
            </div>
        </section>

        <!-- ä½ç½®ç¼–ç  -->
        <section id="positional-encoding" class="section-card">
            <h2>ğŸ“ ä½ç½®ç¼–ç </h2>

            <div class="story-card">
                <span class="story-icon">ğŸ—ºï¸</span>
                <p><strong>ç»™è¯è¯­ä¸€ä¸ª"GPSåæ ‡"</strong></p>
                <p class="mt-2">
                    è‡ªæ³¨æ„åŠ›æœºåˆ¶æ²¡æœ‰ä½ç½®æ¦‚å¿µï¼Œ"æˆ‘çˆ±ä½ "å’Œ"ä½ çˆ±æˆ‘"çœ‹èµ·æ¥ä¸€æ ·ã€‚
                    ä½ç½®ç¼–ç å°±åƒç»™æ¯ä¸ªè¯åŠ ä¸ŠGPSåæ ‡ï¼Œè®©æ¨¡å‹çŸ¥é“è°åœ¨å‰è°åœ¨åã€‚
                </p>
            </div>

            <div class="deep-think-box">
                <h4>ä¸ºä»€ä¹ˆéœ€è¦ä½ç½®ç¼–ç ï¼Ÿ</h4>
                <div class="think-item">
                    <h5>ğŸ”„ è‡ªæ³¨æ„åŠ›çš„"å¥å¿˜ç—‡"</h5>
                    <p>è€ƒè™‘ä¸¤ä¸ªå¥å­ï¼š</p>
                    <ul>
                        <li>"çŒ«è¿½è€é¼ " vs "è€é¼ è¿½çŒ«"</li>
                        <li>è¯ç›¸åŒï¼Œä½†æ„æ€å®Œå…¨ä¸åŒ</li>
                        <li>åŒºåˆ«åœ¨äºï¼šä½ç½®ï¼</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>ğŸ¯ è®¾è®¡è¦æ±‚</h5>
                    <p>å¥½çš„ä½ç½®ç¼–ç éœ€è¦ï¼š</p>
                    <ul>
                        <li>èƒ½åŒºåˆ†ä¸åŒä½ç½®</li>
                        <li>èƒ½æ¨å¹¿åˆ°ä»»æ„é•¿åº¦</li>
                        <li>èƒ½è¡¨è¾¾ç›¸å¯¹ä½ç½®å…³ç³»</li>
                    </ul>
                </div>
            </div>

            <div class="math-display">
                <h4 class="mb-3" style="color: var(--primary-light);">Transformerçš„ä½ç½®ç¼–ç å…¬å¼</h4>

                <p class="math-formula">
                    $PE_{(pos,2i)} = \sin\left(\frac{pos}{10000^{2i/d_{model}}}\right)$
                </p>
                <p class="math-formula">
                    $PE_{(pos,2i+1)} = \cos\left(\frac{pos}{10000^{2i/d_{model}}}\right)$
                </p>

                <div class="formula-explanation">
                    <h5>ğŸ“– å…¬å¼è§£è¯»</h5>

                    <table class="formula-table">
                        <tr>
                            <td class="formula-part">$pos$</td>
                            <td class="formula-meaning">è¯åœ¨å¥å­ä¸­çš„ä½ç½®ï¼ˆ0, 1, 2, ...ï¼‰</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$i$</td>
                            <td class="formula-meaning">ç»´åº¦ç´¢å¼•ï¼ˆ0åˆ°d_model/2ï¼‰</td>
                        </tr>
                        <tr>
                            <td class="formula-part">$d_{model}$</td>
                            <td class="formula-meaning">åµŒå…¥ç»´åº¦ï¼ˆå¦‚512ï¼‰</td>
                        </tr>
                        <tr>
                            <td class="formula-part">sin/cos</td>
                            <td class="formula-meaning">æ­£å¼¦ç”¨äºå¶æ•°ç»´åº¦ï¼Œä½™å¼¦ç”¨äºå¥‡æ•°ç»´åº¦</td>
                        </tr>
                    </table>

                    <div class="demo-container mt-3">
                        <h5>ğŸ¨ ä½ç½®ç¼–ç å¯è§†åŒ–</h5>
                        <p>ä¸åŒä½ç½®çš„ç¼–ç æ¨¡å¼ï¼ˆå‰8ä¸ªç»´åº¦ï¼‰ï¼š</p>
                        <div style="display: grid; grid-template-columns: auto repeat(8, 1fr); gap: 0.25rem; font-size: 0.875rem;">
                            <div style="padding: 0.5rem;">ä½ç½®</div>
                            <div style="text-align: center; color: var(--text-muted);">dim0</div>
                            <div style="text-align: center; color: var(--text-muted);">dim1</div>
                            <div style="text-align: center; color: var(--text-muted);">dim2</div>
                            <div style="text-align: center; color: var(--text-muted);">dim3</div>
                            <div style="text-align: center; color: var(--text-muted);">dim4</div>
                            <div style="text-align: center; color: var(--text-muted);">dim5</div>
                            <div style="text-align: center; color: var(--text-muted);">dim6</div>
                            <div style="text-align: center; color: var(--text-muted);">dim7</div>

                            <div style="padding: 0.5rem;">0</div>
                            <div class="weight-cell" style="background: rgba(255, 107, 107, 0);">0.00</div>
                            <div class="weight-cell" style="background: rgba(78, 205, 196, 1);">1.00</div>
                            <div class="weight-cell" style="background: rgba(255, 107, 107, 0);">0.00</div>
                            <div class="weight-cell" style="background: rgba(78, 205, 196, 1);">1.00</div>
                            <div class="weight-cell" style="background: rgba(255, 107, 107, 0);">0.00</div>
                            <div class="weight-cell" style="background: rgba(78, 205, 196, 1);">1.00</div>
                            <div class="weight-cell" style="background: rgba(255, 107, 107, 0);">0.00</div>
                            <div class="weight-cell" style="background: rgba(78, 205, 196, 1);">1.00</div>

                            <div style="padding: 0.5rem;">1</div>
                            <div class="weight-cell" style="background: rgba(255, 107, 107, 0.8);">0.84</div>
                            <div class="weight-cell" style="background: rgba(78, 205, 196, 0.5);">0.54</div>
                            <div class="weight-cell" style="background: rgba(255, 107, 107, 0.1);">0.10</div>
                            <div class="weight-cell" style="background: rgba(78, 205, 196, 0.99);">0.99</div>
                            <div class="weight-cell" style="background: rgba(255, 107, 107, 0.01);">0.01</div>
                            <div class="weight-cell" style="background: rgba(78, 205, 196, 1);">1.00</div>
                            <div class="weight-cell" style="background: rgba(255, 107, 107, 0);">0.00</div>
                            <div class="weight-cell" style="background: rgba(78, 205, 196, 1);">1.00</div>
                        </div>
                        <p class="text-center mt-2 text-muted">çº¢è‰²=sinå€¼ï¼Œé’è‰²=coså€¼</p>
                    </div>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">Python - ä½ç½®ç¼–ç å®ç°</span>
                </div>
                <div class="code-content">
                    <pre><span class="keyword">import</span> numpy <span class="keyword">as</span> np
<span class="keyword">import</span> torch

<span class="keyword">def</span> <span class="function">get_positional_encoding</span>(seq_len, d_model):
    <span class="string">"""
    ç”Ÿæˆä½ç½®ç¼–ç 
    seq_len: åºåˆ—é•¿åº¦
    d_model: æ¨¡å‹ç»´åº¦
    """</span>
    pe = torch.zeros(seq_len, d_model)
    position = torch.arange(0, seq_len).unsqueeze(1).float()

    <span class="comment"># åˆ›å»ºä¸€ä¸ªå‡ ä½•çº§æ•°ï¼š1, 1/10000^(2/d_model), 1/10000^(4/d_model), ...</span>
    div_term = torch.exp(torch.arange(0, d_model, 2).float() *
                        -(np.log(10000.0) / d_model))

    <span class="comment"># è®¡ç®—ä½ç½®ç¼–ç </span>
    pe[:, 0::2] = torch.sin(position * div_term)  <span class="comment"># å¶æ•°ç»´åº¦</span>
    pe[:, 1::2] = torch.cos(position * div_term)  <span class="comment"># å¥‡æ•°ç»´åº¦</span>

    <span class="keyword">return</span> pe

<span class="comment"># å¯è§†åŒ–ä½ç½®ç¼–ç çš„ç‰¹æ€§</span>
<span class="keyword">def</span> <span class="function">visualize_positional_encoding</span>():
    pe = get_positional_encoding(100, 512)

    <span class="comment"># è§‚å¯Ÿ1ï¼šä¸åŒä½ç½®çš„ç¼–ç æ˜¯å”¯ä¸€çš„</span>
    print(<span class="string">"ä½ç½®0å’Œä½ç½®1çš„ç›¸ä¼¼åº¦:"</span>,
          torch.cosine_similarity(pe[0], pe[1], dim=0).item())

    <span class="comment"># è§‚å¯Ÿ2ï¼šç›¸å¯¹ä½ç½®ä¿¡æ¯è¢«ä¿ç•™</span>
    <span class="comment"># PE(pos+k) å¯ä»¥è¡¨ç¤ºä¸º PE(pos) å’Œ PE(k) çš„çº¿æ€§ç»„åˆ</span>
    print(<span class="string">"ä½ç½®ç¼–ç å…è®¸æ¨¡å‹å­¦ä¹ ç›¸å¯¹ä½ç½®!"</span>)</pre>
                </div>
            </div>

            <div class="deep-think-box mt-4">
                <h4>ä½ç½®ç¼–ç çš„å·§å¦™ä¹‹å¤„</h4>
                <div class="think-item">
                    <h5>ğŸŒŠ ä¸ºä»€ä¹ˆç”¨æ­£å¼¦/ä½™å¼¦ï¼Ÿ</h5>
                    <ul>
                        <li>å‘¨æœŸæ€§ï¼šå¯ä»¥æ¨å¹¿åˆ°ä»»æ„é•¿åº¦</li>
                        <li>ç›¸å¯¹ä½ç½®ï¼šsin(x+k)å¯ä»¥ç”¨sin(x)å’Œcos(x)çº¿æ€§è¡¨ç¤º</li>
                        <li>å¹³æ»‘å˜åŒ–ï¼šç›¸é‚»ä½ç½®çš„ç¼–ç ç›¸ä¼¼</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>ğŸ›ï¸ ä¸åŒé¢‘ç‡çš„ä½œç”¨</h5>
                    <ul>
                        <li>ä½é¢‘ï¼ˆå¤§æ³¢é•¿ï¼‰ï¼šæ•æ‰å…¨å±€ä½ç½®</li>
                        <li>é«˜é¢‘ï¼ˆå°æ³¢é•¿ï¼‰ï¼šåŒºåˆ†ç›¸é‚»ä½ç½®</li>
                        <li>ç»„åˆä½¿ç”¨ï¼šç²¾ç¡®å®šä½æ¯ä¸ªä½ç½®</li>
                    </ul>
                </div>
            </div>

            <div class="explore-box mt-4">
                <h4>å…¶ä»–ä½ç½®ç¼–ç æ–¹æ¡ˆ</h4>
                <ol>
                    <li><strong>å¯å­¦ä¹ ä½ç½®ç¼–ç ï¼š</strong>
                        <ul>
                            <li>æ¯ä¸ªä½ç½®ä¸€ä¸ªå¯è®­ç»ƒçš„å‘é‡</li>
                            <li>ä¼˜ç‚¹ï¼šçµæ´»ï¼Œå¯ä»¥å­¦ä¹ ä»»æ„æ¨¡å¼</li>
                            <li>ç¼ºç‚¹ï¼šä¸èƒ½æ¨å¹¿åˆ°è®­ç»ƒæ—¶æ²¡è§è¿‡çš„é•¿åº¦</li>
                        </ul>
                    </li>
                    <li><strong>ç›¸å¯¹ä½ç½®ç¼–ç ï¼š</strong>
                        <ul>
                            <li>ç›´æ¥å»ºæ¨¡ä½ç½®å·®å¼‚</li>
                            <li>æ›´é€‚åˆæŸäº›ä»»åŠ¡</li>
                            <li>è®¡ç®—æ›´å¤æ‚</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <div class="tip success mt-4">
                <span class="tip-icon">âœ¨</span>
                <strong>ç²¾å¦™è®¾è®¡</strong>
                <p class="mt-2">
                    ä½ç½®ç¼–ç è™½ç„¶çœ‹èµ·æ¥ç®€å•ï¼Œä½†å®ƒå·§å¦™åœ°è§£å†³äº†è‡ªæ³¨æ„åŠ›çš„æ ¹æœ¬ç¼ºé™·ã€‚
                    æ­£å¼¦/ä½™å¼¦ç¼–ç ä¸ä»…èƒ½åŒºåˆ†ä½ç½®ï¼Œè¿˜èƒ½è¡¨è¾¾ç›¸å¯¹å…³ç³»ï¼ŒçœŸæ˜¯ä¸€ä¸¾ä¸¤å¾—ï¼
                </p>
            </div>
        </section>

        <!-- è®­ç»ƒæŠ€å·§ -->
        <section id="training" class="section-card">
            <h2>ğŸ¯ è®­ç»ƒæŠ€å·§</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ‹ï¸</span>
                <p><strong>è®­ç»ƒTransformerçš„è‰ºæœ¯</strong></p>
                <p class="mt-2">
                    Transformerè™½ç„¶å¼ºå¤§ï¼Œä½†è®­ç»ƒèµ·æ¥å……æ»¡æŒ‘æˆ˜ã€‚
                    å°±åƒè®­ç»ƒä¸€åŒ¹çƒˆé©¬ï¼Œéœ€è¦æŠ€å·§ã€è€å¿ƒå’Œæ­£ç¡®çš„æ–¹æ³•ã€‚
                </p>
            </div>

            <div class="algorithm-steps">
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h5>å­¦ä¹ ç‡è°ƒåº¦ï¼ˆLearning Rate Scheduleï¼‰</h5>
                        <p>Transformerä½¿ç”¨ç‰¹æ®Šçš„å­¦ä¹ ç‡è°ƒåº¦ç­–ç•¥</p>

                        <div class="math-display mt-3">
                            <p class="math-formula">
                                $lr = d_{model}^{-0.5} \cdot \min(step^{-0.5}, step \cdot warmup\_steps^{-1.5})$
                            </p>
                        </div>

                        <div class="demo-container mt-3">
                            <h6>Warmupçš„é‡è¦æ€§ï¼š</h6>
                            <ul>
                                <li>å¼€å§‹æ—¶å­¦ä¹ ç‡çº¿æ€§å¢é•¿ï¼ˆwarmupï¼‰</li>
                                <li>è¾¾åˆ°å³°å€¼åæŒ‰æ­¥æ•°å¹³æ–¹æ ¹è¡°å‡</li>
                                <li>é˜²æ­¢è®­ç»ƒåˆæœŸçš„ä¸ç¨³å®š</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h5>æ¢¯åº¦è£å‰ªï¼ˆGradient Clippingï¼‰</h5>
                        <p>é˜²æ­¢æ¢¯åº¦çˆ†ç‚¸</p>

                        <div class="code-block mt-3">
                            <div class="code-header">
                                <span class="code-lang">å®ç°ç¤ºä¾‹</span>
                            </div>
                            <div class="code-content">
                                <pre><span class="comment"># æ¢¯åº¦è£å‰ª</span>
torch.nn.utils.clip_grad_norm_(model.parameters(), max_norm=1.0)

<span class="comment"># ä¸ºä»€ä¹ˆé‡è¦ï¼Ÿ</span>
<span class="comment"># 1. Transformeræœ‰å¾ˆå¤šçŸ©é˜µä¹˜æ³•</span>
<span class="comment"># 2. æ·±å±‚ç½‘ç»œå®¹æ˜“æ¢¯åº¦çˆ†ç‚¸</span>
<span class="comment"># 3. æ³¨æ„åŠ›çš„softmaxå¯èƒ½äº§ç”Ÿæç«¯å€¼</span></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h5>æ ‡ç­¾å¹³æ»‘ï¼ˆLabel Smoothingï¼‰</h5>
                        <p>é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œæé«˜æ³›åŒ–èƒ½åŠ›</p>

                        <div class="info-card">
                            <h6>åŸç†ï¼š</h6>
                            <ul>
                                <li>ä¸ä½¿ç”¨ç¡¬æ ‡ç­¾[0, 0, 1, 0]</li>
                                <li>ä½¿ç”¨è½¯æ ‡ç­¾[0.025, 0.025, 0.9, 0.025]</li>
                                <li>é˜²æ­¢æ¨¡å‹è¿‡äºè‡ªä¿¡</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="deep-think-box mt-4">
                <h4>é«˜çº§è®­ç»ƒæŠ€å·§</h4>
                <div class="think-item">
                    <h5>ğŸ² Dropoutç­–ç•¥</h5>
                    <ul>
                        <li>æ³¨æ„åŠ›dropoutï¼šéšæœºä¸¢å¼ƒæ³¨æ„åŠ›æƒé‡</li>
                        <li>æ®‹å·®dropoutï¼šåœ¨æ®‹å·®è¿æ¥å‰</li>
                        <li>åµŒå…¥dropoutï¼šåœ¨ä½ç½®ç¼–ç å</li>
                        <li>å…¸å‹å€¼ï¼š0.1ï¼ˆä¸è¦å¤ªå¤§ï¼‰</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>âš¡ æ··åˆç²¾åº¦è®­ç»ƒ</h5>
                    <ul>
                        <li>ä½¿ç”¨FP16è®¡ç®—ï¼ŒFP32ç´¯ç§¯</li>
                        <li>é€Ÿåº¦æå‡2-3å€</li>
                        <li>éœ€è¦loss scalingé˜²æ­¢ä¸‹æº¢</li>
                    </ul>
                </div>
            </div>

            <div class="comparison-table mt-4">
                <table>
                    <thead>
                    <tr>
                        <th>æŠ€å·§</th>
                        <th>ç›®çš„</th>
                        <th>æ•ˆæœ</th>
                        <th>æ³¨æ„äº‹é¡¹</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>Warmup</td>
                        <td>ç¨³å®šåˆæœŸè®­ç»ƒ</td>
                        <td>âœ… å¿…è¦</td>
                        <td>4000æ­¥é€šå¸¸è¶³å¤Ÿ</td>
                    </tr>
                    <tr>
                        <td>æ¢¯åº¦ç´¯ç§¯</td>
                        <td>æ¨¡æ‹Ÿå¤§batch</td>
                        <td>âœ… å†…å­˜å—é™æ—¶</td>
                        <td>ç­‰æ•ˆäºå¤§batch</td>
                    </tr>
                    <tr>
                        <td>å±‚å½’ä¸€åŒ–</td>
                        <td>ç¨³å®šæ¿€æ´»å€¼</td>
                        <td>âœ… æ ‡é…</td>
                        <td>Pre-LN vs Post-LN</td>
                    </tr>
                    <tr>
                        <td>æƒé‡åˆå§‹åŒ–</td>
                        <td>é˜²æ­¢æ¢¯åº¦é—®é¢˜</td>
                        <td>âœ… Xavier/He</td>
                        <td>æ ¹æ®æ¿€æ´»å‡½æ•°é€‰æ‹©</td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="explore-box mt-4">
                <h4>è°ƒè¯•æŠ€å·§</h4>
                <p><strong>å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆï¼š</strong></p>
                <ol>
                    <li><strong>Lossä¸ä¸‹é™ï¼š</strong>
                        <ul>
                            <li>æ£€æŸ¥å­¦ä¹ ç‡ï¼ˆå¯èƒ½å¤ªå¤§æˆ–å¤ªå°ï¼‰</li>
                            <li>æ£€æŸ¥æ•°æ®é¢„å¤„ç†</li>
                            <li>å…ˆåœ¨å°æ•°æ®é›†ä¸Šè¿‡æ‹Ÿåˆ</li>
                        </ul>
                    </li>
                    <li><strong>æ¢¯åº¦çˆ†ç‚¸/æ¶ˆå¤±ï¼š</strong>
                        <ul>
                            <li>ä½¿ç”¨æ¢¯åº¦è£å‰ª</li>
                            <li>æ£€æŸ¥åˆå§‹åŒ–</li>
                            <li>å‡å°‘å±‚æ•°å…ˆè°ƒè¯•</li>
                        </ul>
                    </li>
                    <li><strong>æ˜¾å­˜ä¸è¶³ï¼š</strong>
                        <ul>
                            <li>æ¢¯åº¦ç´¯ç§¯</li>
                            <li>å‡å°åºåˆ—é•¿åº¦</li>
                            <li>ä½¿ç”¨æ··åˆç²¾åº¦</li>
                        </ul>
                    </li>
                </ol>
            </div>
        </section>

        <!-- å®é™…åº”ç”¨ -->
        <section id="applications" class="section-card">
            <h2>ğŸ’¼ å®é™…åº”ç”¨</h2>

            <div class="story-card">
                <span class="story-icon">ğŸŒ</span>
                <p><strong>æ”¹å˜ä¸–ç•Œçš„åº”ç”¨</strong></p>
                <p class="mt-2">
                    ä»æœºå™¨ç¿»è¯‘åˆ°ChatGPTï¼ŒTransformerå·²ç»æ¸—é€åˆ°NLPçš„æ–¹æ–¹é¢é¢ã€‚
                    è®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªæ¶æ„æ˜¯å¦‚ä½•æ”¹å˜ä¸–ç•Œçš„ã€‚
                </p>
            </div>

            <div class="card-grid">
                <div class="info-card">
                    <span class="card-icon">ğŸŒ</span>
                    <h4 class="card-title">æœºå™¨ç¿»è¯‘</h4>
                    <p>Transformerçš„ç¬¬ä¸€ä¸ªæ€æ‰‹çº§åº”ç”¨</p>
                    <ul class="mt-2">
                        <li>Googleç¿»è¯‘çš„æ ¸å¿ƒ</li>
                        <li>æ”¯æŒ100+è¯­è¨€</li>
                        <li>æ¥è¿‘äººç±»ç¿»è¯‘æ°´å¹³</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ’¬</span>
                    <h4 class="card-title">å¯¹è¯ç³»ç»Ÿ</h4>
                    <p>ChatGPTç­‰å¯¹è¯AIçš„åŸºç¡€</p>
                    <ul class="mt-2">
                        <li>ç†è§£ä¸Šä¸‹æ–‡</li>
                        <li>ç”Ÿæˆè¿è´¯å›å¤</li>
                        <li>å¤šè½®å¯¹è¯èƒ½åŠ›</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ“</span>
                    <h4 class="card-title">æ–‡æœ¬ç”Ÿæˆ</h4>
                    <p>åˆ›ä½œåŠ©æ‰‹å’Œå†…å®¹ç”Ÿæˆ</p>
                    <ul class="mt-2">
                        <li>æ–‡ç« å†™ä½œ</li>
                        <li>ä»£ç ç”Ÿæˆ</li>
                        <li>åˆ›æ„å†™ä½œ</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ”</span>
                    <h4 class="card-title">ä¿¡æ¯æŠ½å–</h4>
                    <p>ä»æ–‡æœ¬ä¸­æå–ç»“æ„åŒ–ä¿¡æ¯</p>
                    <ul class="mt-2">
                        <li>å‘½åå®ä½“è¯†åˆ«</li>
                        <li>å…³ç³»æŠ½å–</li>
                        <li>äº‹ä»¶æ£€æµ‹</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">â“</span>
                    <h4 class="card-title">é—®ç­”ç³»ç»Ÿ</h4>
                    <p>ç†è§£é—®é¢˜ï¼Œç²¾å‡†å›ç­”</p>
                    <ul class="mt-2">
                        <li>é˜…è¯»ç†è§£</li>
                        <li>çŸ¥è¯†é—®ç­”</li>
                        <li>å¤šè·³æ¨ç†</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ¯</span>
                    <h4 class="card-title">æ–‡æœ¬åˆ†ç±»</h4>
                    <p>æƒ…æ„Ÿåˆ†æå’Œä¸»é¢˜åˆ†ç±»</p>
                    <ul class="mt-2">
                        <li>æƒ…æ„Ÿåˆ†æ</li>
                        <li>åƒåœ¾é‚®ä»¶æ£€æµ‹</li>
                        <li>æ–°é—»åˆ†ç±»</li>
                    </ul>
                </div>
            </div>

            <div class="demo-container mt-4">
                <h3 class="mb-3">ğŸš€ ä»£è¡¨æ€§æ¨¡å‹æ—¶é—´çº¿</h3>

                <div class="algorithm-steps">
                    <div class="step-item">
                        <div class="step-number">2017</div>
                        <div class="step-content">
                            <h5>Transformer</h5>
                            <p>å¼€å±±ä¹‹ä½œï¼Œ"Attention is All You Need"</p>
                        </div>
                    </div>

                    <div class="step-item">
                        <div class="step-number">2018</div>
                        <div class="step-content">
                            <h5>BERT</h5>
                            <p>åŒå‘é¢„è®­ç»ƒï¼Œ11ä¸ªNLPä»»åŠ¡SOTA</p>
                        </div>
                    </div>

                    <div class="step-item">
                        <div class="step-number">2019</div>
                        <div class="step-content">
                            <h5>GPT-2</h5>
                            <p>å±•ç¤ºäº†å¤§è§„æ¨¡è¯­è¨€æ¨¡å‹çš„æ½œåŠ›</p>
                        </div>
                    </div>

                    <div class="step-item">
                        <div class="step-number">2020</div>
                        <div class="step-content">
                            <h5>GPT-3</h5>
                            <p>1750äº¿å‚æ•°ï¼Œfew-shotå­¦ä¹ èƒ½åŠ›</p>
                        </div>
                    </div>

                    <div class="step-item">
                        <div class="step-number">2022</div>
                        <div class="step-content">
                            <h5>ChatGPT</h5>
                            <p>å¯¹è¯å¼AIï¼Œæ”¹å˜äººæœºäº¤äº’</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="think-box mt-4">
                <h4>ğŸ¤” åº”ç”¨ä¸­çš„æŒ‘æˆ˜</h4>
                <ul>
                    <li><strong>è®¡ç®—æˆæœ¬ï¼š</strong>O(nÂ²)çš„å¤æ‚åº¦é™åˆ¶äº†åºåˆ—é•¿åº¦</li>
                    <li><strong>å¯è§£é‡Šæ€§ï¼š</strong>é»‘ç›’æ¨¡å‹ï¼Œéš¾ä»¥è§£é‡Šå†³ç­–è¿‡ç¨‹</li>
                    <li><strong>åè§é—®é¢˜ï¼š</strong>å¯èƒ½å­¦ä¹ åˆ°è®­ç»ƒæ•°æ®ä¸­çš„åè§</li>
                    <li><strong>å¹»è§‰é—®é¢˜ï¼š</strong>æœ‰æ—¶ä¼šç”Ÿæˆçœ‹ä¼¼åˆç†ä½†é”™è¯¯çš„å†…å®¹</li>
                </ul>
            </div>
        </section>

        <!-- BERTä¸GPT -->
        <section id="bert-gpt" class="section-card">
            <h2>ğŸ­ BERTä¸GPTï¼šä¸¤å¤§æµæ´¾</h2>

            <div class="story-card">
                <span class="story-icon">âš”ï¸</span>
                <p><strong>ä¸¤ç§å“²å­¦ï¼Œå„æœ‰åƒç§‹</strong></p>
                <p class="mt-2">
                    BERTå’ŒGPTä»£è¡¨äº†Transformerçš„ä¸¤ç§ä½¿ç”¨å“²å­¦ï¼š
                    ä¸€ä¸ªè¿½æ±‚æ·±åº¦ç†è§£ï¼ˆç¼–ç å™¨ï¼‰ï¼Œä¸€ä¸ªè¿½æ±‚æµç•…ç”Ÿæˆï¼ˆè§£ç å™¨ï¼‰ã€‚
                </p>
            </div>

            <div class="comparison-table">
                <table>
                    <thead>
                    <tr>
                        <th>ç‰¹æ€§</th>
                        <th>BERTï¼ˆç¼–ç å™¨ï¼‰</th>
                        <th>GPTï¼ˆè§£ç å™¨ï¼‰</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>æ¶æ„</td>
                        <td>åªç”¨Transformerç¼–ç å™¨</td>
                        <td>åªç”¨Transformerè§£ç å™¨</td>
                    </tr>
                    <tr>
                        <td>æ³¨æ„åŠ›</td>
                        <td>åŒå‘ï¼ˆçœ‹åˆ°å…¨éƒ¨ä¸Šä¸‹æ–‡ï¼‰</td>
                        <td>å•å‘ï¼ˆåªçœ‹åˆ°å·¦ä¾§ä¸Šä¸‹æ–‡ï¼‰</td>
                    </tr>
                    <tr>
                        <td>é¢„è®­ç»ƒä»»åŠ¡</td>
                        <td>æ©ç è¯­è¨€æ¨¡å‹ï¼ˆMLMï¼‰</td>
                        <td>ä¸‹ä¸€è¯é¢„æµ‹ï¼ˆLMï¼‰</td>
                    </tr>
                    <tr>
                        <td>æ“…é•¿ä»»åŠ¡</td>
                        <td>ç†è§£ç±»ï¼ˆåˆ†ç±»ã€é—®ç­”ï¼‰</td>
                        <td>ç”Ÿæˆç±»ï¼ˆå†™ä½œã€å¯¹è¯ï¼‰</td>
                    </tr>
                    <tr>
                        <td>ä»£è¡¨æ¨¡å‹</td>
                        <td>BERT, RoBERTa, ELECTRA</td>
                        <td>GPT-2, GPT-3, ChatGPT</td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="deep-think-box mt-4">
                <h4>BERTï¼šåŒå‘ç†è§£çš„è‰ºæœ¯</h4>
                <div class="think-item">
                    <h5>ğŸ¯ æ©ç è¯­è¨€æ¨¡å‹ï¼ˆMLMï¼‰</h5>
                    <p>è®­ç»ƒæ–¹å¼ï¼š</p>
                    <ul>
                        <li>è¾“å…¥ï¼š"æˆ‘çˆ±[MASK]ä¸­å›½"</li>
                        <li>ç›®æ ‡ï¼šé¢„æµ‹[MASK]æ˜¯"åƒ"è¿˜æ˜¯"çœ‹"è¿˜æ˜¯å…¶ä»–</li>
                        <li>æ•ˆæœï¼šå­¦ä¼šç†è§£ä¸Šä¸‹æ–‡</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>ğŸ’¡ ä¸ºä»€ä¹ˆåŒå‘å¾ˆé‡è¦ï¼Ÿ</h5>
                    <p>è€ƒè™‘ï¼š"é“¶è¡Œ"è¿™ä¸ªè¯</p>
                    <ul>
                        <li>"æˆ‘å»é“¶è¡Œå­˜é’±" â†’ é‡‘èæœºæ„</li>
                        <li>"æˆ‘åœ¨æ²³å²¸è¾¹é’“é±¼" â†’ æ²³å²¸</li>
                        <li>éœ€è¦çœ‹åˆ°æ•´ä¸ªå¥å­æ‰èƒ½ç†è§£</li>
                    </ul>
                </div>
            </div>

            <div class="deep-think-box mt-4">
                <h4>GPTï¼šç”Ÿæˆçš„é­”æ³•</h4>
                <div class="think-item">
                    <h5>ğŸ”® è‡ªå›å½’ç”Ÿæˆ</h5>
                    <p>ç”Ÿæˆè¿‡ç¨‹ï¼š</p>
                    <ul>
                        <li>è¾“å…¥ï¼š"ä»Šå¤©å¤©æ°”"</li>
                        <li>é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ï¼š"å¾ˆ"</li>
                        <li>è¾“å…¥ï¼š"ä»Šå¤©å¤©æ°”å¾ˆ"</li>
                        <li>é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ï¼š"å¥½"</li>
                        <li>æŒç»­ç”Ÿæˆ...</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>ğŸš€ è§„æ¨¡çš„åŠ›é‡</h5>
                    <ul>
                        <li>GPT-2: 15äº¿å‚æ•°</li>
                        <li>GPT-3: 1750äº¿å‚æ•°</li>
                        <li>å‘ç°ï¼šè§„æ¨¡è¶Šå¤§ï¼Œèƒ½åŠ›è¶Šå¼º</li>
                        <li>æ¶Œç°èƒ½åŠ›ï¼šfew-shotå­¦ä¹ </li>
                    </ul>
                </div>
            </div>

            <div class="code-block mt-4">
                <div class="code-header">
                    <span class="code-lang">æ¦‚å¿µå¯¹æ¯”ï¼šBERT vs GPT</span>
                </div>
                <div class="code-content">
                    <pre><span class="comment"># BERTçš„è®­ç»ƒ</span>
è¾“å…¥: "The [MASK] sat on the mat"
ä»»åŠ¡: é¢„æµ‹[MASK]æ˜¯ä»€ä¹ˆï¼ˆcat? dog? bird?ï¼‰
ä¼˜åŠ¿: å¯ä»¥çœ‹åˆ°"sat"å’Œ"mat"ï¼Œæ›´å¥½åœ°æ¨æ–­

<span class="comment"># GPTçš„è®­ç»ƒ</span>
è¾“å…¥: "The cat"
ä»»åŠ¡: é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ï¼ˆsat? ran? jumped?ï¼‰
ä¼˜åŠ¿: è‡ªç„¶çš„ç”Ÿæˆé¡ºåºï¼Œé€‚åˆåˆ›ä½œ

<span class="comment"># ä½¿ç”¨åœºæ™¯</span>
BERTé€‚åˆ:
- æ–‡æœ¬åˆ†ç±»ï¼š"è¿™æ˜¯åƒåœ¾é‚®ä»¶å—ï¼Ÿ"
- é—®ç­”ï¼š"æ–‡ç« ä¸­è°å‘æ˜äº†ç”µè¯ï¼Ÿ"
- æƒ…æ„Ÿåˆ†æï¼š"è¿™æ¡è¯„è®ºæ˜¯æ­£é¢çš„å—ï¼Ÿ"

GPTé€‚åˆ:
- æ–‡æœ¬ç”Ÿæˆï¼š"ç»­å†™è¿™ä¸ªæ•…äº‹..."
- å¯¹è¯ï¼š"å›ç­”ç”¨æˆ·çš„é—®é¢˜"
- ä»£ç ç”Ÿæˆï¼š"å†™ä¸€ä¸ªæ’åºå‡½æ•°"</pre>
                </div>
            </div>

            <div class="explore-box mt-4">
                <h4>èåˆçš„è¶‹åŠ¿</h4>
                <p><strong>æœ€æ–°å‘å±•ï¼š</strong></p>
                <ul>
                    <li><strong>T5ï¼š</strong>ç»Ÿä¸€çš„æ–‡æœ¬åˆ°æ–‡æœ¬æ¡†æ¶</li>
                    <li><strong>BARTï¼š</strong>ç»“åˆBERTå’ŒGPTçš„ä¼˜ç‚¹</li>
                    <li><strong>GLMï¼š</strong>è‡ªå›å½’ç©ºç™½å¡«å……</li>
                </ul>
                <p class="mt-3"><strong>è¶‹åŠ¿ï¼š</strong>ç•Œé™è¶Šæ¥è¶Šæ¨¡ç³Šï¼Œè¿½æ±‚é€šç”¨èƒ½åŠ›</p>
            </div>

            <div class="tip info mt-4">
                <span class="tip-icon">ğŸ’¡</span>
                <strong>é€‰æ‹©å»ºè®®</strong>
                <p class="mt-2">
                    å¦‚æœä½ çš„ä»»åŠ¡éœ€è¦æ·±åº¦ç†è§£ï¼ˆå¦‚æƒ…æ„Ÿåˆ†æã€ä¿¡æ¯æŠ½å–ï¼‰ï¼Œé€‰æ‹©BERTç±»æ¨¡å‹ã€‚
                    å¦‚æœéœ€è¦ç”Ÿæˆèƒ½åŠ›ï¼ˆå¦‚å¯¹è¯ã€åˆ›ä½œï¼‰ï¼Œé€‰æ‹©GPTç±»æ¨¡å‹ã€‚
                    å½“ç„¶ï¼Œç°åœ¨çš„å¤§æ¨¡å‹æ­£åœ¨èåˆä¸¤è€…çš„ä¼˜ç‚¹ï¼
                </p>
            </div>
        </section>

        <!-- æœ¬ç« æ€»ç»“ -->
        <section id="summary" class="section-card">
            <h2>ğŸ“š æœ¬ç« æ€»ç»“</h2>

            <div class="story-card">
                <span class="story-icon">ğŸ“</span>
                <p><strong>å›é¡¾ä¸å±•æœ›</strong></p>
                <p class="mt-2">
                    æˆ‘ä»¬ä¸€èµ·èµ°è¿‡äº†Transformerçš„è¯ç”Ÿã€åŸç†å’Œåº”ç”¨ã€‚
                    è¿™ä¸ªä¼˜é›…çš„æ¶æ„ä¸ä»…è§£å†³äº†RNNçš„é—®é¢˜ï¼Œæ›´å¼€å¯äº†AIçš„æ–°æ—¶ä»£ã€‚
                </p>
            </div>

            <div class="deep-think-box">
                <h4>æ ¸å¿ƒè¦ç‚¹å›é¡¾</h4>
                <div class="think-item">
                    <h5>ğŸ¯ æ³¨æ„åŠ›æœºåˆ¶</h5>
                    <ul>
                        <li>æœ¬è´¨ï¼šè½¯å­—å…¸æŸ¥è¯¢ï¼ˆQã€Kã€Vï¼‰</li>
                        <li>ä¼˜åŠ¿ï¼šå¹¶è¡Œè®¡ç®—ï¼Œç›´æ¥å»ºæ¨¡ä¾èµ–</li>
                        <li>å…¬å¼ï¼šAttention(Q,K,V) = softmax(QK^T/âˆšd_k)V</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>ğŸ—ï¸ Transformeræ¶æ„</h5>
                    <ul>
                        <li>å¤šå¤´æ³¨æ„åŠ›ï¼šå¤šè§’åº¦ç†è§£ä¿¡æ¯</li>
                        <li>ä½ç½®ç¼–ç ï¼šæä¾›åºåˆ—ä¿¡æ¯</li>
                        <li>æ®‹å·®+å½’ä¸€åŒ–ï¼šç¨³å®šæ·±å±‚ç½‘ç»œ</li>
                        <li>å‰é¦ˆç½‘ç»œï¼šå¢åŠ éçº¿æ€§</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>ğŸ’ª å…³é”®ä¼˜åŠ¿</h5>
                    <ul>
                        <li>å®Œå…¨å¹¶è¡ŒåŒ–ï¼šè®­ç»ƒæ•ˆç‡é«˜</li>
                        <li>é•¿è·ç¦»ä¾èµ–ï¼šä¸å†æ˜¯é—®é¢˜</li>
                        <li>å¯è§£é‡Šæ€§ï¼šæ³¨æ„åŠ›æƒé‡å¯è§†åŒ–</li>
                        <li>è¿ç§»èƒ½åŠ›ï¼šé¢„è®­ç»ƒ-å¾®è°ƒèŒƒå¼</li>
                    </ul>
                </div>
            </div>

            <div class="algorithm-steps mt-4">
                <h3 class="mb-3">å­¦ä¹ è·¯å¾„å»ºè®®</h3>

                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h5>ç†è§£åŸºç¡€</h5>
                        <ul>
                            <li>æ·±å…¥ç†è§£æ³¨æ„åŠ›æœºåˆ¶</li>
                            <li>æ‰‹åŠ¨å®ç°ç®€å•çš„Transformer</li>
                            <li>å¯è§†åŒ–æ³¨æ„åŠ›æƒé‡</li>
                        </ul>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h5>å®è·µåº”ç”¨</h5>
                        <ul>
                            <li>ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹ï¼ˆHugging Faceï¼‰</li>
                            <li>åœ¨è‡ªå·±çš„ä»»åŠ¡ä¸Šå¾®è°ƒ</li>
                            <li>æ¯”è¾ƒä¸åŒæ¨¡å‹çš„æ•ˆæœ</li>
                        </ul>
                    </div>
                </div>

                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h5>æ·±å…¥ç ”ç©¶</h5>
                        <ul>
                            <li>é˜…è¯»åŸå§‹è®ºæ–‡</li>
                            <li>äº†è§£æœ€æ–°å˜ä½“ï¼ˆReformerã€Linformerç­‰ï¼‰</li>
                            <li>æ¢ç´¢å¤šæ¨¡æ€Transformer</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="tip success mt-4">
                <span class="tip-icon">ğŸ‰</span>
                <strong>æ­å–œä½ ï¼</strong>
                <p class="mt-2">
                    ä½ å·²ç»æŒæ¡äº†å½“ä»ŠAIæœ€é‡è¦çš„æ¶æ„ä¹‹ä¸€ã€‚Transformerä¸ä»…æ˜¯ä¸€ä¸ªæ¨¡å‹ï¼Œ
                    æ›´æ˜¯ä¸€ç§æ€æƒ³â€”â€”è®©æœºå™¨å­¦ä¼š"æ³¨æ„"ã€‚ç»§ç»­æ¢ç´¢ï¼Œæœªæ¥å±äºä½ ï¼
                </p>
            </div>
        </section>

        <!-- æœªæ¥å±•æœ› -->
        <section id="future" class="section-card">
            <h2>ğŸ”® æœªæ¥å±•æœ›</h2>

            <div class="story-card">
                <span class="story-icon">ğŸš€</span>
                <p><strong>ä¸‹ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
                <p class="mt-2">
                    Transformerå·²ç»ç»Ÿæ²»äº†NLPï¼Œä½†è¿™åªæ˜¯å¼€å§‹ã€‚
                    è®©æˆ‘ä»¬å±•æœ›ä¸€ä¸‹æ¿€åŠ¨äººå¿ƒçš„æœªæ¥ã€‚
                </p>
            </div>

            <div class="card-grid">
                <div class="info-card">
                    <span class="card-icon">ğŸ¨</span>
                    <h4 class="card-title">å¤šæ¨¡æ€Transformer</h4>
                    <p>ç»Ÿä¸€å¤„ç†æ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘</p>
                    <ul class="mt-2">
                        <li>CLIPï¼šæ–‡æœ¬-å›¾åƒå¯¹é½</li>
                        <li>DALL-Eï¼šæ–‡æœ¬ç”Ÿæˆå›¾åƒ</li>
                        <li>Flamingoï¼šè§†è§‰è¯­è¨€ç†è§£</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">âš¡</span>
                    <h4 class="card-title">é«˜æ•ˆTransformer</h4>
                    <p>è§£å†³O(nÂ²)å¤æ‚åº¦é—®é¢˜</p>
                    <ul class="mt-2">
                        <li>Linear Transformer</li>
                        <li>Sparse Transformer</li>
                        <li>Flash Attention</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ§ </span>
                    <h4 class="card-title">è¶…å¤§è§„æ¨¡æ¨¡å‹</h4>
                    <p>è¿½æ±‚AGIçš„é“è·¯</p>
                    <ul class="mt-2">
                        <li>ä¸‡äº¿å‚æ•°æ¨¡å‹</li>
                        <li>æ¶Œç°èƒ½åŠ›ç ”ç©¶</li>
                        <li>æ€ç»´é“¾æ¨ç†</li>
                    </ul>
                </div>
            </div>

            <div class="explore-box mt-4">
                <h4>ç ”ç©¶å‰æ²¿</h4>
                <ol>
                    <li><strong>é•¿åºåˆ—å¤„ç†ï¼š</strong>
                        <ul>
                            <li>å¤„ç†æ•´æœ¬ä¹¦ã€é•¿è§†é¢‘</li>
                            <li>æ— é™é•¿åº¦çš„è®°å¿†æœºåˆ¶</li>
                        </ul>
                    </li>
                    <li><strong>å¯è§£é‡Šæ€§ï¼š</strong>
                        <ul>
                            <li>ç†è§£æ¨¡å‹çš„"æ€è€ƒ"è¿‡ç¨‹</li>
                            <li>å¯æ§ç”Ÿæˆ</li>
                        </ul>
                    </li>
                    <li><strong>æŒç»­å­¦ä¹ ï¼š</strong>
                        <ul>
                            <li>ä¸é—å¿˜æ—§çŸ¥è¯†</li>
                            <li>å¿«é€Ÿé€‚åº”æ–°ä»»åŠ¡</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <div class="deep-think-box mt-4">
                <h4>æ€è€ƒï¼šTransformerçš„å±€é™ä¸çªç ´</h4>
                <div class="think-item">
                    <h5>ğŸ¤” å½“å‰å±€é™</h5>
                    <ul>
                        <li>äºŒæ¬¡å¤æ‚åº¦é™åˆ¶åºåˆ—é•¿åº¦</li>
                        <li>ç¼ºä¹çœŸæ­£çš„æ¨ç†èƒ½åŠ›</li>
                        <li>éœ€è¦æµ·é‡æ•°æ®å’Œè®¡ç®—</li>
                        <li>éš¾ä»¥å¤„ç†ç»“æ„åŒ–çŸ¥è¯†</li>
                    </ul>
                </div>
                <div class="think-item">
                    <h5>ğŸ’¡ å¯èƒ½çš„çªç ´</h5>
                    <ul>
                        <li>ç¥ç»ç¬¦å·ç»“åˆ</li>
                        <li>å› æœæ¨ç†èƒ½åŠ›</li>
                        <li>å°æ ·æœ¬å­¦ä¹ </li>
                        <li>ä¸çŸ¥è¯†å›¾è°±ç»“åˆ</li>
                    </ul>
                </div>
            </div>

            <div class="tip info mt-4">
                <span class="tip-icon">ğŸŒŸ</span>
                <strong>ä½ çš„æœºä¼š</strong>
                <p class="mt-2">
                    Transformerçš„æ•…äº‹è¿˜åœ¨ç»§ç»­ä¹¦å†™ã€‚ä¹Ÿè®¸ä¸‹ä¸€ä¸ªçªç ´å°±æ¥è‡ªäºä½ ï¼
                    ä¿æŒå¥½å¥‡å¿ƒï¼Œå‹‡äºåˆ›æ–°ï¼ŒAIçš„æœªæ¥å……æ»¡æ— é™å¯èƒ½ã€‚
                </p>
            </div>

            <div class="text-center mt-4">
                <h3 style="color: var(--primary-light); margin-bottom: 1rem;">
                    "Attention is All You Need"
                </h3>
                <p style="font-size: 1.1rem; color: var(--text-secondary);">
                    â€”â€” ä½†è¿™ä»…ä»…æ˜¯å¼€å§‹
                </p>
            </div>
        </section>
    </div>
</main>

<!-- JavaScriptäº¤äº’ -->
<script>
    // ä¾§è¾¹æ åˆ‡æ¢
    const sidebar = document.getElementById('sidebar');
    const toggleBtn = document.getElementById('toggle-sidebar');

    toggleBtn.addEventListener('click', () => {
        sidebar.classList.toggle('open');
    });

    // è¿›åº¦æ¡
    function updateProgressBar() {
        const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrolled = (winScroll / height) * 100;
        document.getElementById("progress-bar").style.width = scrolled + "%";
    }

    window.addEventListener('scroll', updateProgressBar);

    // ç›®å½•é«˜äº®
    const sections = document.querySelectorAll('section[id]');
    const tocItems = document.querySelectorAll('.toc-item');

    function highlightTOC() {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (scrollY >= sectionTop - 200) {
                current = section.getAttribute('id');
            }
        });

        tocItems.forEach(item => {
            item.classList.remove('active');
            if (item.getAttribute('href') === `#${current}`) {
                item.classList.add('active');
            }
        });
    }

    window.addEventListener('scroll', highlightTOC);

    // å¿«é€Ÿå¯¼èˆª
    const quickNavItems = document.querySelectorAll('.quick-nav-item');

    quickNavItems.forEach(item => {
        item.addEventListener('click', () => {
            const section = item.getAttribute('data-section');
            document.getElementById(section).scrollIntoView({ behavior: 'smooth' });
        });
    });

    // ä»£ç å±•å¼€/æŠ˜å 
    function toggleCode(btn) {
        const codeContent = btn.closest('.code-block').querySelector('.code-content');
        codeContent.classList.toggle('collapsed');
        btn.textContent = codeContent.classList.contains('collapsed') ? 'å±•å¼€' : 'æŠ˜å ';
    }

    // ä»£ç å¤åˆ¶
    function copyCode(btn) {
        const code = btn.closest('.code-block').querySelector('pre').textContent;
        navigator.clipboard.writeText(code).then(() => {
            const originalText = btn.textContent;
            btn.textContent = 'å·²å¤åˆ¶!';
            setTimeout(() => {
                btn.textContent = originalText;
            }, 2000);
        });
    }

    // ä¸»é¢˜åˆ‡æ¢ï¼ˆç®€å•å®ç°ï¼‰
    const themeToggle = document.getElementById('theme-toggle');
    let isDark = true;

    themeToggle.addEventListener('click', () => {
        isDark = !isDark;
        themeToggle.textContent = isDark ? 'ğŸŒ™' : 'â˜€ï¸';
        // è¿™é‡Œå¯ä»¥æ·»åŠ æ›´å¤šä¸»é¢˜åˆ‡æ¢é€»è¾‘
    });

    // é¡µé¢åŠ è½½åŠ¨ç”»
    window.addEventListener('load', () => {
        document.body.style.opacity = '1';
    });
</script>

</body>
</html>