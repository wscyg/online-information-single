<meta charset="UTF-8">
<!-- 第2章容器 - 数学工具箱 -->
<div id="chapter-2" class="chapter-container active">
    <!-- 章节头部 - 数学主题的酷炫设计 -->
    <div style="background: linear-gradient(135deg, rgba(6, 182, 212, 0.2), rgba(14, 165, 233, 0.1)); border-radius: 24px; padding: 3rem; margin-bottom: 3rem; position: relative; overflow: hidden; border: 1px solid rgba(6, 182, 212, 0.3);">
        <!-- 数学公式背景动画 -->
        <div style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(6, 182, 212, 0.05) 0%, transparent 70%); animation: math-pulse 15s ease-in-out infinite;"></div>
        <div style="position: absolute; top: -30px; right: -30px; font-size: 6rem; opacity: 0.1; transform: rotate(-15deg);">∑</div>
        <div style="position: absolute; bottom: -20px; left: -20px; font-size: 4rem; opacity: 0.08; transform: rotate(25deg);">∫</div>

        <div style="position: relative; z-index: 2;">
            <h1 style="font-size: 2.8rem; margin-bottom: 1.5rem; background: linear-gradient(45deg, #06b6d4, #0891b2, #0e7490); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-align: center;">
                第2章：数学工具箱
            </h1>
            <p style="font-size: 1.3rem; color: #cbd5e1; text-align: center; margin-bottom: 2rem; line-height: 1.6;">
                把抽象的想法变成具体的代码 —— 我们需要什么数学武器？
            </p>
            <div style="display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap;">
                <span style="background: rgba(6, 182, 212, 0.2); color: #06b6d4; padding: 0.8rem 1.5rem; border-radius: 25px; font-weight: bold; display: flex; align-items: center; gap: 0.5rem;">
                    🧮 <span>数学基础</span>
                </span>
                <span style="background: rgba(139, 92, 246, 0.2); color: #8b5cf6; padding: 0.8rem 1.5rem; border-radius: 25px; font-weight: bold; display: flex; align-items: center; gap: 0.5rem;">
                    ⏱️ <span>45分钟</span>
                </span>
                <span style="background: rgba(34, 197, 94, 0.2); color: #22c55e; padding: 0.8rem 1.5rem; border-radius: 25px; font-weight: bold; display: flex; align-items: center; gap: 0.5rem;">
                    🎯 <span>可视化学习</span>
                </span>
            </div>
        </div>
    </div>

    <div class="chapter-content">
        <!-- 🎬 故事承接 - 从第一章自然过渡 -->
        <div style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(124, 58, 237, 0.1)); border-radius: 24px; padding: 3rem; margin-bottom: 4rem; position: relative; overflow: hidden; border: 2px solid rgba(139, 92, 246, 0.2);">
            <div style="position: absolute; top: -10px; right: -10px; font-size: 4rem; opacity: 0.1;">🔗</div>

            <div style="text-align: center; margin-bottom: 3rem;">
                <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(124, 58, 237, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(139, 92, 246, 0.4);">
                    <span style="font-size: 2rem;">🎬</span>
                    <h2 style="color: #8b5cf6; margin: 0; font-size: 1.8rem; font-weight: bold;">同一天晚上，研究室里...</h2>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, rgba(30, 41, 59, 0.8), rgba(15, 23, 42, 0.9)); border-radius: 20px; padding: 3rem; border: 1px solid rgba(139, 92, 246, 0.3);">
                <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 2rem; align-items: center; margin-bottom: 2rem;">
                    <div style="text-align: center;">
                        <div style="width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, #06b6d4, #0891b2); display: flex; align-items: center; justify-content: center; font-size: 2rem; margin: 0 auto 1rem; box-shadow: 0 8px 25px rgba(6, 182, 212, 0.3);">
                            🤔
                        </div>
                        <div style="color: #cbd5e1; font-size: 1.1rem;">
                            <strong style="color: #06b6d4;">深思的博士生</strong><br>
                            "我懂了想法，但是..."
                        </div>
                    </div>

                    <div style="color: #8b5cf6; font-size: 2rem;">💭</div>

                    <div style="text-align: center;">
                        <div style="width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, #f59e0b, #d97706); display: flex; align-items: center; justify-content: center; font-size: 2rem; margin: 0 auto 1rem; box-shadow: 0 8px 25px rgba(245, 158, 11, 0.3);">
                            📝
                        </div>
                        <div style="color: #cbd5e1; font-size: 1.1rem;">
                            <strong style="color: #f59e0b;">急切的同学</strong><br>
                            "如何用代码实现？"
                        </div>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.1)); padding: 2.5rem; border-radius: 16px; border: 1px solid rgba(239, 68, 68, 0.3); text-align: center;">
                    <div style="font-size: 1.3rem; color: #ef4444; font-weight: bold; margin-bottom: 1rem;">现实问题来了...</div>
                    <p style="color: #f1f5f9; font-size: 1.1rem; line-height: 1.7; margin: 0;">
                        "让每个词关注所有词"这个想法很棒，但具体怎么用计算机来实现呢？<br>
                        我们需要什么数学工具来表达这种"关注"关系？
                    </p>
                </div>
            </div>
        </div>

        <!-- 🤔 问题探索 - 为什么需要数学？ -->
        <div style="background: linear-gradient(135deg, rgba(251, 191, 36, 0.15), rgba(245, 158, 11, 0.1)); border-radius: 24px; padding: 3rem; margin-bottom: 4rem; border: 2px solid rgba(251, 191, 36, 0.2); position: relative; overflow: hidden;">
            <div style="position: absolute; top: -25px; right: -25px; font-size: 6rem; opacity: 0.08; transform: rotate(15deg);">❓</div>

            <div style="text-align: center; margin-bottom: 3rem;">
                <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(245, 158, 11, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(251, 191, 36, 0.4);">
                    <span style="font-size: 2rem;">🤔</span>
                    <h2 style="color: #fbbf24; margin: 0; font-size: 1.8rem; font-weight: bold;">让我们具体化这个问题</h2>
                </div>
            </div>

            <!-- 具体场景分析 -->
            <div style="background: rgba(255, 255, 255, 0.08); border-radius: 20px; padding: 2.5rem; margin-bottom: 3rem; border: 1px solid rgba(251, 191, 36, 0.3);">
                <h3 style="color: #fbbf24; margin-bottom: 2rem; font-size: 1.4rem; text-align: center;">🎯 我们要用计算机做什么？</h3>

                <!-- 输入输出示例 -->
                <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 2rem; align-items: center; margin: 2rem 0;">
                    <div style="text-align: center;">
                        <div style="background: rgba(34, 197, 94, 0.2); padding: 2rem; border-radius: 16px; border: 1px solid rgba(34, 197, 94, 0.3);">
                            <div style="color: #22c55e; font-weight: bold; font-size: 1.2rem; margin-bottom: 1rem;">输入</div>
                            <div style="font-size: 1.1rem; color: #f1f5f9; margin-bottom: 1rem;">"我 爱 吃 苹果"</div>
                            <div style="color: #64748b; font-size: 0.9rem;">4个词，需要表示为数字</div>
                        </div>
                    </div>

                    <div style="font-size: 2.5rem; color: #fbbf24;">?</div>

                    <div style="text-align: center;">
                        <div style="background: rgba(139, 92, 246, 0.2); padding: 2rem; border-radius: 16px; border: 1px solid rgba(139, 92, 246, 0.3);">
                            <div style="color: #8b5cf6; font-weight: bold; font-size: 1.2rem; margin-bottom: 1rem;">输出</div>
                            <div style="font-size: 1.1rem; color: #f1f5f9; margin-bottom: 1rem;">每个词对其他词的关注度</div>
                            <div style="color: #64748b; font-size: 0.9rem;">数字矩阵表示关系</div>
                        </div>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(245, 158, 11, 0.1)); padding: 2rem; border-radius: 16px; border: 1px solid rgba(251, 191, 36, 0.3); text-align: center;">
                    <div style="font-size: 1.4rem; color: #fbbf24; font-weight: bold; margin-bottom: 1rem;">核心挑战</div>
                    <p style="color: #f1f5f9; font-size: 1.1rem; line-height: 1.6; margin: 0;">
                        计算机只认识数字，不认识文字。我们需要用数学的方式来表达：<br>
                        <span style="color: #fbbf24; font-weight: bold;">"我对苹果的关注度是0.8，对吃的关注度是0.3..."</span>
                    </p>
                </div>
            </div>
        </div>

        <!-- 📊 第一个数学工具：向量表示 -->
        <div style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(16, 185, 129, 0.1)); border-radius: 24px; padding: 3rem; margin-bottom: 4rem; border: 2px solid rgba(34, 197, 94, 0.2); position: relative; overflow: hidden;">
            <div style="position: absolute; top: -20px; right: -20px; font-size: 6rem; opacity: 0.08; transform: rotate(-10deg);">📊</div>

            <div style="text-align: center; margin-bottom: 3rem;">
                <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(16, 185, 129, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(34, 197, 94, 0.4);">
                    <span style="font-size: 2rem;">📊</span>
                    <h2 style="color: #22c55e; margin: 0; font-size: 1.8rem; font-weight: bold;">工具一：向量 - 数字的有序列表</h2>
                </div>
            </div>

            <!-- 向量的直观解释 -->
            <div style="background: rgba(255, 255, 255, 0.08); border-radius: 20px; padding: 2.5rem; margin-bottom: 3rem; border: 1px solid rgba(34, 197, 94, 0.3);">
                <h3 style="color: #22c55e; margin-bottom: 2rem; font-size: 1.4rem; text-align: center;">🎯 为什么需要向量？</h3>

                <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 2rem; align-items: center; margin: 2rem 0;">
                    <!-- 问题场景 -->
                    <div style="background: rgba(239, 68, 68, 0.1); padding: 2rem; border-radius: 16px; border: 1px solid rgba(239, 68, 68, 0.3); text-align: center;">
                        <div style="font-size: 1.5rem; margin-bottom: 1rem;">😵</div>
                        <h4 style="color: #ef4444; margin-bottom: 1rem;">困惑状态</h4>
                        <p style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.5; margin: 0;">
                            "苹果"这个词...<br>
                            计算机完全不懂<br>
                            无法处理
                        </p>
                    </div>

                    <div style="font-size: 3rem; color: #22c55e; animation: transform-arrow 2s ease-in-out infinite;">→</div>

                    <!-- 解决方案 -->
                    <div style="background: rgba(34, 197, 94, 0.1); padding: 2rem; border-radius: 16px; border: 1px solid rgba(34, 197, 94, 0.3); text-align: center;">
                        <div style="font-size: 1.5rem; margin-bottom: 1rem;">✨</div>
                        <h4 style="color: #22c55e; margin-bottom: 1rem;">向量表示</h4>
                        <p style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.5; margin: 0;">
                            "苹果" = [0.2, 0.8, 0.1, 0.9]<br>
                            数字列表<br>
                            计算机可以处理
                        </p>
                    </div>
                </div>

                <!-- 具体向量示例 -->
                <div style="background: linear-gradient(135deg, rgba(15, 23, 42, 0.8), rgba(30, 41, 59, 0.6)); border-radius: 16px; padding: 2.5rem; border: 1px solid rgba(34, 197, 94, 0.3);">
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <div style="color: #22c55e; font-weight: bold; font-size: 1.3rem;">🔍 让我们看看具体的向量长什么样</div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem;">
                        <!-- 苹果向量 -->
                        <div style="background: rgba(34, 197, 94, 0.1); padding: 1.5rem; border-radius: 12px; border: 1px solid rgba(34, 197, 94, 0.3); text-align: center;">
                            <div style="color: #22c55e; font-weight: bold; margin-bottom: 1rem;">苹果</div>
                            <div style="font-family: 'Courier New', monospace; font-size: 0.9rem; color: #cbd5e1; line-height: 1.4;">
                                [0.2, 0.8, 0.1, 0.9]
                            </div>
                            <div style="color: #64748b; font-size: 0.8rem; margin-top: 0.5rem;">
                                水果特征强
                            </div>
                        </div>

                        <!-- 汽车向量 -->
                        <div style="background: rgba(79, 70, 229, 0.1); padding: 1.5rem; border-radius: 12px; border: 1px solid rgba(79, 70, 229, 0.3); text-align: center;">
                            <div style="color: #4f46e5; font-weight: bold; margin-bottom: 1rem;">汽车</div>
                            <div style="font-family: 'Courier New', monospace; font-size: 0.9rem; color: #cbd5e1; line-height: 1.4;">
                                [0.9, 0.1, 0.8, 0.2]
                            </div>
                            <div style="color: #64748b; font-size: 0.8rem; margin-top: 0.5rem;">
                                交通特征强
                            </div>
                        </div>

                        <!-- 跑步向量 -->
                        <div style="background: rgba(251, 191, 36, 0.1); padding: 1.5rem; border-radius: 12px; border: 1px solid rgba(251, 191, 36, 0.3); text-align: center;">
                            <div style="color: #fbbf24; font-weight: bold; margin-bottom: 1rem;">跑步</div>
                            <div style="font-family: 'Courier New', monospace; font-size: 0.9rem; color: #cbd5e1; line-height: 1.4;">
                                [0.1, 0.2, 0.9, 0.7]
                            </div>
                            <div style="color: #64748b; font-size: 0.8rem; margin-top: 0.5rem;">
                                运动特征强
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(34, 197, 94, 0.1); padding: 2rem; border-radius: 16px; border: 1px solid rgba(34, 197, 94, 0.3); margin-top: 2rem; text-align: center;">
                        <div style="color: #22c55e; font-weight: bold; margin-bottom: 0.5rem;">💡 关键洞察</div>
                        <p style="color: #cbd5e1; font-size: 1rem; line-height: 1.6; margin: 0;">
                            每个数字位置代表一种特征（比如：水果性、交通性、运动性、食物性）<br>
                            数字大小表示该词具有这种特征的程度
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 🔄 第二个数学工具：矩阵运算 -->
        <div style="background: linear-gradient(135deg, rgba(79, 70, 229, 0.15), rgba(67, 56, 202, 0.1)); border-radius: 24px; padding: 3rem; margin-bottom: 4rem; border: 2px solid rgba(79, 70, 229, 0.2); position: relative; overflow: hidden;">
            <div style="position: absolute; top: -20px; right: -20px; font-size: 6rem; opacity: 0.08; transform: rotate(10deg);">⊗</div>

            <div style="text-align: center; margin-bottom: 3rem;">
                <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(79, 70, 229, 0.2), rgba(67, 56, 202, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(79, 70, 229, 0.4);">
                    <span style="font-size: 2rem;">⊗</span>
                    <h2 style="color: #4f46e5; margin: 0; font-size: 1.8rem; font-weight: bold;">工具二：矩阵 - 向量的集合体</h2>
                </div>
            </div>

            <!-- 从单个向量到矩阵的过渡 -->
            <div style="background: rgba(255, 255, 255, 0.08); border-radius: 20px; padding: 2.5rem; margin-bottom: 3rem; border: 1px solid rgba(79, 70, 229, 0.3);">
                <h3 style="color: #4f46e5; margin-bottom: 2rem; font-size: 1.4rem; text-align: center;">🤔 但是我们有多个词怎么办？</h3>

                <!-- 问题展示 -->
                <div style="background: linear-gradient(135deg, rgba(15, 23, 42, 0.8), rgba(30, 41, 59, 0.6)); border-radius: 16px; padding: 2rem; border: 1px solid rgba(79, 70, 229, 0.3); margin-bottom: 2rem;">
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <div style="color: #fbbf24; font-weight: bold; font-size: 1.2rem;">句子："我 爱 吃 苹果"</div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1.5rem;">
                        <div style="text-align: center;">
                            <div style="background: rgba(239, 68, 68, 0.2); padding: 1rem; border-radius: 8px; border: 1px solid rgba(239, 68, 68, 0.3); margin-bottom: 0.5rem;">
                                <div style="color: #ef4444; font-weight: bold;">我</div>
                            </div>
                            <div style="font-family: 'Courier New', monospace; font-size: 0.8rem; color: #cbd5e1;">
                                [0.1, 0.2, 0.8, 0.1]
                            </div>
                        </div>

                        <div style="text-align: center;">
                            <div style="background: rgba(34, 197, 94, 0.2); padding: 1rem; border-radius: 8px; border: 1px solid rgba(34, 197, 94, 0.3); margin-bottom: 0.5rem;">
                                <div style="color: #22c55e; font-weight: bold;">爱</div>
                            </div>
                            <div style="font-family: 'Courier New', monospace; font-size: 0.8rem; color: #cbd5e1;">
                                [0.3, 0.7, 0.9, 0.2]
                            </div>
                        </div>

                        <div style="text-align: center;">
                            <div style="background: rgba(251, 191, 36, 0.2); padding: 1rem; border-radius: 8px; border: 1px solid rgba(251, 191, 36, 0.3); margin-bottom: 0.5rem;">
                                <div style="color: #fbbf24; font-weight: bold;">吃</div>
                            </div>
                            <div style="font-family: 'Courier New', monospace; font-size: 0.8rem; color: #cbd5e1;">
                                [0.5, 0.1, 0.6, 0.8]
                            </div>
                        </div>

                        <div style="text-align: center;">
                            <div style="background: rgba(139, 92, 246, 0.2); padding: 1rem; border-radius: 8px; border: 1px solid rgba(139, 92, 246, 0.3); margin-bottom: 0.5rem;">
                                <div style="color: #8b5cf6; font-weight: bold;">苹果</div>
                            </div>
                            <div style="font-family: 'Courier New', monospace; font-size: 0.8rem; color: #cbd5e1;">
                                [0.2, 0.8, 0.1, 0.9]
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 矩阵解决方案 -->
                <div style="text-align: center; margin: 2rem 0;">
                    <div style="font-size: 2rem; color: #4f46e5; margin-bottom: 1rem;">↓</div>
                    <div style="display: inline-flex; align-items: center; gap: 1rem; background: rgba(79, 70, 229, 0.2); padding: 1rem 2rem; border-radius: 20px; border: 1px solid rgba(79, 70, 229, 0.4);">
                        <span style="font-size: 1.3rem;">💡</span>
                        <span style="color: #4f46e5; font-weight: bold; font-size: 1.1rem;">把所有向量放到一个矩阵里！</span>
                    </div>
                </div>

                <!-- 矩阵可视化 -->
                <div style="background: linear-gradient(135deg, rgba(79, 70, 229, 0.2), rgba(67, 56, 202, 0.1)); padding: 2.5rem; border-radius: 16px; border: 1px solid rgba(79, 70, 229, 0.3); text-align: center;">
                    <div style="color: #4f46e5; font-weight: bold; font-size: 1.3rem; margin-bottom: 2rem;">🎯 矩阵表示</div>

                    <div style="display: inline-block; background: rgba(15, 23, 42, 0.8); padding: 2rem; border-radius: 12px; border: 1px solid rgba(79, 70, 229, 0.4);">
                        <div style="font-family: 'Courier New', monospace; color: #f1f5f9; font-size: 1rem; line-height: 1.8;">
                            <span style="color: #ef4444;">我：</span>   [0.1, 0.2, 0.8, 0.1]<br>
                            <span style="color: #22c55e;">爱：</span>   [0.3, 0.7, 0.9, 0.2]<br>
                            <span style="color: #fbbf24;">吃：</span>   [0.5, 0.1, 0.6, 0.8]<br>
                            <span style="color: #8b5cf6;">苹果：</span> [0.2, 0.8, 0.1, 0.9]
                        </div>
                    </div>

                    <div style="margin-top: 2rem; color: #cbd5e1; font-size: 1rem;">
                        <strong style="color: #4f46e5;">4×4矩阵：</strong> 4个词，每个词用4维向量表示
                    </div>
                </div>
            </div>
        </div>

        <!-- 🎯 第三个数学工具：关注度计算 -->
        <div style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.1)); border-radius: 24px; padding: 3rem; margin-bottom: 4rem; border: 2px solid rgba(239, 68, 68, 0.2); position: relative; overflow: hidden;">
            <div style="position: absolute; top: -20px; right: -20px; font-size: 6rem; opacity: 0.08; transform: rotate(-15deg);">🎯</div>

            <div style="text-align: center; margin-bottom: 3rem;">
                <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(220, 38, 38, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(239, 68, 68, 0.4);">
                    <span style="font-size: 2rem;">🎯</span>
                    <h2 style="color: #ef4444; margin: 0; font-size: 1.8rem; font-weight: bold;">工具三：相似度计算 - 谁和谁更相关？</h2>
                </div>
            </div>

            <!-- 相似度问题的提出 -->
            <div style="background: rgba(255, 255, 255, 0.08); border-radius: 20px; padding: 2.5rem; margin-bottom: 3rem; border: 1px solid rgba(239, 68, 68, 0.3);">
                <h3 style="color: #ef4444; margin-bottom: 2rem; font-size: 1.4rem; text-align: center;">🤔 现在的关键问题</h3>

                <div style="background: linear-gradient(135deg, rgba(15, 23, 42, 0.8), rgba(30, 41, 59, 0.6)); border-radius: 16px; padding: 2rem; border: 1px solid rgba(239, 68, 68, 0.3); margin-bottom: 2rem; text-align: center;">
                    <div style="color: #fbbf24; font-weight: bold; font-size: 1.3rem; margin-bottom: 1.5rem;">
                        如何计算"我"对"苹果"的关注度？
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr auto 1fr auto 1fr; gap: 1rem; align-items: center;">
                        <div style="background: rgba(239, 68, 68, 0.2); padding: 1rem; border-radius: 8px; border: 1px solid rgba(239, 68, 68, 0.3);">
                            <div style="color: #ef4444; font-weight: bold; margin-bottom: 0.5rem;">我</div>
                            <div style="font-family: 'Courier New', monospace; font-size: 0.8rem; color: #cbd5e1;">
                                [0.1, 0.2, 0.8, 0.1]
                            </div>
                        </div>

                        <div style="color: #fbbf24; font-size: 1.5rem;">+</div>

                        <div style="background: rgba(139, 92, 246, 0.2); padding: 1rem; border-radius: 8px; border: 1px solid rgba(139, 92, 246, 0.3);">
                            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 0.5rem;">苹果</div>
                            <div style="font-family: 'Courier New', monospace; font-size: 0.8rem; color: #cbd5e1;">
                                [0.2, 0.8, 0.1, 0.9]
                            </div>
                        </div>

                        <div style="color: #fbbf24; font-size: 1.5rem;">=</div>

                        <div style="background: rgba(34, 197, 94, 0.2); padding: 1rem; border-radius: 8px; border: 1px solid rgba(34, 197, 94, 0.3);">
                            <div style="color: #22c55e; font-weight: bold; margin-bottom: 0.5rem;">关注度</div>
                            <div style="color: #22c55e; font-size: 1.2rem; font-weight: bold;">
                                ？
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 点积的引入 -->
                <div style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(16, 185, 129, 0.1)); padding: 2.5rem; border-radius: 16px; border: 1px solid rgba(34, 197, 94, 0.3);">
                    <h4 style="color: #22c55e; text-align: center; margin-bottom: 2rem; font-size: 1.3rem;">✨ 解决方案：点积（Dot Product）</h4>

                    <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 2rem; align-items: center;">
                        <!-- 公式 -->
                        <div style="text-align: center;">
                            <div style="background: rgba(15, 23, 42, 0.8); padding: 2rem; border-radius: 12px; border: 1px solid rgba(34, 197, 94, 0.4);">
                                <div style="color: #22c55e; font-weight: bold; margin-bottom: 1rem;">数学公式</div>
                                <div style="font-family: 'Times New Roman', serif; font-size: 1.3rem; color: #f1f5f9; margin-bottom: 1rem;">
                                    a · b = a₁b₁ + a₂b₂ + a₃b₃ + a₄b₄
                                </div>
                                <div style="color: #64748b; font-size: 0.9rem;">向量元素对应相乘再相加</div>
                            </div>
                        </div>

                        <div style="font-size: 2rem; color: #22c55e;">→</div>

                        <!-- 具体计算 -->
                        <div style="text-align: center;">
                            <div style="background: rgba(15, 23, 42, 0.8); padding: 2rem; border-radius: 12px; border: 1px solid rgba(34, 197, 94, 0.4);">
                                <div style="color: #22c55e; font-weight: bold; margin-bottom: 1rem;">具体计算</div>
                                <div style="font-family: 'Courier New', monospace; font-size: 0.9rem; color: #f1f5f9; line-height: 1.5;">
                                    0.1×0.2 + 0.2×0.8 +<br>
                                    0.8×0.1 + 0.1×0.9 =<br>
                                    <span style="color: #22c55e; font-weight: bold; font-size: 1.2rem;">0.37</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(34, 197, 94, 0.1); padding: 2rem; border-radius: 12px; border: 1px solid rgba(34, 197, 94, 0.3); margin-top: 2rem; text-align: center;">
                        <div style="color: #22c55e; font-weight: bold; margin-bottom: 0.5rem;">💡 点积的直观含义</div>
                        <p style="color: #cbd5e1; font-size: 1rem; line-height: 1.6; margin: 0;">
                            点积越大 = 两个向量越相似 = 关注度越高<br>
                            <span style="color: #22c55e;">0.37</span> 就是"我"对"苹果"的关注度分数！
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 🧩 综合应用：注意力矩阵 -->
        <div style="background: linear-gradient(135deg, rgba(6, 182, 212, 0.15), rgba(14, 165, 233, 0.1)); border-radius: 24px; padding: 3rem; margin-bottom: 4rem; border: 2px solid rgba(6, 182, 212, 0.2); position: relative; overflow: hidden;">
            <div style="position: absolute; top: -25px; right: -25px; font-size: 6rem; opacity: 0.08; transform: rotate(20deg);">🧩</div>

            <div style="text-align: center; margin-bottom: 3rem;">
                <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(6, 182, 212, 0.2), rgba(14, 165, 233, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(6, 182, 212, 0.4);">
                    <span style="font-size: 2rem;">🧩</span>
                    <h2 style="color: #06b6d4; margin: 0; font-size: 1.8rem; font-weight: bold;">把所有工具组合起来</h2>
                </div>
            </div>

            <!-- 完整的注意力矩阵计算 -->
            <div style="background: rgba(255, 255, 255, 0.08); border-radius: 20px; padding: 2.5rem; border: 1px solid rgba(6, 182, 212, 0.3);">
                <h3 style="color: #06b6d4; margin-bottom: 2rem; font-size: 1.4rem; text-align: center;">🎯 完整的注意力矩阵</h3>

                <!-- 计算过程可视化 -->
                <div style="background: linear-gradient(135deg, rgba(15, 23, 42, 0.8), rgba(30, 41, 59, 0.6)); border-radius: 16px; padding: 2.5rem; border: 1px solid rgba(6, 182, 212, 0.3);">
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <div style="color: #fbbf24; font-weight: bold; font-size: 1.2rem;">计算每个词对每个词的关注度</div>
                    </div>

                    <!-- 注意力矩阵表格 -->
                    <div style="overflow-x: auto; margin: 2rem 0;">
                        <table style="width: 100%; border-collapse: collapse; font-family: 'Courier New', monospace;">
                            <thead>
                            <tr style="background: rgba(6, 182, 212, 0.2);">
                                <th style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #06b6d4; font-weight: bold;"></th>
                                <th style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #06b6d4; font-weight: bold;">我</th>
                                <th style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #06b6d4; font-weight: bold;">爱</th>
                                <th style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #06b6d4; font-weight: bold;">吃</th>
                                <th style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #06b6d4; font-weight: bold;">苹果</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #06b6d4; font-weight: bold; background: rgba(6, 182, 212, 0.1);">我</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center; background: rgba(239, 68, 68, 0.1);">0.52</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center;">0.41</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center;">0.63</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center; background: rgba(34, 197, 94, 0.1);">0.37</td>
                            </tr>
                            <tr>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #06b6d4; font-weight: bold; background: rgba(6, 182, 212, 0.1);">爱</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center;">0.41</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center; background: rgba(239, 68, 68, 0.1);">0.87</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center;">0.72</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center; background: rgba(34, 197, 94, 0.1);">0.83</td>
                            </tr>
                            <tr>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #06b6d4; font-weight: bold; background: rgba(6, 182, 212, 0.1);">吃</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center;">0.63</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center;">0.72</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center; background: rgba(239, 68, 68, 0.1);">0.94</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center; background: rgba(34, 197, 94, 0.1);">0.89</td>
                            </tr>
                            <tr>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #06b6d4; font-weight: bold; background: rgba(6, 182, 212, 0.1);">苹果</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center;">0.37</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center; background: rgba(34, 197, 94, 0.1);">0.83</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center; background: rgba(34, 197, 94, 0.1);">0.89</td>
                                <td style="padding: 1rem; border: 1px solid rgba(6, 182, 212, 0.3); color: #f1f5f9; text-align: center; background: rgba(239, 68, 68, 0.1);">1.06</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 2rem;">
                        <div style="background: rgba(239, 68, 68, 0.1); padding: 1.5rem; border-radius: 12px; border: 1px solid rgba(239, 68, 68, 0.3);">
                            <div style="color: #ef4444; font-weight: bold; margin-bottom: 0.5rem;">🔍 对角线（红色）</div>
                            <p style="color: #cbd5e1; font-size: 0.9rem; margin: 0;">每个词对自己的关注度最高</p>
                        </div>

                        <div style="background: rgba(34, 197, 94, 0.1); padding: 1.5rem; border-radius: 12px; border: 1px solid rgba(34, 197, 94, 0.3);">
                            <div style="color: #22c55e; font-weight: bold; margin-bottom: 0.5rem;">🎯 高分区域（绿色）</div>
                            <p style="color: #cbd5e1; font-size: 0.9rem; margin: 0;">"爱-苹果"、"吃-苹果" 关注度很高</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 🔗 承接下章 - Q、K、V的预告 -->
        <div style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(124, 58, 237, 0.1)); border-radius: 24px; padding: 3rem; margin-bottom: 3rem; border: 2px solid rgba(139, 92, 246, 0.2); position: relative; overflow: hidden;">
            <div style="position: absolute; top: -20px; right: -20px; font-size: 6rem; opacity: 0.08; transform: rotate(10deg);">🔮</div>

            <div style="text-align: center; margin-bottom: 3rem;">
                <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(124, 58, 237, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(139, 92, 246, 0.4);">
                    <span style="font-size: 2rem;">🔮</span>
                    <h2 style="color: #8b5cf6; margin: 0; font-size: 1.8rem; font-weight: bold;">还差最后一步...</h2>
                </div>
            </div>

            <div style="background: rgba(255, 255, 255, 0.08); padding: 2.5rem; border-radius: 16px; margin-bottom: 2rem;">
                <p style="font-size: 1.2rem; line-height: 1.7; color: #e2e8f0; text-align: center; margin-bottom: 2rem;">
                    我们已经会计算关注度了，但真正的Transformer还有个神秘的秘密武器...
                </p>

                <div style="text-align: center; margin: 2rem 0;">
                    <div style="display: inline-flex; align-items: center; gap: 1rem; background: rgba(139, 92, 246, 0.2); padding: 1.5rem 2.5rem; border-radius: 20px; border: 1px solid rgba(139, 92, 246, 0.4);">
                        <span style="font-size: 1.5rem;">🤔</span>
                        <span style="color: #8b5cf6; font-weight: bold; font-size: 1.2rem;">什么是Q、K、V三个神秘矩阵？</span>
                    </div>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 2rem; align-items: center;">
                <div style="background: rgba(6, 182, 212, 0.1); padding: 2rem; border-radius: 16px; text-align: center; border: 1px solid rgba(6, 182, 212, 0.3);">
                    <div style="font-size: 1.2rem; font-weight: bold; color: #06b6d4; margin-bottom: 1rem;">✅ 第2章成果</div>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.5;">
                        • 掌握了向量表示方法<br>
                        • 理解了矩阵的作用<br>
                        • 学会了点积计算相似度<br>
                        • 构建了基础注意力矩阵
                    </div>
                </div>

                <div style="font-size: 3rem; color: #8b5cf6;">→</div>

                <div style="background: rgba(251, 191, 36, 0.1); padding: 2rem; border-radius: 16px; text-align: center; border: 1px solid rgba(251, 191, 36, 0.3);">
                    <div style="font-size: 1.2rem; font-weight: bold; color: #fbbf24; margin-bottom: 1rem;">🎯 第3章探索</div>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.5;">
                        • 理解注意力机制的直觉<br>
                        • 发现Q、K、V的奥秘<br>
                        • 从人类注意力到机器注意力<br>
                        • 构建完整的注意力系统
                    </div>
                </div>
            </div>

            <div style="background: rgba(139, 92, 246, 0.1); padding: 2rem; border-radius: 16px; border: 1px solid rgba(139, 92, 246, 0.3); margin-top: 2rem;">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <span style="font-size: 1.3rem;">💭</span>
                    <h4 style="color: #8b5cf6; margin: 0; font-size: 1.1rem;">思考题</h4>
                </div>
                <p style="color: #e2e8f0; font-size: 1rem; line-height: 1.6; margin: 0;">
                    我们现在的方法是直接计算词与词的相似度，但如果我想让模型更聪明地"提问"和"回答"，
                    比如"我"想问"谁是好吃的？"，"苹果"回答"我很好吃"，这种对话式的注意力要怎么实现？
                </p>
            </div>
        </div>

        <!-- 📚 本章总结 -->
        <div style="background: linear-gradient(135deg, rgba(79, 70, 229, 0.15), rgba(67, 56, 202, 0.1)); border-radius: 24px; padding: 3rem; margin-bottom: 2rem; border: 2px solid rgba(79, 70, 229, 0.2);">
            <h3 style="color: #4f46e5; margin-bottom: 2rem; font-size: 1.6rem; text-align: center; display: flex; align-items: center; justify-content: center; gap: 1rem;">
                <span>📚</span>
                <span>第2章数学工具总结</span>
            </h3>

            <div style="display: grid; gap: 2rem;">
                <div style="background: rgba(255, 255, 255, 0.08); padding: 2.5rem; border-radius: 16px; border-left: 4px solid #22c55e;">
                    <div style="display: flex; align-items: center; gap: 1.5rem; margin-bottom: 1rem;">
                        <div style="background: linear-gradient(135deg, #22c55e, #16a34a); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.1rem;">1</div>
                        <strong style="color: #22c55e; font-size: 1.3rem;">向量表示</strong>
                    </div>
                    <p style="color: #cbd5e1; margin-left: 3.5rem; font-size: 1rem; line-height: 1.6;">把文字转换为数字列表，让计算机能够处理语言</p>
                </div>

                <div style="background: rgba(255, 255, 255, 0.08); padding: 2.5rem; border-radius: 16px; border-left: 4px solid #4f46e5;">
                    <div style="display: flex; align-items: center; gap: 1.5rem; margin-bottom: 1rem;">
                        <div style="background: linear-gradient(135deg, #4f46e5, #3b37e6); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.1rem;">2</div>
                        <strong style="color: #4f46e5; font-size: 1.3rem;">矩阵操作</strong>
                    </div>
                    <p style="color: #cbd5e1; margin-left: 3.5rem; font-size: 1rem; line-height: 1.6;">把多个向量组织起来，支持批量并行计算</p>
                </div>

                <div style="background: rgba(255, 255, 255, 0.08); padding: 2.5rem; border-radius: 16px; border-left: 4px solid #ef4444;">
                    <div style="display: flex; align-items: center; gap: 1.5rem; margin-bottom: 1rem;">
                        <div style="background: linear-gradient(135deg, #ef4444, #dc2626); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.1rem;">3</div>
                        <strong style="color: #ef4444; font-size: 1.3rem;">相似度计算</strong>
                    </div>
                    <p style="color: #cbd5e1; margin-left: 3.5rem; font-size: 1rem; line-height: 1.6;">用点积测量向量相似度，量化词与词之间的关联程度</p>
                </div>

                <div style="background: rgba(255, 255, 255, 0.08); padding: 2.5rem; border-radius: 16px; border-left: 4px solid #06b6d4;">
                    <div style="display: flex; align-items: center; gap: 1.5rem; margin-bottom: 1rem;">
                        <div style="background: linear-gradient(135deg, #06b6d4, #0891b2); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.1rem;">4</div>
                        <strong style="color: #06b6d4; font-size: 1.3rem;">注意力矩阵</strong>
                    </div>
                    <p style="color: #cbd5e1; margin-left: 3.5rem; font-size: 1rem; line-height: 1.6;">构建完整的词与词关注度矩阵，实现全局关系建模</p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    @keyframes math-pulse {
        0%, 100% { opacity: 0.3; transform: scale(1); }
        50% { opacity: 0.6; transform: scale(1.1); }
    }

    @keyframes transform-arrow {
        0%, 100% { transform: translateX(0px); }
        50% { transform: translateX(10px); }
    }
</style>