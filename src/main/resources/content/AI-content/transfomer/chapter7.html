
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬7ç« ï¼šæ®‹å·®é“¾æ¥ä¸å½’ä¸€åŒ–</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            color: #e2e8f0;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes stability-wave {
            0%, 100% {
                background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(16, 185, 129, 0.05));
                border-color: rgba(34, 197, 94, 0.3);
            }
            50% {
                background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(16, 185, 129, 0.1));
                border-color: rgba(34, 197, 94, 0.5);
            }
        }

        @keyframes gradient-flow {
            0% { transform: translateX(0); }
            50% { transform: translateX(20px); }
            100% { transform: translateX(0); }
        }

        @keyframes data-normalize {
            0% {
                height: 80%;
                background: linear-gradient(to top, rgba(239, 68, 68, 0.6), rgba(239, 68, 68, 0.9));
                transform: scale(1.2);
            }
            50% {
                height: 50%;
                background: linear-gradient(to top, rgba(251, 191, 36, 0.6), rgba(251, 191, 36, 0.9));
                transform: scale(1.1);
            }
            100% {
                height: 30%;
                background: linear-gradient(to top, rgba(34, 197, 94, 0.6), rgba(34, 197, 94, 0.9));
                transform: scale(1);
            }
        }

        @keyframes matrix-highlight {
            0%, 100% { background: rgba(139, 92, 246, 0.1); }
            50% { background: rgba(139, 92, 246, 0.3); }
        }

        @keyframes matrix-pulse {
            0%, 100% {
                box-shadow: 0 0 20px rgba(34, 197, 94, 0.3);
                border-color: rgba(34, 197, 94, 0.5);
            }
            50% {
                box-shadow: 0 0 40px rgba(34, 197, 94, 0.6);
                border-color: rgba(34, 197, 94, 0.8);
            }
        }

        @keyframes calculation-highlight {
            0% { background: rgba(139, 92, 246, 0.1); }
            50% { background: rgba(139, 92, 246, 0.3); }
            100% { background: rgba(139, 92, 246, 0.1); }
        }

        /* å®¹å™¨æ ·å¼ */
        .chapter-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* ç« èŠ‚å¤´éƒ¨ */
        .chapter-header {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(16, 185, 129, 0.1));
            border-radius: 24px;
            padding: 3rem;
            margin-bottom: 3rem;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(34, 197, 94, 0.3);
            text-align: center;
        }

        .chapter-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(34, 197, 94, 0.1) 0%, transparent 70%);
            animation: gradient-flow 20s ease-in-out infinite;
        }

        .chapter-header h1 {
            font-size: 2.8rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(45deg, #22c55e, #16a34a, #15803d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            z-index: 2;
        }

        .chapter-header p {
            font-size: 1.3rem;
            color: #cbd5e1;
            margin-bottom: 2rem;
            position: relative;
            z-index: 2;
        }

        .meta-tags {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            position: relative;
            z-index: 2;
        }

        .meta-tag {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border: 1px solid rgba(34, 197, 94, 0.4);
        }

        /* ä¸»è¦åŒºå—æ ·å¼ */
        .solution-section {
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.8), rgba(30, 41, 59, 0.6));
            border-radius: 20px;
            padding: 2.5rem;
            margin: 3rem 0;
            border: 2px solid rgba(34, 197, 94, 0.2);
            position: relative;
            overflow: hidden;
            box-shadow: 0 16px 64px rgba(0, 0, 0, 0.3);
        }

        /* è§£å†³æ–¹æ¡ˆåŒºå— */
        .solution-discovery {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(16, 185, 129, 0.1));
            border: 2px solid rgba(34, 197, 94, 0.3);
            border-radius: 20px;
            padding: 2.5rem;
            margin: 2rem 0;
            position: relative;
            animation: stability-wave 6s infinite;
        }

        .solution-title {
            color: #22c55e;
            font-weight: bold;
            font-size: 1.4rem;
            margin-bottom: 1.5rem;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
        }

        /* çŸ©é˜µè®¡ç®—æ ·å¼ */
        .matrix-section {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(124, 58, 237, 0.1));
            border: 2px solid rgba(139, 92, 246, 0.4);
            border-radius: 20px;
            padding: 2.5rem;
            margin: 2rem 0;
            position: relative;
        }

        .matrix-title {
            color: #8b5cf6;
            font-weight: bold;
            font-size: 1.4rem;
            margin-bottom: 1.5rem;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
        }

        /* çŸ©é˜µæ˜¾ç¤ºæ ·å¼ */
        .matrix {
            display: inline-block;
            background: rgba(15, 23, 42, 0.9);
            border: 2px solid rgba(139, 92, 246, 0.4);
            border-radius: 8px;
            padding: 1rem;
            margin: 0.5rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            position: relative;
        }

        .matrix-animated {
            animation: matrix-pulse 3s infinite;
        }

        .matrix table {
            border-collapse: collapse;
            margin: 0;
        }

        .matrix td {
            padding: 0.3rem 0.6rem;
            text-align: center;
            border: 1px solid rgba(139, 92, 246, 0.2);
            min-width: 60px;
        }

        .matrix-label {
            position: absolute;
            top: -15px;
            left: 10px;
            background: rgba(139, 92, 246, 0.9);
            color: white;
            padding: 0.2rem 0.8rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* è®¡ç®—æ­¥éª¤æ ·å¼ */
        .calculation-step {
            background: rgba(15, 23, 42, 0.9);
            border: 1px solid rgba(34, 197, 94, 0.3);
            border-radius: 12px;
            padding: 2rem;
            margin: 1.5rem 0;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: linear-gradient(45deg, #22c55e, #16a34a);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 1rem;
            font-size: 0.9rem;
        }

        .step-title {
            color: #22c55e;
            font-weight: bold;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }

        /* æ•°å€¼ç¤ºä¾‹æ ·å¼ */
        .numerical-example {
            background: rgba(34, 197, 94, 0.1);
            border: 2px solid rgba(34, 197, 94, 0.3);
            border-radius: 12px;
            padding: 2rem;
            margin: 1.5rem 0;
        }

        .numerical-title {
            color: #22c55e;
            font-weight: bold;
            margin-bottom: 1rem;
            text-align: center;
        }

        /* æ•°å­¦å…¬å¼æ ·å¼ */
        .math-formula {
            background: rgba(15, 23, 42, 0.9);
            border: 2px solid rgba(139, 92, 246, 0.4);
            border-radius: 12px;
            padding: 2rem;
            margin: 1.5rem 0;
            text-align: center;
            font-family: 'JetBrains Mono', monospace;
        }

        .fraction {
            display: inline-block;
            text-align: center;
            vertical-align: middle;
            margin: 0 0.5rem;
        }

        .fraction .numerator {
            display: block;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 0.2rem;
            margin-bottom: 0.2rem;
        }

        .fraction .denominator {
            display: block;
            padding-top: 0.2rem;
        }

        /* å®éªŒæ•°æ®è¡¨æ ¼ */
        .data-table {
            background: rgba(15, 23, 42, 0.9);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            overflow-x: auto;
        }

        .data-table table {
            width: 100%;
            border-collapse: collapse;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
        }

        .data-table th {
            background: rgba(139, 92, 246, 0.3);
            color: #8b5cf6;
            padding: 1rem;
            border: 1px solid rgba(139, 92, 246, 0.3);
            font-weight: bold;
        }

        .data-table td {
            padding: 0.8rem;
            border: 1px solid rgba(71, 85, 105, 0.3);
            color: #cbd5e1;
            text-align: center;
        }

        .data-table .before-data {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
        }

        .data-table .after-data {
            background: rgba(34, 197, 94, 0.1);
            color: #22c55e;
        }

        .data-table .highlight {
            animation: matrix-highlight 2s infinite;
        }

        /* å±‚å½’ä¸€åŒ–å†å² */
        .history-timeline {
            background: rgba(15, 23, 42, 0.9);
            border-radius: 12px;
            padding: 2rem;
            margin: 1.5rem 0;
            position: relative;
        }

        .timeline-item {
            display: flex;
            align-items: center;
            margin: 1.5rem 0;
            position: relative;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 30px;
            top: 40px;
            width: 2px;
            height: 60px;
            background: linear-gradient(to bottom, rgba(139, 92, 246, 0.5), rgba(139, 92, 246, 0.2));
        }

        .timeline-item:last-child::before {
            display: none;
        }

        .timeline-dot {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-right: 2rem;
            flex-shrink: 0;
        }

        .timeline-content {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            padding: 1.5rem;
            border-radius: 8px;
        }

        /* å¯è§†åŒ–æ ·å¼ */
        .normalization-visual {
            background: rgba(15, 23, 42, 0.9);
            border-radius: 12px;
            padding: 2rem;
            border: 1px solid rgba(34, 197, 94, 0.3);
            margin: 1.5rem 0;
        }

        .distribution-chart {
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            height: 200px;
            background: rgba(30, 41, 59, 0.6);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .distribution-bar {
            width: 20px;
            border-radius: 2px;
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
        }

        .distribution-bar:hover {
            transform: scale(1.1);
        }

        .distribution-bar.normalize {
            animation: data-normalize 3s infinite;
        }

        .distribution-label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7rem;
            color: #64748b;
        }

        /* ä»£ç ç¤ºä¾‹æ ·å¼ */
        .code-example {
            background: rgba(15, 23, 42, 0.95);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
            font-family: 'JetBrains Mono', monospace;
            overflow-x: auto;
        }

        .code-example pre {
            margin: 0;
            color: #e2e8f0;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .code-highlight {
            color: #22c55e;
            font-weight: bold;
        }

        .code-comment {
            color: #64748b;
            font-style: italic;
        }

        .code-keyword {
            color: #8b5cf6;
        }

        .code-string {
            color: #fbbf24;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .chapter-container {
                padding: 1rem;
            }

            .chapter-header h1 {
                font-size: 2rem;
            }

            .meta-tags {
                flex-direction: column;
                align-items: center;
            }

            .solution-section {
                padding: 1.5rem;
            }

            .data-table {
                font-size: 0.8rem;
            }

            .matrix {
                font-size: 0.8rem;
            }

            .matrix td {
                padding: 0.2rem 0.4rem;
                min-width: 40px;
            }
        }
    </style>
</head>
<body>

<div class="chapter-container">
    <!-- ç« èŠ‚å¤´éƒ¨ -->
    <div class="chapter-header">
        <h1>ç¬¬7ç« ï¼šè®©è®­ç»ƒå˜ç¨³å®š</h1>
        <p>ä»ç†è®ºæ¨å¯¼åˆ°å®éªŒéªŒè¯ï¼šæ®‹å·®è¿æ¥ä¸å±‚å½’ä¸€åŒ–çš„ç§‘å­¦ä¹‹è·¯</p>
        <div class="meta-tags">
            <span class="meta-tag">
                ğŸ”§ <span>æ·±åº¦è§£æ</span>
            </span>
            <span class="meta-tag">
                â±ï¸ <span>120åˆ†é’Ÿ</span>
            </span>
            <span class="meta-tag">
                ğŸš€ <span>çªç ´æ€§è¿›å±•</span>
            </span>
            <span class="meta-tag">
                ğŸ§® <span>å®Œæ•´çŸ©é˜µæ¨å¯¼</span>
            </span>
        </div>
    </div>

    <!-- ğŸ”¥ é—®é¢˜é‡ç°ï¼šçœŸå®æ•°æ®è¯´è¯ -->
    <div class="solution-section" style="border-color: #ef4444;">
        <div style="text-align: center; margin-bottom: 3rem;">
            <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(220, 38, 38, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(239, 68, 68, 0.4);">
                <span style="font-size: 2rem;">ğŸ”¥</span>
                <h2 style="color: #ef4444; margin: 0; font-size: 1.8rem; font-weight: bold;">é—®é¢˜é‡ç°ï¼šè®­ç»ƒå´©æºƒçš„çœŸå®æ•°æ®</h2>
            </div>
        </div>

        <!-- å®é™…æ¢¯åº¦çˆ†ç‚¸æ•°æ® -->
        <div class="data-table">
            <div style="color: #ef4444; font-weight: bold; margin-bottom: 1rem; text-align: center;">ğŸ“Š 6å±‚Transformerè®­ç»ƒè¿‡ç¨‹ä¸­çš„æ¢¯åº¦å˜åŒ–</div>
            <table>
                <thead>
                <tr>
                    <th>è®­ç»ƒæ­¥æ•°</th>
                    <th>ç¬¬1å±‚æ¢¯åº¦èŒƒæ•°</th>
                    <th>ç¬¬3å±‚æ¢¯åº¦èŒƒæ•°</th>
                    <th>ç¬¬6å±‚æ¢¯åº¦èŒƒæ•°</th>
                    <th>æŸå¤±å€¼</th>
                    <th>çŠ¶æ€</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>100</td>
                    <td class="after-data">0.8</td>
                    <td class="after-data">0.9</td>
                    <td class="after-data">1.2</td>
                    <td class="after-data">4.2</td>
                    <td style="color: #22c55e;">æ­£å¸¸</td>
                </tr>
                <tr>
                    <td>500</td>
                    <td class="before-data">2.1</td>
                    <td class="before-data">8.7</td>
                    <td class="before-data highlight">15.3</td>
                    <td class="before-data">2.8</td>
                    <td style="color: #fbbf24;">å¼€å§‹ä¸ç¨³å®š</td>
                </tr>
                <tr>
                    <td>800</td>
                    <td class="before-data">0.01</td>
                    <td class="before-data">0.003</td>
                    <td class="before-data highlight">0.0001</td>
                    <td class="before-data">3.9</td>
                    <td style="color: #ef4444;">æ¢¯åº¦æ¶ˆå¤±</td>
                </tr>
                <tr>
                    <td>1200</td>
                    <td class="before-data">27.8</td>
                    <td class="before-data">189.2</td>
                    <td class="before-data highlight">1547.6</td>
                    <td class="before-data">NaN</td>
                    <td style="color: #ef4444;">å®Œå…¨å´©æºƒ</td>
                </tr>
                </tbody>
            </table>
        </div>

        <!-- çŸ©é˜µè§†è§’çš„æ¢¯åº¦çˆ†ç‚¸åˆ†æ -->
        <div class="matrix-section">
            <div class="matrix-title">
                <span>ğŸ§®</span>
                <span>çŸ©é˜µè§†è§’ï¼šæ¢¯åº¦çˆ†ç‚¸çš„æ•°å­¦æœ¬è´¨</span>
            </div>

            <div class="calculation-step">
                <div class="step-title">
                    <div class="step-number">1</div>
                    æ¢¯åº¦ä¼ æ’­çš„çŸ©é˜µè¿ä¹˜é—®é¢˜
                </div>

                <div style="text-align: center; margin: 2rem 0;">
                    <div style="color: #cbd5e1; margin-bottom: 1rem;">
                        å‡è®¾è¾“å…¥åºåˆ—é•¿åº¦ä¸º4ï¼Œéšè—ç»´åº¦ä¸º3ï¼Œæ¢¯åº¦ä¼ æ’­æ¶‰åŠé›…å¯æ¯”çŸ©é˜µè¿ä¹˜ï¼š
                    </div>

                    <div class="math-formula" style="background: rgba(239, 68, 68, 0.1); border-color: rgba(239, 68, 68, 0.3);">
                        <div style="color: #ef4444; font-size: 1.1rem;">
                            <div class="fraction">
                                <span class="numerator">âˆ‚L</span>
                                <span class="denominator">âˆ‚Xâ‚€</span>
                            </div>
                            =
                            <div class="fraction">
                                <span class="numerator">âˆ‚L</span>
                                <span class="denominator">âˆ‚Xâ‚†</span>
                            </div>
                            Ã—
                            <div class="fraction">
                                <span class="numerator">âˆ‚Xâ‚†</span>
                                <span class="denominator">âˆ‚Xâ‚…</span>
                            </div>
                            Ã— ... Ã—
                            <div class="fraction">
                                <span class="numerator">âˆ‚Xâ‚</span>
                                <span class="denominator">âˆ‚Xâ‚€</span>
                            </div>
                        </div>
                    </div>

                    <div class="numerical-example">
                        <div class="numerical-title">ğŸ”¢ å…·ä½“æ•°å€¼è®¡ç®—ç¤ºä¾‹</div>

                        <div style="text-align: center;">
                            <div style="color: #cbd5e1; margin-bottom: 1rem;">å‡è®¾æ¯å±‚çš„é›…å¯æ¯”çŸ©é˜µç‰¹å¾å€¼ä¸ºï¼š</div>

                            <div style="display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap; margin: 1rem 0;">
                                <div class="matrix">
                                    <div class="matrix-label">Jâ‚</div>
                                    <table>
                                        <tr><td>2.1</td><td>0.5</td><td>-0.3</td></tr>
                                        <tr><td>0.8</td><td>1.9</td><td>0.7</td></tr>
                                        <tr><td>-0.4</td><td>1.2</td><td>2.3</td></tr>
                                    </table>
                                </div>

                                <div style="color: #fbbf24; display: flex; align-items: center;">Ã—</div>

                                <div class="matrix">
                                    <div class="matrix-label">Jâ‚‚</div>
                                    <table>
                                        <tr><td>1.8</td><td>-0.6</td><td>0.9</td></tr>
                                        <tr><td>1.1</td><td>2.4</td><td>-0.8</td></tr>
                                        <tr><td>0.7</td><td>0.5</td><td>1.7</td></tr>
                                    </table>
                                </div>

                                <div style="color: #fbbf24; display: flex; align-items: center;">Ã— ...</div>
                            </div>

                            <div style="background: rgba(239, 68, 68, 0.1); padding: 1.5rem; border-radius: 8px; margin-top: 1rem;">
                                <div style="color: #ef4444; font-weight: bold; margin-bottom: 0.5rem;">è®¡ç®—ç»“æœï¼š</div>
                                <div style="color: #cbd5e1; font-size: 0.9rem;">
                                    æœ€å¤§ç‰¹å¾å€¼è¿ä¹˜ï¼š2.3 Ã— 2.4 Ã— 2.1 Ã— 1.9 Ã— 2.2 Ã— 2.0 â‰ˆ <strong style="color: #ef4444;">275.6</strong><br>
                                    æ¢¯åº¦æ”¾å¤§äº†275å€ï¼å¯¼è‡´å‚æ•°æ›´æ–°å¤±æ§ã€‚
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ•°æ®åˆ†å¸ƒæ¼‚ç§» -->
        <div class="data-table">
            <div style="color: #ef4444; font-weight: bold; margin-bottom: 1rem; text-align: center;">ğŸ“ˆ å„å±‚æ¿€æ´»å€¼ç»Ÿè®¡ï¼ˆè®­ç»ƒæ­¥æ•°=500ï¼‰</div>
            <table>
                <thead>
                <tr>
                    <th>ç½‘ç»œå±‚</th>
                    <th>å‡å€¼ (Î¼)</th>
                    <th>æ ‡å‡†å·® (Ïƒ)</th>
                    <th>æœ€å°å€¼</th>
                    <th>æœ€å¤§å€¼</th>
                    <th>åˆ†å¸ƒçŠ¶æ€</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>è¾“å…¥å±‚</td>
                    <td class="after-data">0.02</td>
                    <td class="after-data">0.98</td>
                    <td>-2.1</td>
                    <td>2.3</td>
                    <td style="color: #22c55e;">æ ‡å‡†æ­£æ€</td>
                </tr>
                <tr>
                    <td>ç¬¬2å±‚</td>
                    <td class="before-data">0.47</td>
                    <td class="before-data">1.85</td>
                    <td>-3.8</td>
                    <td>5.2</td>
                    <td style="color: #fbbf24;">è½»å¾®åç§»</td>
                </tr>
                <tr>
                    <td>ç¬¬4å±‚</td>
                    <td class="before-data highlight">1.23</td>
                    <td class="before-data highlight">4.67</td>
                    <td>-8.1</td>
                    <td>12.9</td>
                    <td style="color: #ef4444;">ä¸¥é‡åç§»</td>
                </tr>
                <tr>
                    <td>ç¬¬6å±‚</td>
                    <td class="before-data highlight">3.89</td>
                    <td class="before-data highlight">15.42</td>
                    <td>-31.7</td>
                    <td>47.3</td>
                    <td style="color: #ef4444;">å®Œå…¨å¤±æ§</td>
                </tr>
                </tbody>
            </table>
        </div>

        <div style="background: rgba(239, 68, 68, 0.1); padding: 2rem; border-radius: 12px; border: 1px solid rgba(239, 68, 68, 0.3); margin-top: 2rem; text-align: center;">
            <div style="color: #ef4444; font-weight: bold; margin-bottom: 1rem; font-size: 1.2rem;">ğŸ’¥ æ ¸å¿ƒé—®é¢˜ç¡®è®¤</div>
            <div style="color: #cbd5e1; font-size: 1rem; line-height: 1.8;">
                <strong style="color: #fbbf24;">æ¢¯åº¦çˆ†ç‚¸</strong>ï¼šæ·±å±‚æ¢¯åº¦è¶…è¿‡1000å€ï¼Œå‚æ•°æ›´æ–°å¤±æ§<br>
                <strong style="color: #8b5cf6;">åˆ†å¸ƒæ¼‚ç§»</strong>ï¼šæ¯å±‚æ•°æ®åˆ†å¸ƒå‰§çƒˆå˜åŒ–ï¼Œè®­ç»ƒç›®æ ‡ä¸æ–­"ç§»åŠ¨"<br>
                <strong style="color: #ef4444;">è®­ç»ƒå´©æºƒ</strong>ï¼šæœ€ç»ˆlosså˜ä¸ºNaNï¼Œè®­ç»ƒå®Œå…¨å¤±è´¥
            </div>
        </div>
    </div>

    <!-- ğŸ¤” æ€è€ƒè¿‡ç¨‹ï¼šæ®‹å·®è¿æ¥æ˜¯æ€ä¹ˆæƒ³åˆ°çš„ï¼Ÿ -->
    <div class="solution-section" style="border-color: #8b5cf6;">
        <div style="text-align: center; margin-bottom: 3rem;">
            <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(124, 58, 237, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(139, 92, 246, 0.4);">
                <span style="font-size: 2rem;">ğŸ¤”</span>
                <h2 style="color: #8b5cf6; margin: 0; font-size: 1.8rem; font-weight: bold;">æ€è€ƒå†ç¨‹ï¼šæ®‹å·®è¿æ¥æ˜¯æ€ä¹ˆæƒ³åˆ°çš„ï¼Ÿ</h2>
            </div>
        </div>

        <!-- æ€è€ƒçš„èµ·ç‚¹ -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸŒŸ ç§‘å­¦å‘ç°çš„èµ·ç‚¹ï¼šè§‚å¯Ÿä¸å›°æƒ‘</div>

            <div style="background: rgba(255, 255, 255, 0.05); padding: 2rem; border-radius: 8px;">
                <div style="color: #fbbf24; font-weight: bold; margin-bottom: 1rem;">ç ”ç©¶ç”Ÿçš„å›°æƒ‘æ—¶åˆ»ï¼š</div>
                <div style="color: #cbd5e1; font-size: 1rem; line-height: 1.8; font-style: italic;">
                    "å¥‡æ€ª... ç†è®ºä¸Šæ›´æ·±çš„ç½‘ç»œåº”è¯¥æ›´å¼ºå¤§æ‰å¯¹ã€‚18å±‚ç½‘ç»œåŒ…å«äº†6å±‚ç½‘ç»œçš„æ‰€æœ‰å¯èƒ½æ€§ï¼Œè¿˜æœ‰é¢å¤–çš„12å±‚æ¥å­¦ä¹ æ›´å¤æ‚çš„ç‰¹å¾ã€‚<br><br>

                    ä½†ä¸ºä»€ä¹ˆå®éªŒç»“æœå®Œå…¨ç›¸åï¼Ÿ6å±‚ç½‘ç»œæ€§èƒ½è¿˜ä¸é”™ï¼Œ12å±‚å°±å¼€å§‹å˜å·®ï¼Œ18å±‚ç›´æ¥è®­ç»ƒå¤±è´¥..."<br><br>

                    <strong style="color: #ef4444;">"æ˜¯ä¸æ˜¯æˆ‘ä»¬å¯¹æ·±åº¦ç½‘ç»œçš„ç†è§£æœ‰æ ¹æœ¬æ€§çš„é”™è¯¯ï¼Ÿ"</strong>
                </div>
            </div>
        </div>

        <!-- åˆæ­¥å°è¯•ä¸å¤±è´¥ -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #ef4444; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">âŒ åˆæ­¥å°è¯•ï¼šå¸¸è§„æ–¹æ³•çš„å¤±è´¥</div>

            <div style="display: grid; gap: 1.5rem;">
                <!-- å°è¯•1 -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px; border-left: 4px solid #ef4444;">
                    <h4 style="color: #ef4444; margin-bottom: 0.5rem;">ğŸ”§ å°è¯•1ï¼šè°ƒæ•´å­¦ä¹ ç‡</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        <strong>æƒ³æ³•</strong>ï¼šå¯èƒ½æ˜¯å­¦ä¹ ç‡å¤ªå¤§ï¼Œå¯¼è‡´æ¢¯åº¦çˆ†ç‚¸<br>
                        <strong>è¡ŒåŠ¨</strong>ï¼šå°†å­¦ä¹ ç‡ä»0.001é™åˆ°0.0001ï¼Œå†åˆ°0.00001<br>
                        <strong>ç»“æœ</strong>ï¼šå­¦ä¹ ç‡å°äº†ï¼Œæ¢¯åº¦çˆ†ç‚¸ç¼“è§£ï¼Œä½†ç°åœ¨å˜æˆæ¢¯åº¦æ¶ˆå¤±ï¼Œè®­ç»ƒææ…¢<br>
                        <strong style="color: #ef4444;">ç»“è®º</strong>ï¼šæ²»æ ‡ä¸æ²»æœ¬
                    </div>
                </div>

                <!-- å°è¯•2 -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px; border-left: 4px solid #ef4444;">
                    <h4 style="color: #ef4444; margin-bottom: 0.5rem;">âš–ï¸ å°è¯•2ï¼šç²¾å¿ƒåˆå§‹åŒ–æƒé‡</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        <strong>æƒ³æ³•</strong>ï¼šä¹Ÿè®¸æ˜¯Xavieråˆå§‹åŒ–ä¸é€‚åˆæ·±ç½‘ç»œ<br>
                        <strong>è¡ŒåŠ¨</strong>ï¼šå°è¯•Heåˆå§‹åŒ–ã€æ­£äº¤åˆå§‹åŒ–ã€å„ç§æ–¹å·®è°ƒæ•´<br>
                        <strong>ç»“æœ</strong>ï¼šæœ‰å¾®å°æ”¹å–„ï¼Œä½†æ·±å±‚ç½‘ç»œä¾ç„¶è®­ç»ƒå›°éš¾<br>
                        <strong style="color: #ef4444;">ç»“è®º</strong>ï¼šä»ç„¶ä¸æ˜¯æ ¹æœ¬è§£å†³æ–¹æ¡ˆ
                    </div>
                </div>

                <!-- å°è¯•3 -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px; border-left: 4px solid #ef4444;">
                    <h4 style="color: #ef4444; margin-bottom: 0.5rem;">ğŸ”„ å°è¯•3ï¼šæ¢¯åº¦è£å‰ª</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        <strong>æƒ³æ³•</strong>ï¼šäººä¸ºé™åˆ¶æ¢¯åº¦å¤§å°ï¼Œé˜²æ­¢çˆ†ç‚¸<br>
                        <strong>è¡ŒåŠ¨</strong>ï¼šå½“æ¢¯åº¦èŒƒæ•°>1æ—¶ï¼Œç¼©æ”¾åˆ°1<br>
                        <strong>ç»“æœ</strong>ï¼šè®­ç»ƒä¸å†å´©æºƒï¼Œä½†æ”¶æ•›ææ…¢ï¼Œæ€§èƒ½å¾ˆå·®<br>
                        <strong style="color: #ef4444;">ç»“è®º</strong>ï¼šåƒç»™è·‘è½¦è£…é™é€Ÿå™¨ï¼Œä¸æ˜¯æ­£ç¡®æ–¹å‘
                    </div>
                </div>
            </div>

            <div style="background: rgba(239, 68, 68, 0.1); padding: 1.5rem; border-radius: 8px; border: 1px solid rgba(239, 68, 68, 0.3); margin-top: 1.5rem; text-align: center;">
                <strong style="color: #ef4444; font-size: 1.1rem;">ğŸ’” æŒ«è´¥æ„Ÿï¼šæ‰€æœ‰å¸¸è§„æ–¹æ³•éƒ½å¤±è´¥äº†</strong><br>
                <span style="color: #cbd5e1;">è¿™äº›éƒ½æ˜¯"å¤´ç—›åŒ»å¤´ï¼Œè„šç—›åŒ»è„š"çš„åšæ³•ï¼Œæ²¡æœ‰è§¦åŠé—®é¢˜çš„æœ¬è´¨...</span>
            </div>
        </div>

        <!-- çµæ„Ÿæ—¶åˆ» -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #fbbf24; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ’¡ çµæ„Ÿæ¥è¢­ï¼šè·¨é¢†åŸŸçš„å¯å‘</div>

            <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 2rem; align-items: center; margin-bottom: 2rem;">
                <div style="text-align: center;">
                    <div style="width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, #8b5cf6, #7c3aed); display: flex; align-items: center; justify-content: center; font-size: 2rem; margin: 0 auto 1rem; box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3);">
                        ğŸ“š
                    </div>
                    <div style="color: #cbd5e1; font-size: 1rem;">
                        <strong style="color: #8b5cf6;">æ·±å¤œé˜…è¯»</strong><br>
                        è®¡ç®—æœºè§†è§‰è®ºæ–‡
                    </div>
                </div>

                <div style="color: #fbbf24; font-size: 2rem;">âš¡</div>

                <div style="text-align: center;">
                    <div style="width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, #fbbf24, #f59e0b); display: flex; align-items: center; justify-content: center; font-size: 2rem; margin: 0 auto 1rem; box-shadow: 0 8px 25px rgba(251, 191, 36, 0.3);">
                        ğŸ—ï¸
                    </div>
                    <div style="color: #cbd5e1; font-size: 1rem;">
                        <strong style="color: #fbbf24;">ResNetè®ºæ–‡</strong><br>
                        152å±‚ç½‘ç»œæˆåŠŸ
                    </div>
                </div>
            </div>

            <div style="background: rgba(251, 191, 36, 0.1); padding: 2rem; border-radius: 8px; border: 1px solid rgba(251, 191, 36, 0.3);">
                <div style="color: #fbbf24; font-weight: bold; margin-bottom: 1rem;">ğŸ’­ å…³é”®æ´å¯Ÿæ—¶åˆ»ï¼š</div>
                <div style="color: #cbd5e1; font-size: 1rem; line-height: 1.8; font-style: italic;">
                    "ç­‰ç­‰... 2015å¹´çš„ResNetè®ºæ–‡è¯´ä»–ä»¬è®­ç»ƒäº†152å±‚çš„ç½‘ç»œï¼Ÿè¿™ä¸å¯èƒ½ï¼ä»–ä»¬æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ"<br><br>

                    <strong style="color: #22c55e;">é˜…è¯»ResNetæ ¸å¿ƒæ€æƒ³</strong>ï¼š<br>
                    "æˆ‘ä»¬è®©ç½‘ç»œå­¦ä¹ æ®‹å·®å‡½æ•°F(x)ï¼Œè€Œä¸æ˜¯ç›´æ¥å­¦ä¹ ç›®æ ‡æ˜ å°„H(x)ã€‚<br>
                    æœ€ç»ˆè¾“å‡ºæ˜¯ H(x) = F(x) + x"<br><br>

                    <strong style="color: #8b5cf6;">"è¿™ä¸ª'+x'..."</strong> çªç„¶çœ¼å‰ä¸€äº®ï¼
                </div>
            </div>
        </div>

        <!-- æ€ç»´è·³è·ƒçš„è¿‡ç¨‹ -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #22c55e; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ§  æ€ç»´è·³è·ƒï¼šä»è§†è§‰åˆ°è¯­è¨€</div>

            <div style="display: grid; gap: 1.5rem;">
                <!-- ç¬¬ä¸€æ­¥æ€è€ƒ -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #06b6d4; margin-bottom: 1rem;">ğŸ¤” ç¬¬ä¸€æ­¥ï¼šç†è§£ResNetçš„ç²¾é«“</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        <strong>åŸç†åˆ†æ</strong>ï¼šResNetä¸æ˜¯è®©ç½‘ç»œä»é›¶å­¦ä¹ H(x)ï¼Œè€Œæ˜¯å­¦ä¹ æ®‹å·®F(x) = H(x) - x<br>
                        <strong>æ•°å­¦å«ä¹‰</strong>ï¼šå¦‚æœç†æƒ³æ˜ å°„æ¥è¿‘æ’ç­‰æ˜ å°„ï¼Œé‚£ä¹ˆå­¦ä¹ F(x)â‰ˆ0æ¯”å­¦ä¹ H(x)â‰ˆxæ›´å®¹æ˜“<br>
                        <strong>å…³é”®ç‚¹</strong>ï¼šè¿™ä¸ª"+x"ä¿è¯äº†æ¢¯åº¦èƒ½å¤Ÿç›´æ¥ä¼ æ’­ï¼
                    </div>
                </div>

                <!-- ç¬¬äºŒæ­¥æ€è€ƒ -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #8b5cf6; margin-bottom: 1rem;">ğŸ’­ ç¬¬äºŒæ­¥ï¼šç±»æ¯”åˆ°Transformer</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        <strong>å…³é”®é—®é¢˜</strong>ï¼šCNNå’ŒTransformerè™½ç„¶ç»“æ„ä¸åŒï¼Œä½†éƒ½é¢ä¸´åŒæ ·çš„æ·±åº¦è®­ç»ƒé—®é¢˜<br>
                        <strong>æ ¸å¿ƒæ´å¯Ÿ</strong>ï¼šæ¢¯åº¦ä¼ æ’­å›°éš¾æ˜¯æ·±åº¦ç½‘ç»œçš„é€šç”¨é—®é¢˜ï¼Œä¸é™äºç‰¹å®šæ¶æ„<br>
                        <strong>å¤§èƒ†å‡è®¾</strong>ï¼šå¦‚æœResNetçš„æ®‹å·®è¿æ¥èƒ½è§£å†³CNNçš„é—®é¢˜ï¼Œä¹Ÿè®¸èƒ½è§£å†³Transformerçš„é—®é¢˜ï¼Ÿ
                    </div>
                </div>

                <!-- ç¬¬ä¸‰æ­¥æ€è€ƒ -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #22c55e; margin-bottom: 1rem;">âš¡ ç¬¬ä¸‰æ­¥ï¼šåº”ç”¨åˆ°è‡ªæ³¨æ„åŠ›</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        <strong>åŸå§‹åšæ³•</strong>ï¼šxâ‚‚ = Attention(xâ‚)<br>
                        <strong>ResNetå¯å‘</strong>ï¼šxâ‚‚ = xâ‚ + Attention(xâ‚)<br>
                        <strong>ç›´è§‰ç†è§£</strong>ï¼šå³ä½¿æ³¨æ„åŠ›å­¦å¾—ä¸å¥½ï¼Œè‡³å°‘åŸå§‹ä¿¡æ¯xâ‚è¿˜åœ¨<br>
                        <strong>æœŸæœ›æ•ˆæœ</strong>ï¼šæ¢¯åº¦å¯ä»¥é€šè¿‡"+xâ‚"è¿™æ¡è·¯å¾„ç›´æ¥ä¼ æ’­
                    </div>
                </div>
            </div>
        </div>

        <!-- ç¬¬ä¸€ä¸ªéªŒè¯å®éªŒ -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #06b6d4; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ§ª éªŒè¯å®éªŒï¼šå°å¿ƒç¿¼ç¿¼çš„ç¬¬ä¸€æ­¥</div>

            <div style="background: rgba(6, 182, 212, 0.1); padding: 2rem; border-radius: 8px; border: 1px solid rgba(6, 182, 212, 0.3);">
                <div style="color: #06b6d4; font-weight: bold; margin-bottom: 1rem;">ğŸ’» ç®€å•å®éªŒè®¾è®¡ï¼š</div>
                <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6; margin-bottom: 1.5rem;">
                    <strong>å¯¹ç…§ç»„</strong>ï¼šåŸå§‹6å±‚Transformerï¼ˆè®­ç»ƒå·²ç»æœ‰é—®é¢˜ï¼‰<br>
                    <strong>å®éªŒç»„</strong>ï¼šåŒæ ·6å±‚ï¼Œä½†åŠ å…¥æ®‹å·®è¿æ¥<br>
                    <strong>æœŸæœ›</strong>ï¼šå¦‚æœç†è®ºæ­£ç¡®ï¼Œå®éªŒç»„åº”è¯¥è®­ç»ƒæ›´ç¨³å®š
                </div>

                <!-- å®éªŒä»£ç  -->
                <div class="code-example" style="margin: 1rem 0;">
                    <pre><code><span class="code-comment"># åªæ”¹ä¸€è¡Œä»£ç çš„æœ€å°éªŒè¯</span>
<span class="code-keyword">def</span> <span class="code-highlight">transformer_layer_original</span>(x):
    attention_out = self.attention(x)
    <span class="code-keyword">return</span> attention_out  <span class="code-comment"># åŸå§‹ç‰ˆæœ¬</span>

<span class="code-keyword">def</span> <span class="code-highlight">transformer_layer_residual</span>(x):
    attention_out = self.attention(x)
    <span class="code-keyword">return</span> <span style="color: #22c55e;">x + attention_out</span>  <span class="code-comment"># åŠ å…¥æ®‹å·®è¿æ¥</span></code></pre>
                </div>

                <div style="background: rgba(22, 197, 94, 0.1); padding: 1.5rem; border-radius: 8px; border: 1px solid rgba(34, 197, 94, 0.3);">
                    <div style="color: #22c55e; font-weight: bold; margin-bottom: 0.5rem;">ğŸ‰ ç¬¬ä¸€æ¬¡æˆåŠŸï¼</div>
                    <div style="color: #cbd5e1; font-size: 0.95rem;">
                        ä»…ä»…åŠ äº†ä¸€ä¸ª"+x"ï¼Œ6å±‚ç½‘ç»œçš„è®­ç»ƒå°±ç¨³å®šäº†å¾ˆå¤šï¼<br>
                        æ¢¯åº¦èŒƒæ•°ä»å‘æ•£å˜æˆäº†ç¨³å®šçš„1.2å·¦å³ï¼ŒæŸå¤±ä¹Ÿå¼€å§‹æ­£å¸¸ä¸‹é™ã€‚
                    </div>
                </div>
            </div>
        </div>

        <!-- æ·±å…¥ç†è§£ -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ”¬ æ·±å…¥ç†è§£ï¼šä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ</div>

            <div style="display: grid; gap: 1.5rem;">
                <!-- æ¢¯åº¦ä¼ æ’­åˆ†æ -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #fbbf24; margin-bottom: 1rem;">ğŸ§® æ•°å­¦è§’åº¦ï¼šæ¢¯åº¦ä¼ æ’­</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        <strong>å…³é”®æ´å¯Ÿ</strong>ï¼šæ®‹å·®è¿æ¥åˆ›é€ äº†æ¢¯åº¦çš„"é«˜é€Ÿå…¬è·¯"<br>
                        åŸæ¥ï¼šâˆ‚L/âˆ‚x = âˆ‚L/âˆ‚y Ã— âˆ‚F(x)/âˆ‚x ï¼ˆå®Œå…¨ä¾èµ–Fçš„æ¢¯åº¦ï¼‰<br>
                        ç°åœ¨ï¼šâˆ‚L/âˆ‚x = âˆ‚L/âˆ‚y Ã— (1 + âˆ‚F(x)/âˆ‚x) ï¼ˆæœ‰"1"ä¿åº•ï¼‰<br>
                        <strong style="color: #22c55e;">å³ä½¿Få­¦å¾—å¾ˆå·®ï¼Œæ¢¯åº¦ä¾ç„¶èƒ½ä¼ æ’­ï¼</strong>
                    </div>
                </div>

                <!-- å­¦ä¹ è§’åº¦åˆ†æ -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #22c55e; margin-bottom: 1rem;">ğŸ¯ å­¦ä¹ è§’åº¦ï¼šæ›´å®¹æ˜“çš„ç›®æ ‡</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        <strong>åŸå§‹ä»»åŠ¡</strong>ï¼šå­¦ä¹ å®Œæ•´çš„å˜æ¢H(x)<br>
                        <strong>æ–°ä»»åŠ¡</strong>ï¼šå­¦ä¹ æ®‹å·®F(x) = H(x) - x<br>
                        <strong>ä¼˜åŠ¿</strong>ï¼šå¦‚æœç†æƒ³å˜æ¢æ¥è¿‘æ’ç­‰æ˜ å°„ï¼ŒF(x)â‰ˆ0æ›´å®¹æ˜“å­¦ä¹ <br>
                        <strong style="color: #22c55e;">ç½‘ç»œå¯ä»¥ä»"åšå¾®è°ƒ"å¼€å§‹ï¼Œè€Œä¸æ˜¯"ä»é›¶é‡å»º"</strong>
                    </div>
                </div>

                <!-- è¡¨ç¤ºèƒ½åŠ›åˆ†æ -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #06b6d4; margin-bottom: 1rem;">ğŸ”„ è¡¨ç¤ºèƒ½åŠ›ï¼šä¸æŸå¤±ä»»ä½•ä¸œè¥¿</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        <strong>é‡è¦å‘ç°</strong>ï¼šæ®‹å·®è¿æ¥ä¸ä¼šé™ä½ç½‘ç»œçš„è¡¨è¾¾èƒ½åŠ›<br>
                        <strong>åŸå› </strong>ï¼šå¦‚æœFèƒ½å­¦ä¹ åˆ°-xï¼Œé‚£ä¹ˆx+F(x)=x+(-x)=0<br>
                        <strong>å«ä¹‰</strong>ï¼šç†è®ºä¸Šå¯ä»¥è¡¨ç¤ºä»»ä½•åŸç½‘ç»œèƒ½è¡¨ç¤ºçš„å‡½æ•°<br>
                        <strong style="color: #22c55e;">åªæ˜¯è®©å­¦ä¹ è¿‡ç¨‹æ›´å®¹æ˜“ï¼Œè€Œä¸é™åˆ¶å­¦ä¹ èƒ½åŠ›</strong>
                    </div>
                </div>
            </div>
        </div>

        <!-- è¿›ä¸€æ­¥éªŒè¯ -->
        <div style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(16, 185, 129, 0.1)); padding: 2rem; border-radius: 12px; border: 1px solid rgba(34, 197, 94, 0.3);">
            <div style="color: #22c55e; font-weight: bold; margin-bottom: 1rem; text-align: center;">ğŸš€ æˆåŠŸéªŒè¯ï¼šä»6å±‚åˆ°12å±‚ï¼Œå†åˆ°24å±‚</div>
            <div style="color: #cbd5e1; font-size: 1rem; line-height: 1.8; text-align: center;">
                æœ‰äº†æ®‹å·®è¿æ¥ï¼Œæˆ‘ä»¬ä¸ä»…è§£å†³äº†6å±‚çš„é—®é¢˜ï¼Œ<br>
                è¿˜æˆåŠŸè®­ç»ƒäº†12å±‚ã€18å±‚ï¼Œç”šè‡³24å±‚çš„Transformerï¼<br><br>
                <strong style="color: #fbbf24;">ä¸€ä¸ªç®€å•çš„"+x"ï¼Œå¼€å¯äº†æ·±åº¦ç½‘ç»œçš„æ–°æ—¶ä»£</strong><br><br>
                <span style="color: #8b5cf6; font-style: italic;">"æœ‰æ—¶å€™ï¼Œæœ€æ·±åˆ»çš„æ´å¯Ÿæ¥è‡ªæœ€ç®€å•çš„æƒ³æ³•"</span>
            </div>
        </div>
    </div>

    <!-- ğŸ’¡ è§£å†³æ–¹æ¡ˆ1ï¼šæ®‹å·®è¿æ¥çš„å®Œæ•´çŸ©é˜µæ¨å¯¼ -->
    <div class="solution-discovery">
        <div class="solution-title">
            <span>ğŸ’¡</span>
            <span>è§£å†³æ–¹æ¡ˆ1ï¼šæ®‹å·®è¿æ¥çš„å®Œæ•´çŸ©é˜µæ¨å¯¼</span>
        </div>

        <!-- æ¢¯åº¦ä¼ æ’­çš„æ•°å­¦åˆ†æ -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ“ æ¢¯åº¦ä¼ æ’­çš„æ•°å­¦æ¨å¯¼</div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <!-- åŸå§‹ç½‘ç»œ -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #ef4444; margin-bottom: 1rem; text-align: center;">âŒ åŸå§‹ç½‘ç»œæ¢¯åº¦ä¼ æ’­</h4>

                    <div style="margin-bottom: 1rem; color: #cbd5e1;">
                        å‡è®¾ç½‘ç»œå±‚æ•°ä¸ºLï¼Œç¬¬lå±‚çš„è¾“å‡ºä¸º x<sub>l</sub>ï¼š
                    </div>

                    <div class="math-formula" style="background: rgba(239, 68, 68, 0.1); border-color: rgba(239, 68, 68, 0.3);">
                        <div style="color: #ef4444; margin-bottom: 1rem;">x<sub>l</sub> = F<sub>l</sub>(x<sub>l-1</sub>)</div>
                        <div style="color: #cbd5e1; font-size: 0.9rem;">æ¯å±‚éƒ½æ˜¯å‰ä¸€å±‚çš„å¤æ‚å˜æ¢</div>
                    </div>

                    <div style="margin: 1rem 0; color: #cbd5e1;">
                        æ ¹æ®é“¾å¼æ³•åˆ™ï¼Œæ¢¯åº¦ä¼ æ’­ä¸ºï¼š
                    </div>

                    <div class="math-formula" style="background: rgba(239, 68, 68, 0.1); border-color: rgba(239, 68, 68, 0.3);">
                        <div style="color: #ef4444; font-size: 1.1rem;">
                            <div class="fraction">
                                <span class="numerator">âˆ‚L</span>
                                <span class="denominator">âˆ‚x<sub>0</sub></span>
                            </div>
                            =
                            <div class="fraction">
                                <span class="numerator">âˆ‚L</span>
                                <span class="denominator">âˆ‚x<sub>L</sub></span>
                            </div>
                            Ã—
                            <div class="fraction">
                                <span class="numerator">âˆ‚x<sub>L</sub></span>
                                <span class="denominator">âˆ‚x<sub>L-1</sub></span>
                            </div>
                            Ã— ... Ã—
                            <div class="fraction">
                                <span class="numerator">âˆ‚x<sub>1</sub></span>
                                <span class="denominator">âˆ‚x<sub>0</sub></span>
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(239, 68, 68, 0.1); padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                        <strong style="color: #ef4444;">é—®é¢˜</strong>ï¼šLä¸ªåå¯¼æ•°è¿ä¹˜<br>
                        â€¢ å¦‚æœæ¯ä¸ª > 1 â†’ æ¢¯åº¦çˆ†ç‚¸<br>
                        â€¢ å¦‚æœæ¯ä¸ª < 1 â†’ æ¢¯åº¦æ¶ˆå¤±
                    </div>
                </div>

                <!-- æ®‹å·®ç½‘ç»œ -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #22c55e; margin-bottom: 1rem; text-align: center;">âœ… æ®‹å·®ç½‘ç»œæ¢¯åº¦ä¼ æ’­</h4>

                    <div style="margin-bottom: 1rem; color: #cbd5e1;">
                        æ®‹å·®è¿æ¥æ”¹å˜äº†å‰å‘ä¼ æ’­ï¼š
                    </div>

                    <div class="math-formula" style="background: rgba(34, 197, 94, 0.1); border-color: rgba(34, 197, 94, 0.3);">
                        <div style="color: #22c55e; margin-bottom: 1rem;">x<sub>l</sub> = x<sub>l-1</sub> + F<sub>l</sub>(x<sub>l-1</sub>)</div>
                        <div style="color: #cbd5e1; font-size: 0.9rem;">ä¿ç•™åŸå§‹ä¿¡æ¯ + æ·»åŠ æ–°ç‰¹å¾</div>
                    </div>

                    <div style="margin: 1rem 0; color: #cbd5e1;">
                        å¯¹åº”çš„æ¢¯åº¦è®¡ç®—å˜ä¸ºï¼š
                    </div>

                    <div class="math-formula" style="background: rgba(34, 197, 94, 0.1); border-color: rgba(34, 197, 94, 0.3);">
                        <div style="color: #22c55e; font-size: 1.1rem;">
                            <div class="fraction">
                                <span class="numerator">âˆ‚x<sub>l</sub></span>
                                <span class="denominator">âˆ‚x<sub>l-1</sub></span>
                            </div>
                            = 1 +
                            <div class="fraction">
                                <span class="numerator">âˆ‚F<sub>l</sub>(x<sub>l-1</sub>)</span>
                                <span class="denominator">âˆ‚x<sub>l-1</sub></span>
                            </div>
                        </div>
                    </div>

                    <div class="math-formula" style="background: rgba(34, 197, 94, 0.1); border-color: rgba(34, 197, 94, 0.3);">
                        <div style="color: #22c55e; font-size: 1.1rem;">
                            <div class="fraction">
                                <span class="numerator">âˆ‚L</span>
                                <span class="denominator">âˆ‚x<sub>0</sub></span>
                            </div>
                            =
                            <div class="fraction">
                                <span class="numerator">âˆ‚L</span>
                                <span class="denominator">âˆ‚x<sub>L</sub></span>
                            </div>
                            Ã—
                            <span style="color: #fbbf24;">[âˆ(1 + âˆ‚F<sub>l</sub>/âˆ‚x<sub>l-1</sub>)]</span>
                        </div>
                    </div>

                    <div style="background: rgba(34, 197, 94, 0.1); padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                        <strong style="color: #22c55e;">ä¼˜åŠ¿</strong>ï¼šæ¯é¡¹éƒ½æœ‰"1"ä¿åº•<br>
                        â€¢ å³ä½¿ âˆ‚F/âˆ‚x å¾ˆå°ï¼Œæ¢¯åº¦ä¾ç„¶èƒ½ä¼ æ’­<br>
                        â€¢ æä¾›äº†æ¢¯åº¦çš„"é«˜é€Ÿé€šé“"
                    </div>
                </div>
            </div>
        </div>

        <!-- å®Œæ•´çŸ©é˜µè®¡ç®—ç¤ºä¾‹ -->
        <div class="matrix-section">
            <div class="matrix-title">
                <span>ğŸ§®</span>
                <span>å®Œæ•´çŸ©é˜µè®¡ç®—ç¤ºä¾‹</span>
            </div>

            <div class="calculation-step">
                <div class="step-title">
                    <div class="step-number">1</div>
                    æ®‹å·®è¿æ¥çš„å‰å‘ä¼ æ’­çŸ©é˜µå½¢å¼
                </div>

                <div style="text-align: center; margin: 2rem 0;">
                    <div style="color: #cbd5e1; margin-bottom: 1rem;">
                        åŸå§‹ï¼šXâ‚ = Fâ‚(Xâ‚€)ã€€ã€€æ®‹å·®ï¼šXâ‚ = Xâ‚€ + Fâ‚(Xâ‚€)
                    </div>

                    <div style="display: flex; justify-content: center; align-items: center; gap: 2rem; flex-wrap: wrap;">
                        <div class="matrix matrix-animated">
                            <div class="matrix-label">Xâ‚€</div>
                            <table>
                                <tr><td>0.5</td><td>-1.2</td><td>0.8</td></tr>
                                <tr><td>-0.3</td><td>1.5</td><td>-0.6</td></tr>
                                <tr><td>0.9</td><td>0.2</td><td>1.1</td></tr>
                                <tr><td>-0.7</td><td>0.4</td><td>-0.9</td></tr>
                            </table>
                        </div>

                        <div style="color: #22c55e; font-size: 1.2rem;">+</div>

                        <div class="matrix">
                            <div class="matrix-label">Fâ‚(Xâ‚€)</div>
                            <table>
                                <tr><td>0.7</td><td>-1.9</td><td>2.0</td></tr>
                                <tr><td>-2.0</td><td>3.0</td><td>-1.0</td></tr>
                                <tr><td>3.0</td><td>1.0</td><td>4.0</td></tr>
                                <tr><td>-1.0</td><td>2.0</td><td>-2.0</td></tr>
                            </table>
                        </div>

                        <div style="color: #22c55e; font-size: 1.2rem;">=</div>

                        <div class="matrix">
                            <div class="matrix-label">Xâ‚</div>
                            <table>
                                <tr><td>1.2</td><td>-3.1</td><td>2.8</td></tr>
                                <tr><td>-2.3</td><td>4.5</td><td>-1.6</td></tr>
                                <tr><td>3.9</td><td>1.2</td><td>5.1</td></tr>
                                <tr><td>-1.7</td><td>2.4</td><td>-2.9</td></tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="calculation-step">
                <div class="step-title">
                    <div class="step-number">2</div>
                    é›…å¯æ¯”çŸ©é˜µçš„å…³é”®å˜åŒ–
                </div>

                <div style="margin: 2rem 0;">
                    <div style="color: #cbd5e1; margin-bottom: 1rem; text-align: center;">
                        æ®‹å·®è¿æ¥æ”¹å˜äº†é›…å¯æ¯”çŸ©é˜µçš„ç»“æ„ï¼š
                    </div>

                    <div class="numerical-example">
                        <div class="numerical-title">ğŸ§® å…·ä½“çŸ©é˜µè®¡ç®—</div>

                        <div style="text-align: center;">
                            <div style="display: flex; justify-content: center; gap: 2rem; align-items: center; flex-wrap: wrap; margin: 1rem 0;">
                                <div class="matrix">
                                    <div class="matrix-label">I (å•ä½çŸ©é˜µ)</div>
                                    <table>
                                        <tr><td style="background: rgba(34, 197, 94, 0.2);">1</td><td>0</td><td>0</td></tr>
                                        <tr><td>0</td><td style="background: rgba(34, 197, 94, 0.2);">1</td><td>0</td></tr>
                                        <tr><td>0</td><td>0</td><td style="background: rgba(34, 197, 94, 0.2);">1</td></tr>
                                    </table>
                                </div>

                                <div style="color: #22c55e; font-size: 1.2rem;">+</div>

                                <div class="matrix">
                                    <div class="matrix-label">âˆ‚Fâ‚/âˆ‚Xâ‚€</div>
                                    <table>
                                        <tr><td>0.3</td><td>-0.1</td><td>0.2</td></tr>
                                        <tr><td>0.1</td><td>0.4</td><td>-0.2</td></tr>
                                        <tr><td>-0.2</td><td>0.2</td><td>0.3</td></tr>
                                    </table>
                                </div>

                                <div style="color: #22c55e; font-size: 1.2rem;">=</div>

                                <div class="matrix matrix-animated">
                                    <div class="matrix-label">âˆ‚Xâ‚/âˆ‚Xâ‚€</div>
                                    <table>
                                        <tr><td style="background: rgba(34, 197, 94, 0.2);">1.3</td><td>-0.1</td><td>0.2</td></tr>
                                        <tr><td>0.1</td><td style="background: rgba(34, 197, 94, 0.2);">1.4</td><td>-0.2</td></tr>
                                        <tr><td>-0.2</td><td>0.2</td><td style="background: rgba(34, 197, 94, 0.2);">1.3</td></tr>
                                    </table>
                                </div>
                            </div>

                            <div style="background: rgba(34, 197, 94, 0.1); padding: 1.5rem; border-radius: 8px; margin-top: 1rem;">
                                <div style="color: #22c55e; font-weight: bold; margin-bottom: 0.5rem;">ğŸ¯ å…³é”®è§‚å¯Ÿï¼š</div>
                                <div style="color: #cbd5e1; font-size: 0.9rem;">
                                    â€¢ å¯¹è§’çº¿å…ƒç´ éƒ½â‰¥1ï¼ˆç»¿è‰²é«˜äº®ï¼‰ï¼Œä¿è¯äº†æ¢¯åº¦ä¼ æ’­çš„åŸºæœ¬é€šé“<br>
                                    â€¢ å³ä½¿âˆ‚Fâ‚/âˆ‚Xâ‚€çš„å…ƒç´ å¾ˆå°ï¼Œä¹Ÿä¸ä¼šè®©æ•´ä½“é›…å¯æ¯”çŸ©é˜µé€€åŒ–<br>
                                    â€¢ è¿™æ˜¯æ¢¯åº¦"é«˜é€Ÿå…¬è·¯"çš„æ•°å­¦æœ¬è´¨
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="calculation-step">
                <div class="step-title">
                    <div class="step-number">3</div>
                    å¤šå±‚æ¢¯åº¦ä¼ æ’­çš„æ•°å€¼éªŒè¯
                </div>

                <div class="numerical-example">
                    <div class="numerical-title">ğŸ“Š 6å±‚ç½‘ç»œçš„æ¢¯åº¦è¿ä¹˜è®¡ç®—</div>

                    <div style="text-align: center;">
                        <div style="color: #cbd5e1; margin-bottom: 1rem;">
                            ç°åœ¨æ¯å±‚çš„é›…å¯æ¯”çŸ©é˜µéƒ½æœ‰"I+"çš„ç»“æ„ï¼š
                        </div>

                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1rem 0;">
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                                <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 0.5rem;">Layer 1</div>
                                <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.8rem;">
                                    æœ€å¤§ç‰¹å¾å€¼: 1.4<br>
                                    æœ€å°ç‰¹å¾å€¼: 1.1
                                </div>
                            </div>
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                                <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 0.5rem;">Layer 2</div>
                                <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.8rem;">
                                    æœ€å¤§ç‰¹å¾å€¼: 1.3<br>
                                    æœ€å°ç‰¹å¾å€¼: 1.0
                                </div>
                            </div>
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                                <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 0.5rem;">Layer 3-6</div>
                                <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.8rem;">
                                    æœ€å¤§ç‰¹å¾å€¼: 1.2Â±0.1<br>
                                    æœ€å°ç‰¹å¾å€¼: 1.0Â±0.1
                                </div>
                            </div>
                        </div>

                        <div style="background: rgba(34, 197, 94, 0.1); padding: 2rem; border-radius: 8px; margin-top: 1rem;">
                            <div style="color: #22c55e; font-weight: bold; margin-bottom: 1rem;">ğŸ§® æœ€ç»ˆè®¡ç®—ç»“æœï¼š</div>
                            <div style="font-family: 'JetBrains Mono', monospace; color: #cbd5e1; line-height: 1.6;">
                                æœ€å¤§ç‰¹å¾å€¼è¿ä¹˜ï¼š1.4 Ã— 1.3 Ã— 1.2 Ã— 1.2 Ã— 1.1 Ã— 1.2 â‰ˆ <strong style="color: #22c55e;">3.32</strong><br>
                                æœ€å°ç‰¹å¾å€¼è¿ä¹˜ï¼š1.1 Ã— 1.0 Ã— 1.1 Ã— 1.0 Ã— 1.0 Ã— 1.1 â‰ˆ <strong style="color: #22c55e;">1.33</strong><br><br>
                                <strong style="color: #fbbf24;">æ¢¯åº¦èŒƒæ•°ä¿æŒåœ¨ 1.33 åˆ° 3.32 ä¹‹é—´ï¼Œå®Œå…¨åœ¨å¥åº·èŒƒå›´å†…ï¼</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ä»£ç å®ç° -->
        <div class="code-example">
            <div style="color: #06b6d4; font-weight: bold; margin-bottom: 1rem;">ğŸ’» æ®‹å·®è¿æ¥çš„PyTorchå®ç°</div>
            <pre><code><span class="code-keyword">import</span> torch
<span class="code-keyword">import</span> torch.nn <span class="code-keyword">as</span> nn

<span class="code-keyword">class</span> <span class="code-highlight">ResidualTransformerLayer</span>(nn.Module):
    <span class="code-keyword">def</span> <span class="code-highlight">__init__</span>(self, hidden_size, num_heads):
        <span class="code-highlight">super()</span>.__init__()
        self.attention = MultiHeadAttention(hidden_size, num_heads)
        self.feed_forward = FeedForward(hidden_size)

    <span class="code-keyword">def</span> <span class="code-highlight">forward</span>(self, x):
        <span class="code-comment"># ğŸ¯ ç¬¬ä¸€ä¸ªæ®‹å·®è¿æ¥ï¼šæ³¨æ„åŠ›æœºåˆ¶</span>
        attention_output = self.attention(x)
        x = <span class="code-string">x + attention_output</span>  <span class="code-comment"># å…³é”®ï¼šä¿ç•™åŸå§‹ä¿¡æ¯</span>

        <span class="code-comment"># ğŸ¯ ç¬¬äºŒä¸ªæ®‹å·®è¿æ¥ï¼šå‰é¦ˆç½‘ç»œ</span>
        ffn_output = self.feed_forward(x)
        x = <span class="code-string">x + ffn_output</span>          <span class="code-comment"># å…³é”®ï¼šå†æ¬¡ä¿ç•™ä¿¡æ¯</span>

        <span class="code-keyword">return</span> x

<span class="code-comment"># éªŒè¯æ¢¯åº¦ä¼ æ’­æ•ˆæœçš„æµ‹è¯•ä»£ç </span>
<span class="code-keyword">def</span> <span class="code-highlight">test_gradient_flow</span>():
    model = ResidualTransformerLayer(512, 8)
    x = torch.randn(32, 100, 512, requires_grad=True)

    <span class="code-comment"># å‰å‘ä¼ æ’­</span>
    output = model(x)
    loss = output.sum()

    <span class="code-comment"># åå‘ä¼ æ’­</span>
    loss.backward()

    <span class="code-comment"># æ£€æŸ¥æ¢¯åº¦</span>
    <span class="code-keyword">print</span>(<span class="code-string">f"è¾“å…¥æ¢¯åº¦èŒƒæ•°: {x.grad.norm().item():.4f}"</span>)
    <span class="code-keyword">return</span> x.grad.norm().item()</code></pre>
        </div>
    </div>

    <!-- ğŸ“Š æ®‹å·®è¿æ¥å®éªŒéªŒè¯ -->
    <div class="solution-section">
        <div style="text-align: center; margin-bottom: 2rem;">
            <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(6, 182, 212, 0.2), rgba(8, 145, 178, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(6, 182, 212, 0.4);">
                <span style="font-size: 2rem;">ğŸ“Š</span>
                <h2 style="color: #06b6d4; margin: 0; font-size: 1.8rem; font-weight: bold;">å®éªŒéªŒè¯ï¼šæ®‹å·®è¿æ¥çš„æ•ˆæœ</h2>
            </div>
        </div>

        <!-- å¯¹æ¯”å®éªŒæ•°æ® -->
        <div class="data-table">
            <div style="color: #06b6d4; font-weight: bold; margin-bottom: 1rem; text-align: center;">ğŸ§ª 6å±‚ç½‘ç»œè®­ç»ƒ1000æ­¥åçš„å¯¹æ¯”</div>
            <table>
                <thead>
                <tr>
                    <th>ç½‘ç»œç±»å‹</th>
                    <th>æ¢¯åº¦èŒƒæ•°</th>
                    <th>æ”¶æ•›é€Ÿåº¦</th>
                    <th>æœ€ç»ˆLoss</th>
                    <th>è®­ç»ƒç¨³å®šæ€§</th>
                    <th>å¯è®­ç»ƒæ·±åº¦</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="color: #ef4444;">åŸå§‹Transformer</td>
                    <td class="before-data">å‘æ•£/æ¶ˆå¤±</td>
                    <td class="before-data">æ— æ³•æ”¶æ•›</td>
                    <td class="before-data">NaN</td>
                    <td class="before-data">æä¸ç¨³å®š</td>
                    <td class="before-data">â‰¤4å±‚</td>
                </tr>
                <tr>
                    <td style="color: #22c55e;">+æ®‹å·®è¿æ¥</td>
                    <td class="after-data">1.2Â±0.3</td>
                    <td class="after-data">3å€åŠ é€Ÿ</td>
                    <td class="after-data">1.85</td>
                    <td class="after-data">ç¨³å®š</td>
                    <td class="after-data">12+å±‚</td>
                </tr>
                </tbody>
            </table>
        </div>

        <!-- è¯¦ç»†æ•°æ®åˆ†æ -->
        <div class="data-table">
            <div style="color: #06b6d4; font-weight: bold; margin-bottom: 1rem; text-align: center;">ğŸ“ˆ å„å±‚æ¢¯åº¦èŒƒæ•°å˜åŒ–ï¼ˆåŠ å…¥æ®‹å·®è¿æ¥åï¼‰</div>
            <table>
                <thead>
                <tr>
                    <th>è®­ç»ƒæ­¥æ•°</th>
                    <th>ç¬¬1å±‚</th>
                    <th>ç¬¬3å±‚</th>
                    <th>ç¬¬6å±‚</th>
                    <th>ç¬¬9å±‚</th>
                    <th>ç¬¬12å±‚</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>100</td>
                    <td class="after-data">0.9</td>
                    <td class="after-data">0.8</td>
                    <td class="after-data">0.9</td>
                    <td class="after-data">1.1</td>
                    <td class="after-data">1.0</td>
                </tr>
                <tr>
                    <td>500</td>
                    <td class="after-data">1.2</td>
                    <td class="after-data">1.0</td>
                    <td class="after-data">1.1</td>
                    <td class="after-data">1.3</td>
                    <td class="after-data">1.2</td>
                </tr>
                <tr>
                    <td>1000</td>
                    <td class="after-data">1.1</td>
                    <td class="after-data">0.9</td>
                    <td class="after-data">1.0</td>
                    <td class="after-data">1.2</td>
                    <td class="after-data">1.1</td>
                </tr>
                </tbody>
            </table>
        </div>

        <div style="background: rgba(34, 197, 94, 0.1); padding: 2rem; border-radius: 12px; border: 1px solid rgba(34, 197, 94, 0.3); margin-top: 2rem; text-align: center;">
            <div style="color: #22c55e; font-weight: bold; margin-bottom: 1rem; font-size: 1.2rem;">ğŸ‰ å…³é”®å‘ç°</div>
            <div style="color: #cbd5e1; font-size: 1rem; line-height: 1.8;">
                <strong style="color: #fbbf24;">æ¢¯åº¦èŒƒæ•°ç¨³å®š</strong>ï¼šå„å±‚æ¢¯åº¦ä¿æŒåœ¨0.8-1.3ä¹‹é—´ï¼Œéå¸¸å¥åº·<br>
                <strong style="color: #8b5cf6;">æ·±åº¦æ— é™åˆ¶</strong>ï¼šæˆåŠŸè®­ç»ƒ12å±‚ç½‘ç»œï¼Œç†è®ºä¸Šå¯ä»¥æ›´æ·±<br>
                <strong style="color: #06b6d4;">è®­ç»ƒåŠ é€Ÿ</strong>ï¼šæ”¶æ•›é€Ÿåº¦æå‡3å€ï¼Œæ•ˆç‡æ˜¾è‘—æ”¹å–„
            </div>
        </div>
    </div>

    <!-- ğŸ¯ ç¬¬äºŒä¸ªé—®é¢˜ï¼šæ®‹å·®è¿æ¥è¿˜ä¸å¤Ÿ -->
    <div class="solution-section" style="border-color: #fbbf24;">
        <div style="text-align: center; margin-bottom: 3rem;">
            <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(245, 158, 11, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(251, 191, 36, 0.4);">
                <span style="font-size: 2rem;">ğŸ¯</span>
                <h2 style="color: #fbbf24; margin: 0; font-size: 1.8rem; font-weight: bold;">ç¬¬äºŒä¸ªé—®é¢˜ï¼šæ®‹å·®è¿æ¥è¿˜ä¸å¤Ÿ</h2>
            </div>
        </div>

        <!-- æ®‹å·®è¿æ¥åçš„æ–°é—®é¢˜ -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #fbbf24; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ˜• æˆåŠŸä¹‹åçš„æ–°å›°æƒ‘</div>

            <div style="background: rgba(255, 255, 255, 0.05); padding: 2rem; border-radius: 8px;">
                <div style="color: #06b6d4; font-weight: bold; margin-bottom: 1rem;">ç ”ç©¶è€…çš„è§‚å¯Ÿè®°å½•ï¼š</div>
                <div style="color: #cbd5e1; font-size: 1rem; line-height: 1.8; font-style: italic;">
                    "å¤ªå¥½äº†ï¼æ®‹å·®è¿æ¥çœŸçš„è§£å†³äº†æ¢¯åº¦ä¼ æ’­é—®é¢˜ã€‚ç°åœ¨12å±‚çš„ç½‘ç»œå¯ä»¥ç¨³å®šè®­ç»ƒäº†ã€‚<br><br>

                    ä½†æ˜¯... ç­‰ç­‰ï¼Œè¿˜æœ‰å…¶ä»–å¥‡æ€ªçš„ç°è±¡ï¼š<br>
                    â€¢ è®­ç»ƒåˆæœŸç»å¸¸å‡ºç°æŸå¤±å‰§çƒˆéœ‡è¡<br>
                    â€¢ å­¦ä¹ ç‡ä¸èƒ½è®¾å¾—å¤ªå¤§ï¼Œå¦åˆ™è®­ç»ƒå‘æ•£<br>
                    â€¢ æ¯å±‚çš„æ¿€æ´»å€¼åˆ†å¸ƒè¶Šæ¥è¶Šåç¦»æ­£æ€åˆ†å¸ƒ<br>
                    â€¢ è®­ç»ƒé€Ÿåº¦æ¯”æœŸæœ›çš„è¦æ…¢å¾ˆå¤š<br><br>

                    <strong style="color: #fbbf24;">'æ¢¯åº¦èƒ½ä¼ æ’­äº†ï¼Œä½†ä¸ºä»€ä¹ˆè®­ç»ƒè¿˜æ˜¯è¿™ä¹ˆä¸ç¨³å®šï¼Ÿ'</strong>"
                </div>
            </div>
        </div>

        <!-- æ•°æ®åˆ†å¸ƒé—®é¢˜çš„å‘ç° -->
        <div class="data-table">
            <div style="color: #fbbf24; font-weight: bold; margin-bottom: 1rem; text-align: center;">ğŸ“Š æ®‹å·®è¿æ¥åå„å±‚æ¿€æ´»å€¼åˆ†å¸ƒåˆ†æ</div>
            <table>
                <thead>
                <tr>
                    <th>è®­ç»ƒæ­¥æ•°</th>
                    <th>ç¬¬2å±‚ Î¼/Ïƒ</th>
                    <th>ç¬¬4å±‚ Î¼/Ïƒ</th>
                    <th>ç¬¬6å±‚ Î¼/Ïƒ</th>
                    <th>åˆ†å¸ƒçŠ¶æ€</th>
                    <th>å­¦ä¹ æ•ˆç‡</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>0 (åˆå§‹)</td>
                    <td class="after-data">0.01/0.98</td>
                    <td class="after-data">0.02/1.01</td>
                    <td class="after-data">-0.01/0.99</td>
                    <td style="color: #22c55e;">æ ‡å‡†æ­£æ€</td>
                    <td style="color: #22c55e;">é«˜</td>
                </tr>
                <tr>
                    <td>100</td>
                    <td class="before-data">0.23/1.45</td>
                    <td class="before-data">0.67/2.12</td>
                    <td class="before-data">1.34/3.87</td>
                    <td style="color: #fbbf24;">å¼€å§‹åç§»</td>
                    <td style="color: #fbbf24;">ä¸­ç­‰</td>
                </tr>
                <tr>
                    <td>500</td>
                    <td class="before-data highlight">0.89/2.34</td>
                    <td class="before-data highlight">2.45/5.67</td>
                    <td class="before-data highlight">4.12/8.93</td>
                    <td style="color: #ef4444;">ä¸¥é‡åç§»</td>
                    <td style="color: #ef4444;">ä½</td>
                </tr>
                <tr>
                    <td>1000</td>
                    <td class="before-data highlight">1.67/4.56</td>
                    <td class="before-data highlight">5.23/12.1</td>
                    <td class="before-data highlight">9.87/23.4</td>
                    <td style="color: #ef4444;">å®Œå…¨å¤±æ§</td>
                    <td style="color: #ef4444;">æä½</td>
                </tr>
                </tbody>
            </table>
        </div>

        <!-- é—®é¢˜æœ¬è´¨åˆ†æ -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #ef4444; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ” æ·±åº¦åˆ†æï¼šå†…éƒ¨åå˜é‡åç§»</div>

            <div style="display: grid; gap: 1.5rem;">
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #8b5cf6; margin-bottom: 1rem;">ğŸ¯ æ ¸å¿ƒé—®é¢˜ç¡®è®¤</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        <strong>ç°è±¡</strong>ï¼šè™½ç„¶æ¢¯åº¦èƒ½ä¼ æ’­ï¼Œä½†æ¯å±‚çš„è¾“å…¥åˆ†å¸ƒåœ¨è®­ç»ƒä¸­ä¸æ–­å˜åŒ–<br>
                        <strong>æœ¯è¯­</strong>ï¼šè¿™è¢«ç§°ä¸º"å†…éƒ¨åå˜é‡åç§»"(Internal Covariate Shift)<br>
                        <strong>åæœ</strong>ï¼šæ¯å±‚éƒ½è¦ä¸æ–­é€‚åº”æ–°çš„è¾“å…¥åˆ†å¸ƒï¼Œå­¦ä¹ æ•ˆç‡æä½
                    </div>
                </div>

                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #fbbf24; margin-bottom: 1rem;">ğŸ“Š å…·ä½“è¡¨ç°</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        â€¢ <strong>åˆ†å¸ƒæ¼‚ç§»</strong>ï¼šæ¯å±‚è¾“å‡ºçš„å‡å€¼å’Œæ–¹å·®ä¸æ–­å˜åŒ–<br>
                        â€¢ <strong>è®­ç»ƒä¸ç¨³å®š</strong>ï¼šæŸå¤±å‡½æ•°éœ‡è¡å‰§çƒˆï¼Œéš¾ä»¥æ”¶æ•›<br>
                        â€¢ <strong>å­¦ä¹ ç‡é™åˆ¶</strong>ï¼šä¸æ•¢ç”¨å¤§å­¦ä¹ ç‡ï¼Œæ€•è®­ç»ƒå‘æ•£<br>
                        â€¢ <strong>å±‚é—´ä¸åè°ƒ</strong>ï¼šæ·±å±‚ä¸¥é‡ä¾èµ–æµ…å±‚çš„è¾“å‡ºåˆ†å¸ƒ
                    </div>
                </div>

                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #22c55e; margin-bottom: 1rem;">ğŸ’¡ å…³é”®æ´å¯Ÿ</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        <strong>é—®é¢˜æ ¹æº</strong>ï¼šæ¯å±‚çš„"å­¦ä¹ ç›®æ ‡"åœ¨ä¸æ–­ç§»åŠ¨<br>
                        <strong>ç±»æ¯”ç†è§£</strong>ï¼šå°±åƒå°„å‡»æ—¶é¶å­åœ¨ä¸æ–­ç§»åŠ¨ï¼Œå¾ˆéš¾å‘½ä¸­<br>
                        <strong>è§£å†³æ€è·¯</strong>ï¼šèƒ½å¦è®©æ¯å±‚é¢å¯¹çš„"é¶å­"éƒ½ä¿æŒç¨³å®šï¼Ÿ
                    </div>
                </div>
            </div>
        </div>

        <div style="background: rgba(251, 191, 36, 0.1); padding: 2rem; border-radius: 12px; border: 1px solid rgba(251, 191, 36, 0.3); margin-top: 2rem; text-align: center;">
            <div style="color: #fbbf24; font-weight: bold; margin-bottom: 1rem; font-size: 1.2rem;">ğŸ¯ æ–°çš„æŒ‘æˆ˜</div>
            <div style="color: #cbd5e1; font-size: 1rem; line-height: 1.8;">
                æ®‹å·®è¿æ¥è§£å†³äº†<strong style="color: #22c55e;">æ¢¯åº¦ä¼ æ’­</strong>é—®é¢˜ï¼Œ<br>
                ä½†æˆ‘ä»¬è¿˜éœ€è¦è§£å†³<strong style="color: #fbbf24;">åˆ†å¸ƒç¨³å®šæ€§</strong>é—®é¢˜ï¼<br><br>
                <span style="color: #8b5cf6; font-style: italic;">"ä¸‹ä¸€ä¸ªçªç ´åœ¨å“ªé‡Œï¼Ÿ"</span>
            </div>
        </div>
    </div>

    <!-- ğŸ¤” å±‚å½’ä¸€åŒ–çš„æ€è€ƒå†ç¨‹ -->
    <div class="solution-section" style="border-color: #8b5cf6;">
        <div style="text-align: center; margin-bottom: 3rem;">
            <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(124, 58, 237, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(139, 92, 246, 0.4);">
                <span style="font-size: 2rem;">ğŸ¤”</span>
                <h2 style="color: #8b5cf6; margin: 0; font-size: 1.8rem; font-weight: bold;">å±‚å½’ä¸€åŒ–çš„æ€è€ƒå†ç¨‹ï¼šå¦‚ä½•ç¨³å®šåˆ†å¸ƒï¼Ÿ</h2>
            </div>
        </div>

        <!-- ç›´è§‰çš„äº§ç”Ÿ -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ’­ ç¬¬ä¸€ä¸ªç›´è§‰ï¼šå‘ç»Ÿè®¡å­¦æ±‚åŠ©</div>

            <div style="background: rgba(255, 255, 255, 0.05); padding: 2rem; border-radius: 8px;">
                <div style="color: #06b6d4; font-weight: bold; margin-bottom: 1rem;">ç ”ç©¶è€…çš„å†…å¿ƒç‹¬ç™½ï¼š</div>
                <div style="color: #cbd5e1; font-size: 1rem; line-height: 1.8; font-style: italic;">
                    "åˆ†å¸ƒä¸ç¨³å®š... è¿™è®©æˆ‘æƒ³èµ·äº†ç»Ÿè®¡å­¦è¯¾ä¸Šå­¦è¿‡çš„ä¸œè¥¿ã€‚<br><br>

                    åœ¨ç»Ÿè®¡åˆ†æä¸­ï¼Œå¦‚æœæ•°æ®åˆ†å¸ƒä¸ç¨³å®šï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåšä»€ä¹ˆï¼Ÿ<br>
                    <strong style="color: #fbbf24;">æ ‡å‡†åŒ–(Standardization)ï¼</strong><br><br>

                    æŠŠæ•°æ®è½¬æ¢æˆå‡å€¼ä¸º0ã€æ–¹å·®ä¸º1çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒã€‚<br>
                    è¿™æ ·æ‰€æœ‰æ•°æ®éƒ½åœ¨åŒä¸€ä¸ª'å°ºåº¦'ä¸Šï¼Œä¾¿äºåˆ†æã€‚<br><br>

                    <strong style="color: #22c55e;">é‚£ä¹ˆ... èƒ½å¦å¯¹ç¥ç»ç½‘ç»œçš„æ¯ä¸€å±‚éƒ½åšæ ‡å‡†åŒ–å‘¢ï¼Ÿ</strong>"
                </div>
            </div>
        </div>

        <!-- æ—©æœŸå°è¯•ï¼šBatch Normalization -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #fbbf24; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ”¬ æ—©æœŸå°è¯•ï¼šBatch Normalizationçš„å¯å‘</div>

            <div style="display: grid; gap: 1.5rem;">
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px; border-left: 4px solid #fbbf24;">
                    <h4 style="color: #fbbf24; margin-bottom: 0.5rem;">ğŸ“š 2015å¹´ï¼šBatchNormçš„å‡ºç°</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        <strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šåœ¨æ‰¹æ¬¡(batch)ç»´åº¦ä¸Šåšæ ‡å‡†åŒ–<br>
                        <strong>å…¬å¼</strong>ï¼šBN(x) = Î³ Ã— (x-Î¼_batch)/Ïƒ_batch + Î²<br>
                        <strong>æ•ˆæœ</strong>ï¼šCNNè®­ç»ƒç¨³å®šæ€§å¤§å¹…æå‡ï¼Œæ”¶æ•›é€Ÿåº¦åŠ å¿«
                    </div>
                </div>

                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px; border-left: 4px solid #22c55e;">
                    <h4 style="color: #22c55e; margin-bottom: 0.5rem;">ğŸ’¡ å…³é”®å¯å‘</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        "å“‡ï¼æ ‡å‡†åŒ–çœŸçš„æœ‰æ•ˆï¼BatchNormè®©CNNè®­ç»ƒå˜å¾—è¶…çº§ç¨³å®šã€‚<br>
                        ç°åœ¨çš„é—®é¢˜æ˜¯ï¼š<strong style="color: #fbbf24;">èƒ½å¦æŠŠè¿™ä¸ªæ€æƒ³åº”ç”¨åˆ°RNNå’ŒTransformerä¸Šï¼Ÿ</strong>"
                    </div>
                </div>

                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px; border-left: 4px solid #ef4444;">
                    <h4 style="color: #ef4444; margin-bottom: 0.5rem;">âŒ é‡åˆ°çš„é—®é¢˜</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        <strong>æ‰¹æ¬¡ä¾èµ–</strong>ï¼šBatchNorméœ€è¦è¶³å¤Ÿå¤§çš„batch sizeæ‰ç¨³å®š<br>
                        <strong>åºåˆ—é•¿åº¦é—®é¢˜</strong>ï¼šRNNçš„ä¸åŒæ—¶é—´æ­¥é•¿åº¦ä¸ä¸€è‡´<br>
                        <strong>æ¨ç†æ—¶å›°éš¾</strong>ï¼šéœ€è¦ç»´æŠ¤å…¨å±€ç»Ÿè®¡é‡ï¼Œè®¡ç®—å¤æ‚<br>
                        <strong style="color: #ef4444;">ä¸é€‚åˆTransformerçš„æ³¨æ„åŠ›æœºåˆ¶ï¼</strong>
                    </div>
                </div>
            </div>
        </div>

        <!-- å…³é”®æ´å¯Ÿæ—¶åˆ» -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #22c55e; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">âš¡ å…³é”®æ´å¯Ÿï¼šæ¢ä¸ªç»´åº¦æ€è€ƒ</div>

            <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 2rem; align-items: center; margin-bottom: 2rem;">
                <div style="text-align: center;">
                    <div style="width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, #ef4444, #dc2626); display: flex; align-items: center; justify-content: center; font-size: 2rem; margin: 0 auto 1rem; box-shadow: 0 8px 25px rgba(239, 68, 68, 0.3);">
                        ğŸ“Š
                    </div>
                    <div style="color: #cbd5e1; font-size: 1rem;">
                        <strong style="color: #ef4444;">Batch Normalization</strong><br>
                        åœ¨æ‰¹æ¬¡ç»´åº¦æ ‡å‡†åŒ–
                    </div>
                </div>

                <div style="color: #22c55e; font-size: 2rem;">â†’</div>

                <div style="text-align: center;">
                    <div style="width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, #22c55e, #16a34a); display: flex; align-items: center; justify-content: center; font-size: 2rem; margin: 0 auto 1rem; box-shadow: 0 8px 25px rgba(34, 197, 94, 0.3);">
                        ğŸ¯
                    </div>
                    <div style="color: #cbd5e1; font-size: 1rem;">
                        <strong style="color: #22c55e;">Layer Normalization</strong><br>
                        åœ¨ç‰¹å¾ç»´åº¦æ ‡å‡†åŒ–
                    </div>
                </div>
            </div>

            <div style="background: rgba(34, 197, 94, 0.1); padding: 2rem; border-radius: 8px; border: 1px solid rgba(34, 197, 94, 0.3);">
                <div style="color: #22c55e; font-weight: bold; margin-bottom: 1rem;">ğŸ’¡ çªç ´æ€§æƒ³æ³•ï¼š</div>
                <div style="color: #cbd5e1; font-size: 1rem; line-height: 1.8; font-style: italic;">
                    "ç­‰ç­‰ï¼ä¸ºä»€ä¹ˆä¸€å®šè¦åœ¨æ‰¹æ¬¡ç»´åº¦åšæ ‡å‡†åŒ–ï¼Ÿ<br><br>

                    Transformerçš„æ¯ä¸ªä½ç½®éƒ½æœ‰512ä¸ªç‰¹å¾ï¼ˆhidden_size=512ï¼‰ã€‚<br>
                    æˆ‘ä»¬å¯ä»¥åœ¨<strong style="color: #fbbf24;">è¿™512ä¸ªç‰¹å¾ç»´åº¦ä¸Š</strong>åšæ ‡å‡†åŒ–ï¼<br><br>

                    è¿™æ ·ï¼š<br>
                    â€¢ ä¸ä¾èµ–batch size<br>
                    â€¢ æ¯ä¸ªæ ·æœ¬ç‹¬ç«‹å¤„ç†<br>
                    â€¢ é€‚åˆä»»æ„åºåˆ—é•¿åº¦<br>
                    â€¢ æ¨ç†æ—¶æ— éœ€é¢å¤–è®¡ç®—<br><br>

                    <strong style="color: #22c55e;">'åœ¨ç‰¹å¾ç»´åº¦æ ‡å‡†åŒ–' - è¿™å°±æ˜¯Layer Normalizationï¼</strong>"
                </div>
            </div>
        </div>

        <!-- æ•°å­¦ç›´è§‰ -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ§® æ•°å­¦ç›´è§‰ï¼šä¸ºä»€ä¹ˆè¿™æ ·æœ‰æ•ˆï¼Ÿ</div>

            <div style="display: grid; gap: 1.5rem;">
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #06b6d4; margin-bottom: 1rem;">ğŸ¯ æ ¸å¿ƒæ€æƒ³</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        <strong>ç›®æ ‡</strong>ï¼šè®©æ¯ä¸€å±‚çš„è¾“å‡ºéƒ½ä¿æŒ"æ ‡å‡†"åˆ†å¸ƒ<br>
                        <strong>æ–¹æ³•</strong>ï¼šå¯¹æ¯ä¸ªæ ·æœ¬çš„æ¯ä¸ªä½ç½®ï¼Œåœ¨æ‰€æœ‰ç‰¹å¾ç»´åº¦ä¸Šæ ‡å‡†åŒ–<br>
                        <strong>ç»“æœ</strong>ï¼šæ— è®ºè¾“å…¥å¦‚ä½•å˜åŒ–ï¼Œè¾“å‡ºæ€»æ˜¯ Î¼â‰ˆ0, Ïƒâ‰ˆ1
                    </div>
                </div>

                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #fbbf24; margin-bottom: 1rem;">âš¡ ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        â€¢ <strong>åˆ†å¸ƒç¨³å®š</strong>ï¼šæ¯å±‚éƒ½é¢å¯¹ç›¸åŒçš„è¾“å…¥åˆ†å¸ƒ<br>
                        â€¢ <strong>æ¢¯åº¦å‹å¥½</strong>ï¼šé¿å…æ¿€æ´»å€¼è¿‡å¤§æˆ–è¿‡å°<br>
                        â€¢ <strong>å­¦ä¹ ç‡å‹å¥½</strong>ï¼šå¯ä»¥ä½¿ç”¨æ›´å¤§çš„å­¦ä¹ ç‡<br>
                        â€¢ <strong>åˆå§‹åŒ–ä¸æ•æ„Ÿ</strong>ï¼šé™ä½å¯¹æƒé‡åˆå§‹åŒ–çš„ä¾èµ–
                    </div>
                </div>

                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #22c55e; margin-bottom: 1rem;">ğŸ”¬ å®éªŒéªŒè¯æ€è·¯</h4>
                    <div style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                        <strong>å‡è®¾</strong>ï¼šå¦‚æœLayer Normalizationæœ‰æ•ˆï¼Œåº”è¯¥è§‚å¯Ÿåˆ°ï¼š<br>
                        â€¢ è®­ç»ƒæŸå¤±æ›´ç¨³å®š<br>
                        â€¢ æ”¶æ•›é€Ÿåº¦æ›´å¿«<br>
                        â€¢ å¯ä»¥ä½¿ç”¨æ›´å¤§å­¦ä¹ ç‡<br>
                        â€¢ å„å±‚æ¿€æ´»å€¼åˆ†å¸ƒä¿æŒç¨³å®š
                    </div>
                </div>
            </div>
        </div>

        <div style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(124, 58, 237, 0.1)); padding: 2rem; border-radius: 12px; border: 1px solid rgba(139, 92, 246, 0.3);">
            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 1rem; text-align: center;">ğŸš€ Layer Normalizationè¯ç”Ÿ</div>
            <div style="color: #cbd5e1; font-size: 1rem; line-height: 1.8; text-align: center;">
                ä»ç»Ÿè®¡å­¦çš„åŸºæœ¬åŸç†å‡ºå‘ï¼Œ<br>
                é€šè¿‡ç»´åº¦è½¬æ¢çš„å·§å¦™æ€è€ƒï¼Œ<br>
                Layer Normalizationåº”è¿è€Œç”Ÿï¼<br><br>
                <strong style="color: #fbbf24;">ç®€å•çš„æƒ³æ³•ï¼Œæ·±è¿œçš„å½±å“</strong><br><br>
                <span style="color: #8b5cf6; font-style: italic;">"æœ€å¥½çš„è§£å†³æ–¹æ¡ˆå¾€å¾€æœ€ç®€å•"</span>
            </div>
        </div>
    </div>

    <!-- ğŸ§ª ç¬¬ä¸€æ¬¡éªŒè¯å®éªŒ -->
    <div class="solution-discovery">
        <div class="solution-title">
            <span>ğŸ§ª</span>
            <span>éªŒè¯å±‚å½’ä¸€åŒ–ï¼šä»æƒ³æ³•åˆ°ç°å®</span>
        </div>

        <!-- å®éªŒè®¾è®¡ -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #06b6d4; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ”¬ å°å¿ƒç¿¼ç¿¼çš„ç¬¬ä¸€æ¬¡å®éªŒ</div>

            <div style="background: rgba(255, 255, 255, 0.05); padding: 2rem; border-radius: 8px;">
                <div style="color: #fbbf24; font-weight: bold; margin-bottom: 1rem;">å®éªŒè®¾è®¡æ€è·¯ï¼š</div>
                <div style="color: #cbd5e1; font-size: 1rem; line-height: 1.8;">
                    "æœ‰äº†Layer Normalizationçš„æƒ³æ³•ï¼Œç°åœ¨éœ€è¦éªŒè¯å®ƒæ˜¯å¦çœŸçš„æœ‰æ•ˆã€‚<br><br>

                    è®©æˆ‘è®¾è®¡ä¸€ä¸ªæœ€ç®€å•çš„å¯¹æ¯”å®éªŒï¼š<br>
                    â€¢ <strong style="color: #ef4444;">å¯¹ç…§ç»„</strong>ï¼š6å±‚Transformer + æ®‹å·®è¿æ¥ï¼ˆå·²æœ‰é—®é¢˜ï¼‰<br>
                    â€¢ <strong style="color: #22c55e;">å®éªŒç»„</strong>ï¼š6å±‚Transformer + æ®‹å·®è¿æ¥ + Layer Normalization<br><br>

                    å¦‚æœç†è®ºæ­£ç¡®ï¼Œå®éªŒç»„åº”è¯¥æ˜¾ç¤ºï¼š<br>
                    âœ“ å„å±‚æ¿€æ´»å€¼åˆ†å¸ƒä¿æŒç¨³å®š<br>
                    âœ“ è®­ç»ƒæŸå¤±æ›´å¹³æ»‘<br>
                    âœ“ å¯ä»¥ä½¿ç”¨æ›´å¤§çš„å­¦ä¹ ç‡<br>
                    âœ“ æ”¶æ•›é€Ÿåº¦æ›´å¿«"
                </div>
            </div>
        </div>

        <!-- å®éªŒä»£ç å¯¹æ¯” -->
        <div class="code-example">
            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 1rem;">ğŸ’» å…³é”®æ”¹åŠ¨ï¼šåªéœ€æ·»åŠ ä¸€è¡Œä»£ç </div>
            <pre><code><span class="code-keyword">class</span> <span class="code-highlight">TransformerLayerWithLayerNorm</span>(nn.Module):
    <span class="code-keyword">def</span> <span class="code-highlight">__init__</span>(self, hidden_size, num_heads):
        <span class="code-highlight">super()</span>.__init__()
        self.attention = MultiHeadAttention(hidden_size, num_heads)
        self.feed_forward = FeedForward(hidden_size)

        <span class="code-comment"># ğŸ¯ å…³é”®æ·»åŠ ï¼šLayer Normalization</span>
        <span style="color: #22c55e;">self.layer_norm1 = LayerNorm(hidden_size)</span>
        <span style="color: #22c55e;">self.layer_norm2 = LayerNorm(hidden_size)</span>

    <span class="code-keyword">def</span> <span class="code-highlight">forward</span>(self, x):
        <span class="code-comment"># åŸæ¥ï¼šç›´æ¥æ®‹å·®è¿æ¥</span>
        <span class="code-comment"># x = x + self.attention(x)</span>

        <span class="code-comment"># ç°åœ¨ï¼šå…ˆå½’ä¸€åŒ–ï¼Œå†æ®‹å·®è¿æ¥</span>
        <span style="color: #22c55e;">x = x + self.attention(self.layer_norm1(x))</span>
        <span style="color: #22c55e;">x = x + self.feed_forward(self.layer_norm2(x))</span>

        <span class="code-keyword">return</span> x</code></pre>
        </div>

        <!-- ç¬¬ä¸€æ¬¡å®éªŒç»“æœ -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-top: 2rem;">
            <div style="color: #22c55e; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ‰ å®éªŒç»“æœï¼šè¶…å‡ºé¢„æœŸçš„æˆåŠŸ</div>

            <div class="data-table">
                <div style="color: #22c55e; font-weight: bold; margin-bottom: 1rem; text-align: center;">ğŸ“Š ç¬¬ä¸€æ¬¡å¯¹æ¯”å®éªŒç»“æœ</div>
                <table>
                    <thead>
                    <tr>
                        <th>æŒ‡æ ‡</th>
                        <th>æ®‹å·®è¿æ¥</th>
                        <th>+Layer Norm</th>
                        <th>æ”¹å–„å¹…åº¦</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>è®­ç»ƒç¨³å®šæ€§</td>
                        <td class="before-data">éœ‡è¡å‰§çƒˆ</td>
                        <td class="after-data">å¹³æ»‘ç¨³å®š</td>
                        <td style="color: #22c55e;">æ˜¾è‘—æå‡</td>
                    </tr>
                    <tr>
                        <td>æ”¶æ•›é€Ÿåº¦</td>
                        <td class="before-data">8000æ­¥</td>
                        <td class="after-data">3000æ­¥</td>
                        <td style="color: #22c55e;">2.7å€åŠ é€Ÿ</td>
                    </tr>
                    <tr>
                        <td>æœ€å¤§å­¦ä¹ ç‡</td>
                        <td class="before-data">0.0001</td>
                        <td class="after-data">0.001</td>
                        <td style="color: #22c55e;">10å€æå‡</td>
                    </tr>
                    <tr>
                        <td>æœ€ç»ˆæ€§èƒ½</td>
                        <td class="before-data">BLEU 23.7</td>
                        <td class="after-data">BLEU 31.4</td>
                        <td style="color: #22c55e;">+32%æå‡</td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div style="background: rgba(34, 197, 94, 0.1); padding: 2rem; border-radius: 8px; border: 1px solid rgba(34, 197, 94, 0.3); margin-top: 1.5rem;">
                <div style="color: #22c55e; font-weight: bold; margin-bottom: 1rem;">ğŸ’« æ„å¤–çš„å‘ç°</div>
                <div style="color: #cbd5e1; font-size: 1rem; line-height: 1.8;">
                    Layer Normalizationçš„æ•ˆæœè¿œè¶…é¢„æœŸï¼ä¸ä»…è§£å†³äº†åˆ†å¸ƒç¨³å®šæ€§é—®é¢˜ï¼Œ<br>
                    è¿˜å¸¦æ¥äº†è®­ç»ƒé€Ÿåº¦ã€å­¦ä¹ ç‡å®¹å¿åº¦ã€æœ€ç»ˆæ€§èƒ½çš„å…¨æ–¹ä½æå‡ã€‚<br><br>
                    <strong style="color: #fbbf24;">è¿™ä¸ªç®€å•çš„æƒ³æ³•ï¼Œç«Ÿç„¶å¦‚æ­¤å¼ºå¤§ï¼</strong>
                </div>
            </div>
        </div>
    </div>

    <!-- ğŸ”¬ å±‚å½’ä¸€åŒ–çš„å®Œæ•´çŸ©é˜µè®¡ç®— -->
    <div class="solution-section">
        <div style="text-align: center; margin-bottom: 2rem;">
            <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(124, 58, 237, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(139, 92, 246, 0.4);">
                <span style="font-size: 2rem;">ğŸ”¬</span>
                <h2 style="color: #8b5cf6; margin: 0; font-size: 1.8rem; font-weight: bold;">å±‚å½’ä¸€åŒ–çš„å®Œæ•´çŸ©é˜µè®¡ç®—</h2>
            </div>
        </div>

        <!-- æ•°å­¦å…¬å¼æ¨å¯¼ -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ“ å±‚å½’ä¸€åŒ–çš„æ•°å­¦å®šä¹‰</div>

            <div style="display: grid; gap: 1.5rem;">
                <!-- è¾“å…¥å®šä¹‰ -->
                <div class="math-formula">
                    <div style="color: #06b6d4; margin-bottom: 1rem;">ç»™å®šè¾“å…¥å¼ é‡ x âˆˆ â„^(BÃ—LÃ—H)</div>
                    <div style="color: #cbd5e1; font-size: 0.9rem;">
                        B = æ‰¹æ¬¡å¤§å°, L = åºåˆ—é•¿åº¦, H = éšè—ç»´åº¦
                    </div>
                </div>

                <!-- å‡å€¼è®¡ç®— -->
                <div class="math-formula">
                    <div style="color: #fbbf24; font-size: 1.1rem; margin-bottom: 0.5rem;">
                        Î¼ =
                        <div class="fraction">
                            <span class="numerator">1</span>
                            <span class="denominator">H</span>
                        </div>
                        <span style="font-size: 1.2rem;">âˆ‘</span><sub style="font-size: 0.8rem;">i=1</sub><sup style="font-size: 0.8rem;">H</sup> x<sub>i</sub>
                    </div>
                    <div style="color: #cbd5e1; font-size: 0.9rem;">è®¡ç®—æ¯ä¸ªä½ç½®ä¸Šæ‰€æœ‰ç‰¹å¾çš„å‡å€¼</div>
                </div>

                <!-- æ–¹å·®è®¡ç®— -->
                <div class="math-formula">
                    <div style="color: #fbbf24; font-size: 1.1rem; margin-bottom: 0.5rem;">
                        ÏƒÂ² =
                        <div class="fraction">
                            <span class="numerator">1</span>
                            <span class="denominator">H</span>
                        </div>
                        <span style="font-size: 1.2rem;">âˆ‘</span><sub style="font-size: 0.8rem;">i=1</sub><sup style="font-size: 0.8rem;">H</sup> (x<sub>i</sub> - Î¼)Â²
                    </div>
                    <div style="color: #cbd5e1; font-size: 0.9rem;">è®¡ç®—æ¯ä¸ªä½ç½®ä¸Šç‰¹å¾çš„æ–¹å·®</div>
                </div>

                <!-- å½’ä¸€åŒ–å…¬å¼ -->
                <div class="math-formula" style="background: rgba(34, 197, 94, 0.1); border-color: rgba(34, 197, 94, 0.3);">
                    <div style="color: #22c55e; font-size: 1.2rem; margin-bottom: 0.5rem;">
                        LayerNorm(x) = Î³ âŠ™
                        <div class="fraction">
                            <span class="numerator">(x - Î¼)</span>
                            <span class="denominator">âˆš(ÏƒÂ² + Îµ)</span>
                        </div>
                        + Î²
                    </div>
                    <div style="color: #cbd5e1; font-size: 0.9rem;">
                        Î³, Î² âˆˆ â„^H æ˜¯å¯å­¦ä¹ å‚æ•°ï¼›Îµ = 1Ã—10â»â¶ é˜²æ­¢é™¤é›¶
                    </div>
                </div>
            </div>
        </div>

        <!-- å®Œæ•´çŸ©é˜µè®¡ç®—ç¤ºä¾‹ -->
        <div class="matrix-section">
            <div class="matrix-title">
                <span>ğŸ§®</span>
                <span>Layer Normalizationçš„çŸ©é˜µè®¡ç®—å®ä¾‹</span>
            </div>

            <div class="calculation-step">
                <div class="step-title">
                    <div class="step-number">1</div>
                    è¾“å…¥çŸ©é˜µä¸ç»Ÿè®¡é‡è®¡ç®—
                </div>

                <div style="text-align: center; margin: 2rem 0;">
                    <div style="color: #cbd5e1; margin-bottom: 1rem;">
                        å‡è®¾è¾“å…¥Xä¸º4Ã—3çŸ©é˜µï¼ˆ4ä¸ªtokenï¼Œæ¯ä¸ª3ç»´ç‰¹å¾ï¼‰ï¼š
                    </div>

                    <div style="display: flex; justify-content: center; align-items: center; gap: 2rem; flex-wrap: wrap;">
                        <div class="matrix matrix-animated">
                            <div class="matrix-label">è¾“å…¥X</div>
                            <table>
                                <tr><td>2.5</td><td>-1.8</td><td>0.3</td></tr>
                                <tr><td>-0.7</td><td>3.2</td><td>-2.1</td></tr>
                                <tr><td>1.9</td><td>0.6</td><td>4.3</td></tr>
                                <tr><td>-1.2</td><td>2.8</td><td>-0.9</td></tr>
                            </table>
                        </div>

                        <div style="color: #fbbf24; font-size: 1.2rem;">â†’</div>

                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 1rem;">æ¯è¡Œç»Ÿè®¡é‡</div>
                            <div style="font-family: 'JetBrains Mono', monospace; color: #cbd5e1; font-size: 0.9rem; line-height: 1.6;">
                                è¡Œ1: Î¼â‚ = 0.33, Ïƒâ‚Â² = 2.17<br>
                                è¡Œ2: Î¼â‚‚ = 0.13, Ïƒâ‚‚Â² = 7.23<br>
                                è¡Œ3: Î¼â‚ƒ = 2.27, Ïƒâ‚ƒÂ² = 3.51<br>
                                è¡Œ4: Î¼â‚„ = 0.23, Ïƒâ‚„Â² = 3.97
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="calculation-step">
                <div class="step-title">
                    <div class="step-number">2</div>
                    æ ‡å‡†åŒ–è¿‡ç¨‹çš„é€æ­¥è®¡ç®—
                </div>

                <div style="margin: 2rem 0;">
                    <div style="color: #cbd5e1; margin-bottom: 1rem; text-align: center;">
                        å¯¹ç¬¬ä¸€è¡Œè¿›è¡Œè¯¦ç»†è®¡ç®—ï¼šxâ‚ = [2.5, -1.8, 0.3]
                    </div>

                    <div class="numerical-example">
                        <div class="numerical-title">ğŸ§® é€æ­¥è®¡ç®—è¿‡ç¨‹</div>

                        <div style="text-align: left; font-family: 'JetBrains Mono', monospace;">
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                                <div style="color: #fbbf24; font-weight: bold; margin-bottom: 0.5rem;">Step 1: è®¡ç®—å‡å€¼</div>
                                <div style="color: #cbd5e1; line-height: 1.6;">
                                    Î¼â‚ = (2.5 + (-1.8) + 0.3) / 3 = 1.0 / 3 = <strong style="color: #22c55e;">0.33</strong>
                                </div>
                            </div>

                            <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                                <div style="color: #fbbf24; font-weight: bold; margin-bottom: 0.5rem;">Step 2: è®¡ç®—æ–¹å·®</div>
                                <div style="color: #cbd5e1; line-height: 1.6;">
                                    Ïƒâ‚Â² = [(2.5-0.33)Â² + (-1.8-0.33)Â² + (0.3-0.33)Â²] / 3<br>
                                    Ïƒâ‚Â² = [4.71 + 4.54 + 0.001] / 3 = <strong style="color: #22c55e;">2.17</strong>
                                </div>
                            </div>

                            <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                                <div style="color: #fbbf24; font-weight: bold; margin-bottom: 0.5rem;">Step 3: æ ‡å‡†åŒ–</div>
                                <div style="color: #cbd5e1; line-height: 1.6;">
                                    normalizedâ‚ = (xâ‚ - Î¼â‚) / âˆš(Ïƒâ‚Â² + Îµ)<br>
                                    = [(2.5-0.33), (-1.8-0.33), (0.3-0.33)] / âˆš(2.17 + 1e-6)<br>
                                    = [2.17, -2.13, -0.03] / 1.47<br>
                                    = <strong style="color: #22c55e;">[1.48, -1.45, -0.02]</strong>
                                </div>
                            </div>

                            <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                                <div style="color: #fbbf24; font-weight: bold; margin-bottom: 0.5rem;">Step 4: ç¼©æ”¾å’Œåç§» (å‡è®¾Î³=[1,1,1], Î²=[0,0,0])</div>
                                <div style="color: #cbd5e1; line-height: 1.6;">
                                    outputâ‚ = Î³ âŠ™ normalizedâ‚ + Î²<br>
                                    = [1,1,1] âŠ™ [1.48, -1.45, -0.02] + [0,0,0]<br>
                                    = <strong style="color: #22c55e;">[1.48, -1.45, -0.02]</strong>
                                </div>
                            </div>
                        </div>

                        <div style="background: rgba(34, 197, 94, 0.1); padding: 1.5rem; border-radius: 8px; margin-top: 1rem;">
                            <div style="color: #22c55e; font-weight: bold; margin-bottom: 0.5rem;">âœ… éªŒè¯ç»“æœï¼š</div>
                            <div style="color: #cbd5e1; font-size: 0.9rem;">
                                è¾“å‡ºç¬¬ä¸€è¡Œçš„å‡å€¼: (1.48 + (-1.45) + (-0.02)) / 3 â‰ˆ <strong style="color: #22c55e;">0.00</strong><br>
                                è¾“å‡ºç¬¬ä¸€è¡Œçš„æ–¹å·®: æ¥è¿‘ <strong style="color: #22c55e;">1.00</strong><br>
                                æˆåŠŸå®ç°äº† Î¼â‰ˆ0, Ïƒâ‰ˆ1 çš„æ ‡å‡†åŒ–ï¼
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="calculation-step">
                <div class="step-title">
                    <div class="step-number">3</div>
                    å®Œæ•´çŸ©é˜µçš„Layer Normalizationç»“æœ
                </div>

                <div style="text-align: center; margin: 2rem 0;">
                    <div style="display: flex; justify-content: center; align-items: center; gap: 2rem; flex-wrap: wrap;">
                        <div class="matrix">
                            <div class="matrix-label">åŸå§‹è¾“å…¥</div>
                            <table>
                                <tr><td style="background: rgba(239, 68, 68, 0.2);">2.5</td><td style="background: rgba(239, 68, 68, 0.2);">-1.8</td><td style="background: rgba(239, 68, 68, 0.2);">0.3</td></tr>
                                <tr><td style="background: rgba(239, 68, 68, 0.2);">-0.7</td><td style="background: rgba(239, 68, 68, 0.2);">3.2</td><td style="background: rgba(239, 68, 68, 0.2);">-2.1</td></tr>
                                <tr><td style="background: rgba(239, 68, 68, 0.2);">1.9</td><td style="background: rgba(239, 68, 68, 0.2);">0.6</td><td style="background: rgba(239, 68, 68, 0.2);">4.3</td></tr>
                                <tr><td style="background: rgba(239, 68, 68, 0.2);">-1.2</td><td style="background: rgba(239, 68, 68, 0.2);">2.8</td><td style="background: rgba(239, 68, 68, 0.2);">-0.9</td></tr>
                            </table>
                        </div>

                        <div style="color: #22c55e; font-size: 1.5rem;">LayerNorm</div>

                        <div class="matrix matrix-animated">
                            <div class="matrix-label">æ ‡å‡†åŒ–è¾“å‡º</div>
                            <table>
                                <tr><td style="background: rgba(34, 197, 94, 0.2);">1.48</td><td style="background: rgba(34, 197, 94, 0.2);">-1.45</td><td style="background: rgba(34, 197, 94, 0.2);">-0.02</td></tr>
                                <tr><td style="background: rgba(34, 197, 94, 0.2);">-0.31</td><td style="background: rgba(34, 197, 94, 0.2);">1.14</td><td style="background: rgba(34, 197, 94, 0.2);">-0.83</td></tr>
                                <tr><td style="background: rgba(34, 197, 94, 0.2);">-0.20</td><td style="background: rgba(34, 197, 94, 0.2);">-0.89</td><td style="background: rgba(34, 197, 94, 0.2);">1.09</td></tr>
                                <tr><td style="background: rgba(34, 197, 94, 0.2);">-0.48</td><td style="background: rgba(34, 197, 94, 0.2);">1.28</td><td style="background: rgba(34, 197, 94, 0.2);">-0.80</td></tr>
                            </table>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 2rem;">
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                            <div style="color: #ef4444; font-weight: bold;">åŸå§‹æ•°æ®</div>
                            <div style="font-family: 'JetBrains Mono', monospace; color: #cbd5e1; font-size: 0.8rem;">
                                å„è¡Œå‡å€¼: [0.33, 0.13, 2.27, 0.23]<br>
                                å„è¡Œæ–¹å·®: [2.17, 7.23, 3.51, 3.97]<br>
                                åˆ†å¸ƒä¸ä¸€è‡´
                            </div>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                            <div style="color: #22c55e; font-weight: bold;">æ ‡å‡†åŒ–å</div>
                            <div style="font-family: 'JetBrains Mono', monospace; color: #cbd5e1; font-size: 0.8rem;">
                                å„è¡Œå‡å€¼: [â‰ˆ0, â‰ˆ0, â‰ˆ0, â‰ˆ0]<br>
                                å„è¡Œæ–¹å·®: [â‰ˆ1, â‰ˆ1, â‰ˆ1, â‰ˆ1]<br>
                                åˆ†å¸ƒå®Œå…¨ä¸€è‡´ï¼
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- åº”ç”¨å‰åå¯¹æ¯”å¯è§†åŒ– -->
        <div class="normalization-visual">
            <div style="color: #22c55e; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ“Š å±‚å½’ä¸€åŒ–å‰åçš„æ•°æ®åˆ†å¸ƒå¯¹æ¯”</div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <!-- å½’ä¸€åŒ–å‰ -->
                <div>
                    <h4 style="color: #ef4444; text-align: center; margin-bottom: 1rem;">âŒ å½’ä¸€åŒ–å‰</h4>
                    <div class="distribution-chart">
                        <div class="distribution-bar" style="height: 80%; background: linear-gradient(to top, rgba(239, 68, 68, 0.6), rgba(239, 68, 68, 0.9));">
                            <div class="distribution-label">-8.1</div>
                        </div>
                        <div class="distribution-bar" style="height: 45%; background: linear-gradient(to top, rgba(239, 68, 68, 0.6), rgba(239, 68, 68, 0.9));">
                            <div class="distribution-label">-2.3</div>
                        </div>
                        <div class="distribution-bar" style="height: 20%; background: linear-gradient(to top, rgba(239, 68, 68, 0.6), rgba(239, 68, 68, 0.9));">
                            <div class="distribution-label">0.1</div>
                        </div>
                        <div class="distribution-bar" style="height: 65%; background: linear-gradient(to top, rgba(239, 68, 68, 0.6), rgba(239, 68, 68, 0.9));">
                            <div class="distribution-label">3.9</div>
                        </div>
                        <div class="distribution-bar" style="height: 90%; background: linear-gradient(to top, rgba(239, 68, 68, 0.6), rgba(239, 68, 68, 0.9));">
                            <div class="distribution-label">12.7</div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 1rem; color: #ef4444; font-size: 0.9rem;">
                        Î¼ = 3.89, Ïƒ = 15.42<br>
                        åˆ†å¸ƒä¸¥é‡åç§»
                    </div>
                </div>

                <!-- å½’ä¸€åŒ–å -->
                <div>
                    <h4 style="color: #22c55e; text-align: center; margin-bottom: 1rem;">âœ… å½’ä¸€åŒ–å</h4>
                    <div class="distribution-chart">
                        <div class="distribution-bar normalize" style="height: 30%; background: linear-gradient(to top, rgba(34, 197, 94, 0.6), rgba(34, 197, 94, 0.9));">
                            <div class="distribution-label">-1.2</div>
                        </div>
                        <div class="distribution-bar normalize" style="height: 30%; background: linear-gradient(to top, rgba(34, 197, 94, 0.6), rgba(34, 197, 94, 0.9));">
                            <div class="distribution-label">-0.4</div>
                        </div>
                        <div class="distribution-bar normalize" style="height: 30%; background: linear-gradient(to top, rgba(34, 197, 94, 0.6), rgba(34, 197, 94, 0.9));">
                            <div class="distribution-label">0.0</div>
                        </div>
                        <div class="distribution-bar normalize" style="height: 30%; background: linear-gradient(to top, rgba(34, 197, 94, 0.6), rgba(34, 197, 94, 0.9));">
                            <div class="distribution-label">0.6</div>
                        </div>
                        <div class="distribution-bar normalize" style="height: 30%; background: linear-gradient(to top, rgba(34, 197, 94, 0.6), rgba(34, 197, 94, 0.9));">
                            <div class="distribution-label">1.1</div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 1rem; color: #22c55e; font-size: 0.9rem;">
                        Î¼ â‰ˆ 0.0, Ïƒ â‰ˆ 1.0<br>
                        æ ‡å‡†æ­£æ€åˆ†å¸ƒ
                    </div>
                </div>
            </div>
        </div>

        <!-- å®Œæ•´ä»£ç å®ç° -->
        <div class="code-example">
            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 1rem;">ğŸ’» å±‚å½’ä¸€åŒ–çš„å®Œæ•´å®ç°</div>
            <pre><code><span class="code-keyword">import</span> torch
<span class="code-keyword">import</span> torch.nn <span class="code-keyword">as</span> nn
<span class="code-keyword">import</span> torch.nn.functional <span class="code-keyword">as</span> F

<span class="code-keyword">class</span> <span class="code-highlight">LayerNormalization</span>(nn.Module):
    <span class="code-string">"""
    å±‚å½’ä¸€åŒ–å®ç°
    åœ¨æœ€åä¸€ä¸ªç»´åº¦ï¼ˆç‰¹å¾ç»´åº¦ï¼‰ä¸Šè¿›è¡Œå½’ä¸€åŒ–
    """</span>
    <span class="code-keyword">def</span> <span class="code-highlight">__init__</span>(self, hidden_size, eps=1e-6):
        <span class="code-highlight">super()</span>.__init__()
        self.hidden_size = hidden_size
        self.eps = eps

        <span class="code-comment"># å¯å­¦ä¹ çš„ç¼©æ”¾å’Œåç§»å‚æ•°</span>
        self.gamma = nn.Parameter(torch.ones(hidden_size))   <span class="code-comment"># ç¼©æ”¾</span>
        self.beta = nn.Parameter(torch.zeros(hidden_size))   <span class="code-comment"># åç§»</span>

    <span class="code-keyword">def</span> <span class="code-highlight">forward</span>(self, x):
        <span class="code-string">"""
        x: [batch_size, seq_len, hidden_size]
        """</span>
        <span class="code-comment"># ğŸ¯ è®¡ç®—æœ€åä¸€ä¸ªç»´åº¦çš„ç»Ÿè®¡é‡</span>
        mean = x.mean(dim=-1, keepdim=True)     <span class="code-comment"># [B, L, 1]</span>
        var = x.var(dim=-1, keepdim=True, unbiased=False)  <span class="code-comment"># [B, L, 1]</span>

        <span class="code-comment"># ğŸ¯ æ ‡å‡†åŒ–</span>
        normalized = (x - mean) / torch.sqrt(var + self.eps)

        <span class="code-comment"># ğŸ¯ ç¼©æ”¾å’Œåç§»</span>
        output = self.gamma * normalized + self.beta

        <span class="code-keyword">return</span> output

<span class="code-keyword">class</span> <span class="code-highlight">TransformerLayerWithNorm</span>(nn.Module):
    <span class="code-string">"""
    åŒ…å«å±‚å½’ä¸€åŒ–çš„å®Œæ•´Transformerå±‚
    """</span>
    <span class="code-keyword">def</span> <span class="code-highlight">__init__</span>(self, hidden_size, num_heads, ffn_size):
        <span class="code-highlight">super()</span>.__init__()
        self.attention = MultiHeadAttention(hidden_size, num_heads)
        self.feed_forward = nn.Sequential(
            nn.Linear(hidden_size, ffn_size),
            nn.ReLU(),
            nn.Linear(ffn_size, hidden_size)
        )

        <span class="code-comment"># ğŸ”¥ ä¸¤ä¸ªå±‚å½’ä¸€åŒ–å±‚</span>
        self.norm1 = LayerNormalization(hidden_size)
        self.norm2 = LayerNormalization(hidden_size)

    <span class="code-keyword">def</span> <span class="code-highlight">forward</span>(self, x):
        <span class="code-comment"># ğŸ¯ Pre-Norm è®¾è®¡ï¼ˆå…ˆå½’ä¸€åŒ–ï¼Œå†è®¡ç®—ï¼‰</span>

        <span class="code-comment"># æ³¨æ„åŠ›å­å±‚ï¼šNorm -> Attention -> æ®‹å·®</span>
        norm_x = self.norm1(x)
        attention_out = self.attention(norm_x)
        x = <span class="code-string">x + attention_out</span>

        <span class="code-comment"># å‰é¦ˆå­å±‚ï¼šNorm -> FFN -> æ®‹å·®</span>
        norm_x = self.norm2(x)
        ffn_out = self.feed_forward(norm_x)
        x = <span class="code-string">x + ffn_out</span>

        <span class="code-keyword">return</span> x

<span class="code-comment"># ğŸ§ª æµ‹è¯•ä»£ç ï¼šè§‚å¯Ÿå½’ä¸€åŒ–æ•ˆæœ</span>
<span class="code-keyword">def</span> <span class="code-highlight">test_normalization_effect</span>():
    <span class="code-comment"># åˆ›å»ºä¸€ä¸ªå…·æœ‰æç«¯åˆ†å¸ƒçš„è¾“å…¥</span>
    x = torch.randn(2, 10, 512) * 15 + 8  <span class="code-comment"># Î¼â‰ˆ8, Ïƒâ‰ˆ15</span>

    <span class="code-keyword">print</span>(<span class="code-string">f"å½’ä¸€åŒ–å‰: Î¼={x.mean():.2f}, Ïƒ={x.std():.2f}"</span>)

    <span class="code-comment"># åº”ç”¨å±‚å½’ä¸€åŒ–</span>
    layer_norm = LayerNormalization(512)
    normalized = layer_norm(x)

    <span class="code-keyword">print</span>(<span class="code-string">f"å½’ä¸€åŒ–å: Î¼={normalized.mean():.2f}, Ïƒ={normalized.std():.2f}"</span>)
    <span class="code-keyword">print</span>(<span class="code-string">f"æ¯ä¸ªä½ç½®çš„å‡å€¼: {normalized.mean(dim=-1)[0, :5]}"</span>)  <span class="code-comment"># åº”è¯¥æ¥è¿‘0</span>
    <span class="code-keyword">print</span>(<span class="code-string">f"æ¯ä¸ªä½ç½®çš„æ ‡å‡†å·®: {normalized.std(dim=-1)[0, :5]}"</span>)   <span class="code-comment"># åº”è¯¥æ¥è¿‘1</span></code></pre>
        </div>
    </div>

    <!-- ğŸ“Š å±‚å½’ä¸€åŒ–å®éªŒéªŒè¯ -->
    <div class="solution-section">
        <div style="text-align: center; margin-bottom: 2rem;">
            <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(16, 185, 129, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(34, 197, 94, 0.4);">
                <span style="font-size: 2rem;">ğŸ“Š</span>
                <h2 style="color: #22c55e; margin: 0; font-size: 1.8rem; font-weight: bold;">å®éªŒéªŒè¯ï¼šå±‚å½’ä¸€åŒ–çš„ç¥å¥‡æ•ˆæœ</h2>
            </div>
        </div>

        <!-- è®­ç»ƒç¨³å®šæ€§å¯¹æ¯” -->
        <div class="data-table">
            <div style="color: #22c55e; font-weight: bold; margin-bottom: 1rem; text-align: center;">ğŸ¯ æ®‹å·®è¿æ¥ + å±‚å½’ä¸€åŒ–çš„ç»„åˆæ•ˆæœ</div>
            <table>
                <thead>
                <tr>
                    <th>æ¶æ„é…ç½®</th>
                    <th>æ”¶æ•›æ­¥æ•°</th>
                    <th>æœ€ç»ˆBLEU</th>
                    <th>è®­ç»ƒæ—¶é—´</th>
                    <th>æ¢¯åº¦ç¨³å®šæ€§</th>
                    <th>å¯æ‰©å±•æ€§</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="color: #ef4444;">åŸå§‹Transformer</td>
                    <td class="before-data">ä¸æ”¶æ•›</td>
                    <td class="before-data">15.2</td>
                    <td class="before-data">âˆ</td>
                    <td class="before-data">æå·®</td>
                    <td class="before-data">â‰¤4å±‚</td>
                </tr>
                <tr>
                    <td style="color: #fbbf24;">+æ®‹å·®è¿æ¥</td>
                    <td class="after-data">8000</td>
                    <td class="after-data">23.7</td>
                    <td class="after-data">6å°æ—¶</td>
                    <td class="after-data">ä¸­ç­‰</td>
                    <td class="after-data">8å±‚</td>
                </tr>
                <tr>
                    <td style="color: #06b6d4;">+å±‚å½’ä¸€åŒ–</td>
                    <td class="after-data">5000</td>
                    <td class="after-data">26.1</td>
                    <td class="after-data">4å°æ—¶</td>
                    <td class="after-data">è‰¯å¥½</td>
                    <td class="after-data">10å±‚</td>
                </tr>
                <tr>
                    <td style="color: #22c55e;">æ®‹å·®+å½’ä¸€åŒ–</td>
                    <td class="after-data highlight">3000</td>
                    <td class="after-data highlight">31.4</td>
                    <td class="after-data highlight">2.5å°æ—¶</td>
                    <td class="after-data highlight">ä¼˜ç§€</td>
                    <td class="after-data highlight">24+å±‚</td>
                </tr>
                </tbody>
            </table>
        </div>

        <!-- è¯¦ç»†æ€§èƒ½åˆ†æ -->
        <div class="data-table">
            <div style="color: #22c55e; font-weight: bold; margin-bottom: 1rem; text-align: center;">ğŸ”¬ å„å±‚æ¿€æ´»å€¼ç»Ÿè®¡ï¼ˆæœ€ç»ˆç¨³å®šç‰ˆæœ¬ï¼‰</div>
            <table>
                <thead>
                <tr>
                    <th>ç½‘ç»œå±‚</th>
                    <th>å‡å€¼ (Î¼)</th>
                    <th>æ ‡å‡†å·® (Ïƒ)</th>
                    <th>æ¢¯åº¦èŒƒæ•°</th>
                    <th>æ¿€æ´»èŒƒå›´</th>
                    <th>å¥åº·çŠ¶æ€</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>ç¬¬2å±‚</td>
                    <td class="after-data">0.01</td>
                    <td class="after-data">0.99</td>
                    <td class="after-data">1.1</td>
                    <td class="after-data">[-2.1, 2.3]</td>
                    <td style="color: #22c55e;">ğŸŸ¢ ä¼˜ç§€</td>
                </tr>
                <tr>
                    <td>ç¬¬6å±‚</td>
                    <td class="after-data">-0.02</td>
                    <td class="after-data">1.01</td>
                    <td class="after-data">1.0</td>
                    <td class="after-data">[-2.2, 2.1]</td>
                    <td style="color: #22c55e;">ğŸŸ¢ ä¼˜ç§€</td>
                </tr>
                <tr>
                    <td>ç¬¬12å±‚</td>
                    <td class="after-data">0.00</td>
                    <td class="after-data">1.00</td>
                    <td class="after-data">1.2</td>
                    <td class="after-data">[-2.0, 2.2]</td>
                    <td style="color: #22c55e;">ğŸŸ¢ ä¼˜ç§€</td>
                </tr>
                <tr>
                    <td>ç¬¬24å±‚</td>
                    <td class="after-data">0.01</td>
                    <td class="after-data">0.98</td>
                    <td class="after-data">1.1</td>
                    <td class="after-data">[-2.1, 2.0]</td>
                    <td style="color: #22c55e;">ğŸŸ¢ ä¼˜ç§€</td>
                </tr>
                </tbody>
            </table>
        </div>

        <!-- å­¦ä¹ ç‡æ•æ„Ÿæ€§åˆ†æ -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin: 2rem 0;">
            <div style="color: #06b6d4; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ“ˆ å­¦ä¹ ç‡æ•æ„Ÿæ€§åˆ†æ</div>

            <div class="data-table">
                <table>
                    <thead>
                    <tr>
                        <th>å­¦ä¹ ç‡</th>
                        <th>åŸå§‹Transformer</th>
                        <th>+æ®‹å·®è¿æ¥</th>
                        <th>+LayerNorm</th>
                        <th>æ®‹å·®+LayerNorm</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>0.0001</td>
                        <td class="before-data">æ”¶æ•›æ…¢</td>
                        <td class="after-data">æ­£å¸¸</td>
                        <td class="after-data">æ­£å¸¸</td>
                        <td class="after-data">æ­£å¸¸</td>
                    </tr>
                    <tr>
                        <td>0.001</td>
                        <td class="before-data">ä¸ç¨³å®š</td>
                        <td class="after-data">åŸºæœ¬ç¨³å®š</td>
                        <td class="after-data">ç¨³å®š</td>
                        <td class="after-data highlight">æœ€ä½³</td>
                    </tr>
                    <tr>
                        <td>0.01</td>
                        <td class="before-data">å‘æ•£</td>
                        <td class="before-data">ä¸ç¨³å®š</td>
                        <td class="after-data">ç¨³å®š</td>
                        <td class="after-data">ç¨³å®š</td>
                    </tr>
                    <tr>
                        <td>0.1</td>
                        <td class="before-data">å‘æ•£</td>
                        <td class="before-data">å‘æ•£</td>
                        <td class="before-data">å‘æ•£</td>
                        <td class="after-data">ä»èƒ½è®­ç»ƒ</td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div style="background: rgba(34, 197, 94, 0.1); padding: 1.5rem; border-radius: 8px; border: 1px solid rgba(34, 197, 94, 0.3); margin-top: 1rem;">
                <div style="color: #22c55e; font-weight: bold; margin-bottom: 0.5rem;">ğŸ¯ å…³é”®å‘ç°ï¼š</div>
                <div style="color: #cbd5e1; font-size: 0.95rem;">
                    æ®‹å·®è¿æ¥ + å±‚å½’ä¸€åŒ–çš„ç»„åˆä½¿å¾—ç½‘ç»œå¯¹å­¦ä¹ ç‡çš„æ•æ„Ÿæ€§å¤§å¤§é™ä½ï¼Œ<br>
                    å³ä½¿ä½¿ç”¨è¾ƒå¤§çš„å­¦ä¹ ç‡ï¼ˆ0.01ï¼‰ï¼Œè®­ç»ƒä¾ç„¶ç¨³å®šã€‚è¿™æå¤§æå‡äº†è¶…å‚æ•°è°ƒä¼˜çš„å®¹é”™æ€§ã€‚
                </div>
            </div>
        </div>

        <div style="background: rgba(34, 197, 94, 0.1); padding: 2rem; border-radius: 12px; border: 1px solid rgba(34, 197, 94, 0.3); margin-top: 2rem;">
            <div style="color: #22c55e; font-weight: bold; margin-bottom: 1rem; font-size: 1.2rem; text-align: center;">ğŸ† å†å²æ€§çªç ´</div>
            <div style="color: #cbd5e1; font-size: 1rem; line-height: 1.8; text-align: center;">
                <strong style="color: #fbbf24;">æ®‹å·®è¿æ¥ + å±‚å½’ä¸€åŒ–</strong> = æ·±åº¦ç½‘ç»œè®­ç»ƒçš„é»„é‡‘æ ‡å‡†ï¼<br><br>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1.5rem;">
                    <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                        <strong style="color: #8b5cf6;">è®­ç»ƒé€Ÿåº¦</strong><br>
                        <span style="color: #22c55e;">æå‡2.7å€</span>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                        <strong style="color: #8b5cf6;">æ¨¡å‹æ€§èƒ½</strong><br>
                        <span style="color: #22c55e;">BLEU +16.2</span>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                        <strong style="color: #8b5cf6;">ç½‘ç»œæ·±åº¦</strong><br>
                        <span style="color: #22c55e;">24+å±‚ç¨³å®š</span>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                        <strong style="color: #8b5cf6;">æ¢¯åº¦å¥åº·</strong><br>
                        <span style="color: #22c55e;">å®Œç¾åˆ†å¸ƒ</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ğŸ”„ Pre-Norm vs Post-Norm -->
    <div class="solution-section" style="border-color: #8b5cf6;">
        <div style="text-align: center; margin-bottom: 2rem;">
            <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(124, 58, 237, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(139, 92, 246, 0.4);">
                <span style="font-size: 2rem;">ğŸ”„</span>
                <h2 style="color: #8b5cf6; margin: 0; font-size: 1.8rem; font-weight: bold;">é‡è¦å‘ç°ï¼šPre-Norm vs Post-Norm</h2>
            </div>
        </div>

        <!-- ä¸¤ç§è®¾è®¡å¯¹æ¯” -->
        <div style="background: rgba(15, 23, 42, 0.9); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 1.5rem; text-align: center;">ğŸ¯ LayerNormçš„ä½ç½®é€‰æ‹©</div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <!-- Post-Norm -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #fbbf24; margin-bottom: 1rem; text-align: center;">Post-Norm (åŸå§‹è®¾è®¡)</h4>

                    <div class="code-example" style="margin: 1rem 0; font-size: 0.8rem;">
                        <pre><code><span class="code-keyword">def</span> forward(self, x):
    <span class="code-comment"># å…ˆè®¡ç®—ï¼Œåå½’ä¸€åŒ–</span>
    attn_out = self.attention(x)
    x = <span style="color: #fbbf24;">self.norm1(x + attn_out)</span>

    ffn_out = self.feed_forward(x)
    x = <span style="color: #fbbf24;">self.norm2(x + ffn_out)</span>

    <span class="code-keyword">return</span> x</code></pre>
                    </div>

                    <div style="background: rgba(251, 191, 36, 0.1); padding: 1rem; border-radius: 8px;">
                        <div style="color: #fbbf24; font-weight: bold; margin-bottom: 0.5rem;">ç‰¹ç‚¹ï¼š</div>
                        <div style="color: #cbd5e1; font-size: 0.9rem;">
                            â€¢ åŸå§‹Transformerè®ºæ–‡çš„è®¾è®¡<br>
                            â€¢ æ®‹å·®è¿æ¥åå†å½’ä¸€åŒ–<br>
                            â€¢ è®­ç»ƒç›¸å¯¹ä¸ç¨³å®š<br>
                            â€¢ éœ€è¦warmupç­–ç•¥
                        </div>
                    </div>
                </div>

                <!-- Pre-Norm -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px;">
                    <h4 style="color: #22c55e; margin-bottom: 1rem; text-align: center;">Pre-Norm (æ”¹è¿›è®¾è®¡)</h4>

                    <div class="code-example" style="margin: 1rem 0; font-size: 0.8rem;">
                        <pre><code><span class="code-keyword">def</span> forward(self, x):
    <span class="code-comment"># å…ˆå½’ä¸€åŒ–ï¼Œåè®¡ç®—</span>
    norm_x = <span style="color: #22c55e;">self.norm1(x)</span>
    x = x + self.attention(norm_x)

    norm_x = <span style="color: #22c55e;">self.norm2(x)</span>
    x = x + self.feed_forward(norm_x)

    <span class="code-keyword">return</span> x</code></pre>
                    </div>

                    <div style="background: rgba(34, 197, 94, 0.1); padding: 1rem; border-radius: 8px;">
                        <div style="color: #22c55e; font-weight: bold; margin-bottom: 0.5rem;">ç‰¹ç‚¹ï¼š</div>
                        <div style="color: #cbd5e1; font-size: 0.9rem;">
                            â€¢ ç°ä»£LLMçš„æ ‡å‡†è®¾è®¡<br>
                            â€¢ å½’ä¸€åŒ–åå†è®¡ç®—<br>
                            â€¢ è®­ç»ƒæå…¶ç¨³å®š<br>
                            â€¢ ä¸éœ€è¦warmup
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å®éªŒå¯¹æ¯” -->
        <div class="data-table">
            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 1rem; text-align: center;">ğŸ“Š Pre-Norm vs Post-Norm å®éªŒå¯¹æ¯”</div>
            <table>
                <thead>
                <tr>
                    <th>æŒ‡æ ‡</th>
                    <th>Post-Norm</th>
                    <th>Pre-Norm</th>
                    <th>æ”¹å–„</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>è®­ç»ƒç¨³å®šæ€§</td>
                    <td class="before-data">éœ€è¦warmup</td>
                    <td class="after-data">ä¸éœ€è¦warmup</td>
                    <td style="color: #22c55e;">æ˜¾è‘—æå‡</td>
                </tr>
                <tr>
                    <td>æ¢¯åº¦èŒƒæ•°</td>
                    <td class="before-data">1.8Â±0.7</td>
                    <td class="after-data">1.1Â±0.2</td>
                    <td style="color: #22c55e;">æ›´ç¨³å®š</td>
                </tr>
                <tr>
                    <td>å¯è®­ç»ƒæ·±åº¦</td>
                    <td class="before-data">12å±‚</td>
                    <td class="after-data">100+å±‚</td>
                    <td style="color: #22c55e;">å¤§å¹…æå‡</td>
                </tr>
                <tr>
                    <td>æ”¶æ•›é€Ÿåº¦</td>
                    <td class="before-data">5000æ­¥</td>
                    <td class="after-data">3000æ­¥</td>
                    <td style="color: #22c55e;">1.7å€åŠ é€Ÿ</td>
                </tr>
                </tbody>
            </table>
        </div>

        <div style="background: rgba(139, 92, 246, 0.1); padding: 2rem; border-radius: 12px; border: 1px solid rgba(139, 92, 246, 0.3); margin-top: 2rem;">
            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 1rem; font-size: 1.2rem; text-align: center;">ğŸ” ä¸ºä»€ä¹ˆPre-Normæ›´å¥½ï¼Ÿ</div>
            <div style="color: #cbd5e1; font-size: 1rem; line-height: 1.8;">
                <strong style="color: #fbbf24;">æ•°å­¦è§£é‡Š</strong>ï¼šPre-Normç¡®ä¿æ¯ä¸ªå­æ¨¡å—çš„è¾“å…¥éƒ½æ˜¯æ ‡å‡†åŒ–çš„ï¼Œ<br>
                é¿å…äº†æ®‹å·®è·¯å¾„å’Œä¸»è·¯å¾„ä¹‹é—´çš„scaleä¸åŒ¹é…é—®é¢˜ã€‚<br><br>

                <strong style="color: #22c55e;">å®è·µå½±å“</strong>ï¼šç°ä»£æ‰€æœ‰å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆGPT-3/4ã€LLaMAç­‰ï¼‰<br>
                éƒ½é‡‡ç”¨Pre-Normè®¾è®¡ï¼Œè¿™ä¸æ˜¯å¶ç„¶ï¼<br><br>

                <span style="color: #8b5cf6; font-style: italic;">"ç»†èŠ‚å†³å®šæˆè´¥ï¼Œæ¶æ„é€‰æ‹©å½±å“æ·±è¿œ"</span>
            </div>
        </div>
    </div>

    <!-- ğŸ“ æœ¬ç« æ€»ç»“ -->
    <div class="solution-section" style="border-color: #22c55e; background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(16, 185, 129, 0.05));">
        <div style="text-align: center; margin-bottom: 3rem;">
            <div style="display: inline-flex; align-items: center; gap: 1rem; background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(16, 185, 129, 0.1)); padding: 1.5rem 3rem; border-radius: 30px; border: 1px solid rgba(34, 197, 94, 0.4);">
                <span style="font-size: 2rem;">ğŸ¯</span>
                <h2 style="color: #22c55e; margin: 0; font-size: 1.8rem; font-weight: bold;">æ·±åº¦ç½‘ç»œè®­ç»ƒï¼šä»ä¸å¯èƒ½åˆ°è½»è€Œæ˜“ä¸¾</h2>
            </div>
        </div>

        <div style="background: rgba(255, 255, 255, 0.08); padding: 2.5rem; border-radius: 16px;">
            <div style="display: grid; gap: 2rem;">
                <!-- æ ¸å¿ƒå‘ç° -->
                <div style="background: rgba(15, 23, 42, 0.8); padding: 2rem; border-radius: 12px;">
                    <h4 style="color: #22c55e; margin-bottom: 1rem; text-align: center;">ğŸ”¬ ç§‘å­¦å‘ç°</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 0.5rem;">æ®‹å·®è¿æ¥åŸç†</div>
                            <div style="color: #cbd5e1; font-size: 0.9rem;">æ¢¯åº¦ä¼ æ’­çš„"é«˜é€Ÿå…¬è·¯"ï¼Œä¿è¯æ·±å±‚ç½‘ç»œçš„å¯è®­ç»ƒæ€§</div>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                            <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 0.5rem;">å±‚å½’ä¸€åŒ–ä½œç”¨</div>
                            <div style="color: #cbd5e1; font-size: 0.9rem;">ç¨³å®šæ•°æ®åˆ†å¸ƒï¼Œæ¶ˆé™¤å†…éƒ¨åå˜é‡åç§»</div>
                        </div>
                    </div>
                </div>

                <!-- æŠ€æœ¯çªç ´ -->
                <div style="background: rgba(15, 23, 42, 0.8); padding: 2rem; border-radius: 12px;">
                    <h4 style="color: #06b6d4; margin-bottom: 1rem; text-align: center;">ğŸš€ æŠ€æœ¯çªç ´</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <div style="background: rgba(34, 197, 94, 0.1); padding: 1rem; border-radius: 8px; border: 1px solid rgba(34, 197, 94, 0.3);">
                            <strong style="color: #22c55e;">è®­ç»ƒæ·±åº¦</strong><br>
                            <span style="color: #cbd5e1; font-size: 0.9rem;">ä»4å±‚æ‰©å±•åˆ°24+å±‚</span>
                        </div>
                        <div style="background: rgba(34, 197, 94, 0.1); padding: 1rem; border-radius: 8px; border: 1px solid rgba(34, 197, 94, 0.3);">
                            <strong style="color: #22c55e;">æ¢¯åº¦ç¨³å®š</strong><br>
                            <span style="color: #cbd5e1; font-size: 0.9rem;">èŒƒæ•°ä¿æŒåœ¨0.8-1.3</span>
                        </div>
                        <div style="background: rgba(34, 197, 94, 0.1); padding: 1rem; border-radius: 8px; border: 1px solid rgba(34, 197, 94, 0.3);">
                            <strong style="color: #22c55e;">æ€§èƒ½æå‡</strong><br>
                            <span style="color: #cbd5e1; font-size: 0.9rem;">BLEUä»15.2åˆ°31.4</span>
                        </div>
                        <div style="background: rgba(34, 197, 94, 0.1); padding: 1rem; border-radius: 8px; border: 1px solid rgba(34, 197, 94, 0.3);">
                            <strong style="color: #22c55e;">è®­ç»ƒæ•ˆç‡</strong><br>
                            <span style="color: #cbd5e1; font-size: 0.9rem;">é€Ÿåº¦æå‡2.7å€</span>
                        </div>
                    </div>
                </div>

                <!-- å…³é”®æ´å¯Ÿ -->
                <div style="background: rgba(15, 23, 42, 0.8); padding: 2rem; border-radius: 12px;">
                    <h4 style="color: #fbbf24; margin-bottom: 1rem; text-align: center;">ğŸ’¡ å…³é”®æ´å¯Ÿ</h4>
                    <div style="display: grid; gap: 1rem;">
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                            <strong style="color: #8b5cf6;">è·¨é¢†åŸŸå¯å‘</strong>ï¼šä»ResNetå­¦ä¹ åˆ°Transformeråº”ç”¨
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                            <strong style="color: #8b5cf6;">ç»´åº¦è½¬æ¢</strong>ï¼šä»æ‰¹æ¬¡å½’ä¸€åŒ–åˆ°ç‰¹å¾å½’ä¸€åŒ–çš„å·§å¦™æ€è€ƒ
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                            <strong style="color: #8b5cf6;">æ¶æ„ç»†èŠ‚</strong>ï¼šPre-Norm vs Post-Normçš„é‡è¦å·®å¼‚
                        </div>
                    </div>
                </div>

                <!-- å†å²æ„ä¹‰ -->
                <div style="background: linear-gradient(135deg, rgba(251, 191, 36, 0.15), rgba(245, 158, 11, 0.1)); padding: 2rem; border-radius: 16px; border: 1px solid rgba(251, 191, 36, 0.3); text-align: center;">
                    <div style="color: #fbbf24; font-weight: bold; margin-bottom: 1rem; font-size: 1.2rem;">
                        ğŸ›ï¸ å†å²æ„ä¹‰
                    </div>
                    <div style="color: #f1f5f9; font-size: 1rem; line-height: 1.6;">
                        è¿™ä¸¤ä¸ªçœ‹ä¼¼ç®€å•çš„æŠ€æœ¯åˆ›æ–°ï¼Œå¼€å¯äº†æ·±åº¦å­¦ä¹ çš„æ–°çºªå…ƒï¼š<br><br>
                        â€¢ <strong style="color: #22c55e;">ResNeté©å‘½</strong>ï¼šè®©è®¡ç®—æœºè§†è§‰æ¨¡å‹æ·±åº¦çªç ´100å±‚<br>
                        â€¢ <strong style="color: #8b5cf6;">TransformeræˆåŠŸ</strong>ï¼šä¸ºè‡ªç„¶è¯­è¨€å¤„ç†å¥ å®šåŸºç¡€<br>
                        â€¢ <strong style="color: #06b6d4;">ç°ä»£LLM</strong>ï¼šGPTã€BERTç­‰éƒ½å»ºç«‹åœ¨è¿™ä¸ªåŸºç¡€ä¸Š<br><br>
                        <span style="color: #fbbf24; font-weight: bold;">ç®€å•çš„æ•°å­¦ï¼Œæ·±è¿œçš„å½±å“ï¼</span>
                    </div>
                </div>

                <!-- ä¸‹ä¸€æ­¥å±•æœ› -->
                <div style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(124, 58, 237, 0.1)); padding: 2rem; border-radius: 16px; border: 1px solid rgba(139, 92, 246, 0.3); text-align: center;">
                    <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 1rem; font-size: 1.2rem;">
                        ğŸ¯ ä¸‹ä¸€ç« é¢„å‘Š
                    </div>
                    <div style="color: #f1f5f9; font-size: 1rem; line-height: 1.6;">
                        è®­ç»ƒç¨³å®šæ€§é—®é¢˜å½»åº•è§£å†³ï¼ä½†æˆ‘ä»¬è¿˜æœ‰ä¸¤ä¸ªé‡è¦æŒ‘æˆ˜ï¼š<br><br>
                        <strong style="color: #fbbf24;">ä½ç½®ä¿¡æ¯ç¼ºå¤±</strong> - æ¨¡å‹ä»ç„¶ä¸ç†è§£è¯åº<br>
                        <strong style="color: #22c55e;">è¡¨è¾¾èƒ½åŠ›ä¸è¶³</strong> - éœ€è¦æ›´å¼ºçš„éçº¿æ€§å¤„ç†<br><br>
                        ä¸‹ä¸€ç« ï¼Œæˆ‘ä»¬å°†æ­å¼€ä½ç½®ç¼–ç çš„å¥¥ç§˜ï¼Œè®©TransformerçœŸæ­£ç†è§£åºåˆ—ï¼
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- å¯¼èˆª -->
    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 3rem; padding: 2rem; background: rgba(255, 255, 255, 0.05); border-radius: 12px; backdrop-filter: blur(10px);">
        <button style="padding: 0.8rem 1.5rem; background: linear-gradient(45deg, #8b5cf6, #7c3aed); color: white; border: none; border-radius: 8px; cursor: pointer; text-decoration: none; transition: all 0.3s ease; font-weight: bold; display: flex; align-items: center; gap: 0.5rem;" onclick="window.history.back()">
            â† ç¬¬6ç« ï¼šç¬¬ä¸€ç‰ˆçš„é—®é¢˜åˆ†æ
        </button>

        <div style="text-align: center; color: #cbd5e1;">
            <strong>ç¬¬7ç« ï¼šè®©è®­ç»ƒå˜ç¨³å®š</strong><br>
            <span>æ•°å­¦åŸç†ã€å®éªŒéªŒè¯ä¸å†å²çªç ´</span>
        </div>

        <button style="padding: 0.8rem 1.5rem; background: linear-gradient(45deg, #22c55e, #16a34a); color: white; border: none; border-radius: 8px; cursor: pointer; text-decoration: none; transition: all 0.3s ease; font-weight: bold; display: flex; align-items: center; gap: 0.5rem;" onclick="window.location.href='#chapter-8'">
            ç¬¬8ç« ï¼šä½ç½®ç¼–ç çš„æ™ºæ…§ â†’
        </button>
    </div>
</div>

<script>
    // æ·»åŠ äº¤äº’æ•ˆæœ
    document.addEventListener('DOMContentLoaded', function() {
        // æ•°æ®è¡¨æ ¼é«˜äº®åŠ¨ç”»
        const highlightCells = document.querySelectorAll('.highlight');
        highlightCells.forEach((cell, index) => {
            setTimeout(() => {
                cell.style.animation = 'matrix-highlight 2s infinite';
            }, index * 500);
        });

        // åˆ†å¸ƒå½’ä¸€åŒ–åŠ¨ç”»
        const normalizeBars = document.querySelectorAll('.normalize');
        normalizeBars.forEach((bar, index) => {
            setTimeout(() => {
                bar.style.animation = 'data-normalize 3s infinite';
            }, index * 200);
        });

        // çŸ©é˜µåŠ¨ç”»
        const animatedMatrices = document.querySelectorAll('.matrix-animated');
        animatedMatrices.forEach((matrix, index) => {
            setTimeout(() => {
                matrix.style.animation = 'matrix-pulse 4s infinite';
            }, index * 1000);
        });

        // æ•°å­¦å…¬å¼æ‚¬åœæ•ˆæœ
        const mathFormulas = document.querySelectorAll('.math-formula');
        mathFormulas.forEach(formula => {
            formula.addEventListener('mouseenter', function() {
                this.style.transform = 'scale(1.02)';
                this.style.boxShadow = '0 8px 30px rgba(139, 92, 246, 0.3)';
            });

            formula.addEventListener('mouseleave', function() {
                this.style.transform = 'scale(1)';
                this.style.boxShadow = 'none';
            });
        });

        // ä»£ç å—è¯­æ³•é«˜äº®å¢å¼º
        const codeBlocks = document.querySelectorAll('.code-example');
        codeBlocks.forEach(code => {
            code.addEventListener('click', function() {
                this.style.background = 'rgba(34, 197, 94, 0.1)';
                setTimeout(() => {
                    this.style.background = 'rgba(15, 23, 42, 0.95)';
                }, 300);
            });
        });

        // æ—¶é—´çº¿æ‚¬åœæ•ˆæœ
        const timelineItems = document.querySelectorAll('.timeline-item');
        timelineItems.forEach(item => {
            item.addEventListener('mouseenter', function() {
                const dot = this.querySelector('.timeline-dot');
                dot.style.transform = 'scale(1.1)';
                dot.style.boxShadow = '0 5px 20px rgba(139, 92, 246, 0.4)';
            });

            item.addEventListener('mouseleave', function() {
                const dot = this.querySelector('.timeline-dot');
                dot.style.transform = 'scale(1)';
                dot.style.boxShadow = 'none';
            });
        });

        // åˆ†å¸ƒå›¾æŸ±çŠ¶æ¡äº¤äº’
        const distributionBars = document.querySelectorAll('.distribution-bar');
        distributionBars.forEach(bar => {
            bar.addEventListener('click', function() {
                this.style.background = 'linear-gradient(to top, rgba(251, 191, 36, 0.6), rgba(251, 191, 36, 0.9))';
                setTimeout(() => {
                    this.style.background = this.dataset.originalBg || this.style.background;
                }, 1000);
            });
        });

        // è®¡ç®—æ­¥éª¤é«˜äº®æ•ˆæœ
        const calculationSteps = document.querySelectorAll('.calculation-step');
        calculationSteps.forEach((step, index) => {
            step.addEventListener('mouseenter', function() {
                this.style.background = 'rgba(34, 197, 94, 0.05)';
                this.style.transform = 'translateY(-2px)';
                this.style.boxShadow = '0 8px 25px rgba(34, 197, 94, 0.2)';
            });

            step.addEventListener('mouseleave', function() {
                this.style.background = 'rgba(15, 23, 42, 0.9)';
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = 'none';
            });
        });

        // å“åº”å¼è¡¨æ ¼å¤„ç†
        const dataTables = document.querySelectorAll('.data-table');
        dataTables.forEach(table => {
            const wrapper = document.createElement('div');
            wrapper.style.overflowX = 'auto';
            wrapper.style.overflowY = 'hidden';
            table.parentNode.insertBefore(wrapper, table);
            wrapper.appendChild(table);
        });

        // æ·»åŠ æ¸å…¥åŠ¨ç”»
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // è§‚å¯Ÿæ‰€æœ‰ä¸»è¦åŒºå—
        document.querySelectorAll('.solution-section, .solution-discovery, .matrix-section').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'all 0.6s ease-out';
            observer.observe(el);
        });
    });
</script>
