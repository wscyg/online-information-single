<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Á¨¨7Á´†ÔºöÂæ™ÁéØÁ•ûÁªèÁΩëÁªúRNN - ËÆ©Á•ûÁªèÁΩëÁªúÊã•ÊúâËÆ∞ÂøÜ | Ê∑±Â∫¶Â≠¶‰π†Â∫èÂàóÂª∫Ê®°</title>
    <meta name="description" content="‰ªéÊó∂Èó¥Â∫èÂàóÁöÑÊú¨Ë¥®Âá∫ÂèëÔºåÁêÜËß£‰∏∫‰ªÄ‰πàÈúÄË¶ÅRNNÔºåÊ∑±ÂÖ•Êé¢Á¥¢Âæ™ÁéØÊú∫Âà∂ÁöÑÂéüÁêÜÔºå‰ª•ÂèäÂ¶Ç‰ΩïËÆ©Á•ûÁªèÁΩëÁªúÂ§ÑÁêÜÂ∫èÂàóÊï∞ÊçÆ">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css">
    <style>
        /* ===== CSSÂèòÈáèÂÆö‰πâ ===== */
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --rnn-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --time-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --memory-gradient: linear-gradient(135deg, #30cfd0 0%, #330867 100%);
            --bg-dark: #0f172a;
            --bg-section: #1e293b;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --accent-red: #ef4444;
            --accent-green: #22c55e;
            --accent-blue: #3b82f6;
            --accent-yellow: #fbbf24;
            --accent-purple: #8b5cf6;
            --accent-pink: #ec4899;
            --accent-orange: #f97316;
            --accent-cyan: #06b6d4;
            --border-color: rgba(255, 255, 255, 0.1);
            --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.3);
            --animation-duration: 0.3s;
            --content-max-width: 1200px;
        }

        /* ‰∫ÆËâ≤‰∏ªÈ¢ò */
        [data-theme="light"] {
            --bg-dark: #ffffff;
            --bg-section: #f8fafc;
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --text-muted: #64748b;
            --border-color: rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.1);
        }

        /* ===== ÂÖ®Â±ÄÊ†∑Âºè ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            transition: background-color var(--animation-duration) ease;
        }

        /* ===== Â∏ÉÂ±ÄÁªÑ‰ª∂ ===== */
        .container {
            max-width: var(--content-max-width);
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* ===== ÂØºËà™Ê†è ===== */
        .nav-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            border-bottom: 1px solid var(--border-color);
            transition: transform 0.3s ease;
        }

        .nav-header.hidden {
            transform: translateY(-100%);
        }

        .nav-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 0;
        }

        .nav-title {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .nav-title h1 {
            font-size: 1.25rem;
            font-weight: 600;
            background: var(--rnn-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .btn-control {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 0.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all var(--animation-duration) ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
        }

        .btn-control:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .nav-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: rgba(255, 255, 255, 0.1);
        }

        .progress-bar {
            height: 100%;
            background: var(--rnn-gradient);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* ===== ‰æßËæπÂØºËà™ ===== */
        .sidebar {
            position: fixed;
            left: -300px;
            top: 60px;
            bottom: 0;
            width: 300px;
            background: var(--bg-section);
            border-right: 1px solid var(--border-color);
            padding: 2rem;
            overflow-y: auto;
            transition: transform 0.3s ease;
            z-index: 999;
        }

        .sidebar.open {
            transform: translateX(300px);
        }

        .sidebar-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 998;
        }

        .sidebar-overlay.active {
            display: block;
        }

        .toc-item {
            display: block;
            padding: 0.75rem 1rem;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 0.5rem;
            transition: all var(--animation-duration) ease;
            margin-bottom: 0.25rem;
        }

        .toc-item:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            transform: translateX(4px);
        }

        .toc-item.active {
            background: var(--rnn-gradient);
            color: white;
        }

        /* ===== ‰∏ªÂÜÖÂÆπÂå∫ ===== */
        main {
            margin-top: 80px;
            padding-bottom: 4rem;
        }

        /* ===== Á´†ËäÇÂç°Áâá ===== */
        .chapter-hero {
            background: var(--rnn-gradient);
            padding: 4rem 0;
            margin-bottom: 3rem;
            position: relative;
            overflow: hidden;
        }

        .chapter-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: pulse 10s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.1) rotate(180deg); }
        }

        .chapter-hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            color: white;
        }

        .chapter-hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            animation: fadeInUp 0.8s ease;
        }

        .chapter-hero p {
            font-size: 1.25rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
            animation: fadeInUp 0.8s ease 0.2s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ===== ÂÜÖÂÆπÂå∫Âùó ===== */
        .section-card {
            background: var(--bg-section);
            border-radius: 1rem;
            padding: 2.5rem;
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-lg);
            transition: transform var(--animation-duration) ease;
        }

        .section-card:hover {
            transform: translateY(-2px);
        }

        /* ===== ÊïÖ‰∫ãÂç°Áâá ===== */
        .story-card {
            background: linear-gradient(135deg, rgba(240, 147, 251, 0.15), rgba(245, 87, 108, 0.1));
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 2px solid rgba(240, 147, 251, 0.2);
            position: relative;
            overflow: hidden;
        }

        .story-card::before {
            content: 'üìñ';
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 5rem;
            opacity: 0.1;
            transform: rotate(15deg);
        }

        /* ===== ÂØπËØùÊ°Ü ===== */
        .dialogue-box {
            background: rgba(255, 255, 255, 0.05);
            border-left: 4px solid var(--accent-pink);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 0.5rem 0.5rem 0;
            position: relative;
        }

        .dialogue-box .speaker {
            font-weight: bold;
            color: var(--accent-pink);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .dialogue-box .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        /* ===== Ê¶ÇÂøµÁΩëÊ†º ===== */
        .concept-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .concept-card {
            padding: 1.5rem;
            border-radius: 0.75rem;
            transition: all var(--animation-duration) ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .concept-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--rnn-gradient);
            transform: scaleX(0);
            transition: transform var(--animation-duration) ease;
        }

        .concept-card:hover::before {
            transform: scaleX(1);
        }

        .concept-card.why {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .concept-card.what {
            background: rgba(34, 197, 94, 0.1);
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        .concept-card.how {
            background: rgba(79, 172, 254, 0.1);
            border: 1px solid rgba(79, 172, 254, 0.3);
        }

        .concept-card.pitfall {
            background: rgba(251, 191, 36, 0.1);
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        /* ===== Êï∞Â≠¶ÂÆπÂô® ===== */
        .math-container {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.05));
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: 1rem;
            padding: 2.5rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .math-container::before {
            content: '‚àë';
            position: absolute;
            top: -30px;
            right: 20px;
            font-size: 6rem;
            opacity: 0.05;
            font-family: 'Times New Roman', serif;
        }

        /* ÁæéÂåñÁöÑÊï∞Â≠¶ÂÖ¨Âºè */
        .math-formula {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 0.75rem;
            padding: 2rem;
            margin: 1.5rem 0;
            text-align: center;
            font-size: 1.2rem;
            overflow-x: auto;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .math-formula-title {
            position: absolute;
            top: -12px;
            left: 2rem;
            background: var(--bg-section);
            padding: 0 1rem;
            font-size: 0.875rem;
            color: var(--accent-purple);
            font-weight: 600;
        }

        /* ===== ÊÄùËÄÉÁõíÂ≠ê ===== */
        .think-box {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(124, 58, 237, 0.1));
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
        }

        .think-box::before {
            content: 'ü§î';
            position: absolute;
            top: -15px;
            left: 30px;
            font-size: 2rem;
            background: var(--bg-section);
            padding: 0 10px;
        }

        /* ===== ‰ª£Á†ÅÂÆπÂô® ===== */
        .code-container {
            margin: 2rem 0;
            border-radius: 0.75rem;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        .code-header {
            background: #1a1a2e;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .code-header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .code-header-right {
            display: flex;
            gap: 0.5rem;
        }

        .code-tab {
            padding: 0.5rem 1rem;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            border-radius: 0.5rem;
            transition: all var(--animation-duration) ease;
        }

        .code-tab.active {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        .code-action {
            padding: 0.5rem 1rem;
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            cursor: pointer;
            border-radius: 0.5rem;
            transition: all var(--animation-duration) ease;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .code-action:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-1px);
        }

        .code-content {
            background: #0d1117;
            overflow-x: auto;
            position: relative;
        }

        .code-content pre {
            margin: 0;
            padding: 1.5rem;
        }

        .code-content code {
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .code-output {
            background: rgba(34, 197, 94, 0.1);
            border: 1px solid rgba(34, 197, 94, 0.3);
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
            font-family: monospace;
            font-size: 0.875rem;
            display: none;
        }

        .code-output.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ===== ÂèØËßÜÂåñÂÆπÂô® ===== */
        .visualization-container {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid var(--border-color);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
        }

        .viz-controls {
            display: flex;
            gap: 2rem;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .viz-control-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .viz-control-group label {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        input[type="range"] {
            width: 150px;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            background: var(--rnn-gradient);
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        .slider-value {
            background: rgba(255, 255, 255, 0.1);
            padding: 0.25rem 0.75rem;
            border-radius: 0.5rem;
            font-family: monospace;
            min-width: 50px;
            text-align: center;
        }

        canvas {
            display: block;
            margin: 0 auto;
            border-radius: 0.5rem;
            background: rgba(0, 0, 0, 0.2);
        }

        /* ===== ÂèÇÊï∞ÂØπÊØîË°®Ê†º ===== */
        .comparison-table {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 1rem;
            overflow: hidden;
            margin: 2rem 0;
            box-shadow: var(--shadow-lg);
        }

        .comparison-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .comparison-table th {
            background: var(--rnn-gradient);
            color: white;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
        }

        .comparison-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .comparison-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .comparison-table .highlight {
            color: var(--accent-green);
            font-weight: bold;
        }

        /* ===== Êû∂ÊûÑÂõæ ===== */
        .architecture-diagram {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 1rem;
            margin: 2rem 0;
            overflow-x: auto;
        }

        .arch-layer {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1rem;
            min-width: 120px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .arch-layer:hover {
            transform: translateY(-4px);
            border-color: var(--accent-pink);
            box-shadow: 0 8px 16px rgba(236, 72, 153, 0.2);
        }

        .arch-layer h4 {
            color: var(--accent-pink);
            margin-bottom: 0.5rem;
        }

        .arch-arrow {
            font-size: 1.5rem;
            color: var(--text-secondary);
        }

        /* ===== RNN Âä®Áîª ===== */
        .rnn-animation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            margin: 2rem 0;
            position: relative;
        }

        .rnn-cell {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, rgba(79, 172, 254, 0.2), rgba(0, 242, 254, 0.1));
            border: 2px solid rgba(79, 172, 254, 0.5);
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: all 0.3s ease;
        }

        .rnn-cell.active {
            background: linear-gradient(135deg, rgba(79, 172, 254, 0.4), rgba(0, 242, 254, 0.3));
            transform: scale(1.1);
            box-shadow: 0 8px 16px rgba(79, 172, 254, 0.3);
        }

        .time-step {
            position: absolute;
            bottom: -25px;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .hidden-state {
            position: absolute;
            top: -40px;
            background: rgba(139, 92, 246, 0.2);
            padding: 0.25rem 0.75rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-family: monospace;
        }

        /* ===== Â∫èÂàóÁ§∫‰æã ===== */
        .sequence-example {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 0.75rem;
            padding: 2rem;
            margin: 2rem 0;
            font-family: monospace;
        }

        .sequence-step {
            display: inline-block;
            background: rgba(79, 172, 254, 0.2);
            padding: 0.5rem 1rem;
            margin: 0.25rem;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
        }

        .sequence-step.active {
            background: var(--rnn-gradient);
            color: white;
            transform: scale(1.1);
        }

        /* ===== Ê¢ØÂ∫¶ÊµÅÂõæ ===== */
        .gradient-flow-diagram {
            position: relative;
            height: 300px;
            margin: 2rem 0;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 1rem;
            padding: 2rem;
        }

        /* ===== ÊåâÈíÆÊ†∑Âºè ===== */
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--animation-duration) ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--rnn-gradient);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(240, 147, 251, 0.3);
        }

        .btn-secondary {
            background: transparent;
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* ===== ÊèêÁ§∫Ê°Ü ===== */
        .tip {
            display: flex;
            gap: 1rem;
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin: 1.5rem 0;
        }

        .tip-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .tip-content {
            flex: 1;
        }

        .tip.info {
            background: rgba(79, 172, 254, 0.1);
            border: 1px solid rgba(79, 172, 254, 0.3);
        }

        .tip.warning {
            background: rgba(251, 191, 36, 0.1);
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        .tip.error {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .tip.success {
            background: rgba(34, 197, 94, 0.1);
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        /* ===== Âä®‰ΩúÊ∏ÖÂçï ===== */
        .action-checklist {
            background: rgba(251, 191, 36, 0.1);
            border: 1px solid rgba(251, 191, 36, 0.3);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            margin: 0.5rem 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 0.5rem;
            transition: all var(--animation-duration) ease;
        }

        .checklist-item:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateX(4px);
        }

        .checklist-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid var(--accent-yellow);
            border-radius: 0.25rem;
            cursor: pointer;
            transition: all var(--animation-duration) ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .checklist-checkbox.checked {
            background: var(--accent-yellow);
        }

        .checklist-checkbox.checked::after {
            content: '‚úì';
            color: var(--bg-dark);
            font-weight: bold;
        }

        /* ===== Ê≠•È™§ÊåáÁ§∫Âô® ===== */
        .step-indicator {
            display: flex;
            align-items: center;
            justify-content: space-around;
            margin: 2rem 0;
            position: relative;
        }

        .step-indicator::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 10%;
            right: 10%;
            height: 2px;
            background: rgba(255, 255, 255, 0.2);
            z-index: 0;
        }

        .step-item {
            position: relative;
            z-index: 1;
            text-align: center;
        }

        .step-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--bg-section);
            border: 3px solid var(--accent-pink);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            margin: 0 auto 0.5rem;
            transition: all 0.3s ease;
        }

        .step-item.active .step-circle {
            background: var(--accent-pink);
            color: white;
            transform: scale(1.1);
        }

        .step-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* ===== ÂìçÂ∫îÂºèËÆæËÆ° ===== */
        @media (max-width: 1024px) {
            .chapter-hero h1 {
                font-size: 2.5rem;
            }

            .concept-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }

            .architecture-diagram {
                flex-direction: column;
            }

            .arch-arrow {
                transform: rotate(90deg);
            }
        }

        @media (max-width: 768px) {
            .nav-title h1 {
                font-size: 1rem;
            }

            .section-card {
                padding: 1.5rem;
            }

            .chapter-hero {
                padding: 3rem 0;
            }

            .chapter-hero h1 {
                font-size: 2rem;
            }

            .chapter-hero p {
                font-size: 1rem;
            }

            .viz-controls {
                flex-direction: column;
                align-items: stretch;
            }

            input[type="range"] {
                width: 100%;
            }

            .step-indicator {
                flex-direction: column;
                gap: 2rem;
            }

            .step-indicator::before {
                display: none;
            }

            .comparison-table {
                overflow-x: auto;
            }

            .comparison-table table {
                min-width: 600px;
            }
        }

        @media (max-width: 768px) {
            .key-concept-card {
                padding: 2rem !important;
            }

            .key-concept-card > div:nth-child(3) {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 1.5rem !important;
            }

            .key-concept-card h2 {
                font-size: 1.5rem !important;
            }

            .key-concept-card > p {
                font-size: 1.1rem !important;
            }
        }

        @media (max-width: 480px) {
            .key-concept-card > div:nth-child(3) {
                grid-template-columns: 1fr !important;
            }

            .key-concept-card {
                padding: 1.5rem !important;
            }
        }

        /* ===== Â∑•ÂÖ∑Á±ª ===== */
        .text-center {
            text-align: center;
        }

        .mt-1 { margin-top: 0.5rem; }
        .mt-2 { margin-top: 1rem; }
        .mt-3 { margin-top: 1.5rem; }
        .mt-4 { margin-top: 2rem; }

        .mb-1 { margin-bottom: 0.5rem; }
        .mb-2 { margin-bottom: 1rem; }
        .mb-3 { margin-bottom: 1.5rem; }
        .mb-4 { margin-bottom: 2rem; }

        /* ===== Âä†ËΩΩÂä®Áîª ===== */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--accent-pink);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ===== Â≠¶‰π†‰ºô‰º¥Ê†∑Âºè ===== */
        .learning-buddy {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 300px;
            background: var(--bg-section);
            border: 2px solid var(--accent-pink);
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: var(--shadow-lg);
            z-index: 900;
            transform: translateY(400px);
            transition: transform 0.5s ease;
        }

        .learning-buddy.active {
            transform: translateY(0);
        }

        .learning-buddy.minimized {
            width: auto;
            padding: 0;
            border-radius: 50%;
            overflow: hidden;
        }

        .learning-buddy.minimized .buddy-content {
            display: none;
        }

        .learning-buddy.minimized .buddy-avatar {
            margin: 0;
            cursor: pointer;
        }

        .buddy-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .buddy-avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #f093fb, #f5576c);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            flex-shrink: 0;
        }

        .buddy-controls {
            display: flex;
            gap: 0.5rem;
        }

        .buddy-control-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 1px solid var(--border-color);
            background: transparent;
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .buddy-control-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .buddy-message {
            background: rgba(240, 147, 251, 0.1);
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            position: relative;
        }

        .buddy-message::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 20px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 8px solid rgba(240, 147, 251, 0.1);
        }

        /* ÊàêÂ∞±ÂºπÁ™óÊ†∑Âºè */
        .achievement-popup {
            position: fixed;
            top: 100px;
            right: -400px;
            width: 350px;
            background: var(--bg-section);
            border: 2px solid var(--accent-yellow);
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            transition: right 0.5s ease;
        }

        .achievement-popup.show {
            right: 20px;
        }

        .achievement-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .achievement-icon {
            width: 60px;
            height: 60px;
            background: var(--accent-yellow);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .achievement-content h3 {
            color: var(--accent-yellow);
            margin-bottom: 0.25rem;
        }

        /* Ê∑ªÂä†Â≠¶‰π†‰ºô‰º¥ÊåâÈíÆÂà∞ÂØºËà™Ê†è */
        #toggle-buddy {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 0.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all var(--animation-duration) ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
        }

        #toggle-buddy:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        /* KaTeX Ê†∑ÂºèË¶ÜÁõñ */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            padding: 1rem 0;
        }

        .katex {
            font-size: 1.1em;
        }

        /* Êó∂Èó¥Â∫èÂàóÁ§∫‰æãÊ†∑Âºè */
        .time-series-example {
            background: linear-gradient(135deg, rgba(250, 112, 154, 0.1), rgba(254, 225, 64, 0.1));
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
        }

        .time-series-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .time-series-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Â±ïÂºÄÂõæÊ†∑Âºè */
        .unfolding-diagram {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 1rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .unfolding-cell {
            background: linear-gradient(135deg, rgba(240, 147, 251, 0.2), rgba(245, 87, 108, 0.1));
            border: 2px solid rgba(240, 147, 251, 0.3);
            border-radius: 0.75rem;
            padding: 1.5rem;
            min-width: 100px;
            text-align: center;
            position: relative;
        }

        .unfolding-arrow {
            font-size: 2rem;
            color: var(--accent-pink);
            display: flex;
            align-items: center;
        }
    </style>
</head>
<body>

<!-- ÂØºËà™Ê†è -->
<nav class="nav-header" role="navigation" aria-label="‰∏ªÂØºËà™">
    <div class="container">
        <div class="nav-content">
            <div class="nav-title">
                <button id="toggle-sidebar" class="btn-control" aria-label="ÂàáÊç¢‰æßËæπÊ†è">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
                <h1>Á¨¨7Á´†ÔºöÂæ™ÁéØÁ•ûÁªèÁΩëÁªúRNN</h1>
            </div>
            <div class="nav-controls">
                <button id="toggle-buddy" class="btn-control" aria-label="Â≠¶‰π†Âä©Êâã">
                    ü§ñ
                </button>
                <button id="toggle-animations" class="btn-control" aria-label="ÂàáÊç¢Âä®Áîª">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M10 8l6 4-6 4V8z"></path>
                    </svg>
                </button>
                <button id="toggle-theme" class="btn-control" aria-label="ÂàáÊç¢‰∏ªÈ¢ò">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                    </svg>
                </button>
            </div>
        </div>
        <div class="nav-progress">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
    </div>
</nav>

<!-- ‰æßËæπÊ†è -->
<aside class="sidebar" id="sidebar">
    <h3 style="margin-bottom: 1.5rem; color: var(--accent-pink);">ÁõÆÂΩïÂØºËà™</h3>
    <nav>
        <a href="#intro" class="toc-item active">Â∫èË®ÄÔºöÊó∂Èó¥ÁöÑÁßòÂØÜ</a>
        <a href="#why-rnn" class="toc-item">‰∏∫‰ªÄ‰πàÈúÄË¶ÅRNN</a>
        <a href="#sequence-problem" class="toc-item">Â∫èÂàóÊï∞ÊçÆÁöÑÊåëÊàò</a>
        <a href="#rnn-idea" class="toc-item">RNNÁöÑÊ†∏ÂøÉÊÄùÊÉ≥</a>
        <a href="#rnn-architecture" class="toc-item">RNNÁöÑÊï∞Â≠¶ÂéüÁêÜ</a>
        <a href="#forward-backward" class="toc-item">ÂâçÂêë‰º†Êí≠‰∏éÂèçÂêë‰º†Êí≠</a>
        <a href="#implementation" class="toc-item">‰ªéÈõ∂ÂÆûÁé∞RNN</a>
        <a href="#gradient-problem" class="toc-item">Ê¢ØÂ∫¶Ê∂àÂ§±‰∏éÁàÜÁÇ∏</a>
        <a href="#practice" class="toc-item">ÂÆûÊàòÔºöÊñáÊú¨ÁîüÊàê</a>
        <a href="#visualization" class="toc-item">ÂèØËßÜÂåñRNNÂÜÖÈÉ®</a>
        <a href="#summary" class="toc-item">ÊÄªÁªì‰∏éÂ±ïÊúõ</a>
    </nav>
</aside>

<!-- ‰æßËæπÊ†èÈÅÆÁΩ© -->
<div class="sidebar-overlay" id="sidebar-overlay"></div>

<!-- ‰∏ªÂÜÖÂÆπ -->
<main>
    <!-- Á´†ËäÇÊ†áÈ¢ò -->
    <section class="chapter-hero" style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%); padding: 6rem 0; position: relative; overflow: hidden;">
        <!-- ËÉåÊôØË£ÖÈ•∞ -->
        <div style="position: absolute; top: -50%; right: -10%; width: 600px; height: 600px; background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%); border-radius: 50%;"></div>
        <div style="position: absolute; bottom: -30%; left: -5%; width: 400px; height: 400px; background: radial-gradient(circle, rgba(255,255,255,0.08) 0%, transparent 70%); border-radius: 50%;"></div>

        <div class="container">
            <div class="chapter-hero-content" style="text-align: center; color: white; position: relative; z-index: 2;">
                <h1 style="font-size: 3.5rem; margin-bottom: 1.5rem; font-weight: 700; text-shadow: 0 2px 10px rgba(0,0,0,0.2);">
                    Âæ™ÁéØÁ•ûÁªèÁΩëÁªúÔºöËÆ©AIÊã•ÊúâËÆ∞ÂøÜ
                </h1>
                <p style="font-size: 1.4rem; opacity: 0.95; max-width: 700px; margin: 0 auto 3rem; text-shadow: 0 1px 5px rgba(0,0,0,0.2);">
                    Êé¢Á¥¢Êó∂Èó¥Áª¥Â∫¶ÁöÑÂ••ÁßòÔºåÁêÜËß£Â∫èÂàóÊï∞ÊçÆÁöÑÊú¨Ë¥®ÔºåËÆ©Á•ûÁªèÁΩëÁªúÂ≠¶‰ºö"ËÆ∞ÂøÜ"
                </p>

                <!-- Ê†áÁ≠æ -->
                <div style="display: flex; justify-content: center; gap: 1.5rem; flex-wrap: wrap;">
                    <span style="background: rgba(255, 255, 255, 0.25); padding: 0.75rem 1.5rem; border-radius: 30px; display: flex; align-items: center; gap: 0.5rem; backdrop-filter: blur(10px); font-size: 1.1rem;">
                        <span style="font-size: 1.3rem;">üîÑ</span> Âæ™ÁéØÊú∫Âà∂
                    </span>
                    <span style="background: rgba(255, 255, 255, 0.25); padding: 0.75rem 1.5rem; border-radius: 30px; display: flex; align-items: center; gap: 0.5rem; backdrop-filter: blur(10px); font-size: 1.1rem;">
                        <span style="font-size: 1.3rem;">‚è±Ô∏è</span> 120ÂàÜÈíü
                    </span>
                    <span style="background: rgba(255, 255, 255, 0.25); padding: 0.75rem 1.5rem; border-radius: 30px; display: flex; align-items: center; gap: 0.5rem; backdrop-filter: blur(10px); font-size: 1.1rem;">
                        <span style="font-size: 1.3rem;">üéØ</span> Â∫èÂàóÂª∫Ê®°
                    </span>
                </div>
            </div>
        </div>
    </section>

    <!-- ‰∏ÄÂè•ËØùÁêÜËß£RNN -->
    <section style="background: var(--bg-dark); padding: 4rem 0 2rem 0; position: relative;">
        <div class="container">
            <div class="key-concept-card" style="
                background: linear-gradient(135deg, #334155 0%, #475569 100%);
                border-radius: 1.5rem;
                padding: 3rem;
                margin: 0 auto;
                max-width: 1000px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                border: 1px solid rgba(255,255,255,0.1);
            ">
                <h2 style="color: white; font-size: 1.8rem; margin-bottom: 2rem; text-align: center; display: flex; align-items: center; justify-content: center; gap: 1rem;">
                    <span style="font-size: 2rem;">üí°</span>
                    ‰∏ÄÂè•ËØùÁêÜËß£RNN
                </h2>

                <p style="color: #e2e8f0; font-size: 1.3rem; line-height: 1.8; text-align: center; margin-bottom: 3rem;">
                    RNNÂ∞±ÂÉè‰∏Ä‰∏™ÊúâÁü≠ÊúüËÆ∞ÂøÜÁöÑ‰∫∫Ôºå<br>
                    ÂÆÉ‰ºöÊää‰πãÂâçÁúãÂà∞ÁöÑ‰ø°ÊÅØÂ≠òÂú®"ÈöêËóèÁä∂ÊÄÅ"ÈáåÔºå<br>
                    <span style="color: #fbbf24; font-weight: 600;">Â§ÑÁêÜÊñ∞‰ø°ÊÅØÊó∂‰ºöÂèÇËÄÉ‰πãÂâçÁöÑËÆ∞ÂøÜÔºåÂ∞±ÂÉè‰Ω†ËØª‰π¶Êó∂‰ºöËÆ∞‰ΩèÂâçÈù¢ÁöÑÂÜÖÂÆπ„ÄÇ</span>
                </p>

                <!-- Âõõ‰∏™Ê†∏ÂøÉÊ¶ÇÂøµ -->
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 2rem; margin-bottom: 3rem;">
                    <div style="text-align: center;">
                        <div style="
                            width: 80px;
                            height: 80px;
                            margin: 0 auto 1rem;
                            background: rgba(255,255,255,0.1);
                            border-radius: 20px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 2.5rem;
                            border: 1px solid rgba(255,255,255,0.2);
                        ">
                            üîÑ
                        </div>
                        <h4 style="color: white; margin-bottom: 0.5rem; font-size: 1rem;">Âæ™ÁéØËøûÊé•</h4>
                        <p style="color: #94a3b8; font-size: 0.85rem; line-height: 1.4;">
                            ËæìÂá∫ÂèçÈ¶àÂà∞ËæìÂÖ•<br>ÂΩ¢ÊàêËÆ∞ÂøÜÂæ™ÁéØ
                        </p>
                    </div>

                    <div style="text-align: center;">
                        <div style="
                            width: 80px;
                            height: 80px;
                            margin: 0 auto 1rem;
                            background: rgba(255,255,255,0.1);
                            border-radius: 20px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 2.5rem;
                            border: 1px solid rgba(255,255,255,0.2);
                        ">
                            üìù
                        </div>
                        <h4 style="color: white; margin-bottom: 0.5rem; font-size: 1rem;">ÈöêËóèÁä∂ÊÄÅ</h4>
                        <p style="color: #94a3b8; font-size: 0.85rem; line-height: 1.4;">
                            Â≠òÂÇ®ÂéÜÂè≤‰ø°ÊÅØ<br>‰º†ÈÄíÁªô‰∏ã‰∏ÄÊ≠•
                        </p>
                    </div>

                    <div style="text-align: center;">
                        <div style="
                            width: 80px;
                            height: 80px;
                            margin: 0 auto 1rem;
                            background: rgba(255,255,255,0.1);
                            border-radius: 20px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 2.5rem;
                            border: 1px solid rgba(255,255,255,0.2);
                        ">
                            ‚è≥
                        </div>
                        <h4 style="color: white; margin-bottom: 0.5rem; font-size: 1rem;">Êó∂Èó¥Â±ïÂºÄ</h4>
                        <p style="color: #94a3b8; font-size: 0.85rem; line-height: 1.4;">
                            ÊåâÊó∂Èó¥Ê≠•Â§ÑÁêÜ<br>ÈÄê‰∏™Â§ÑÁêÜÂ∫èÂàó
                        </p>
                    </div>

                    <div style="text-align: center;">
                        <div style="
                            width: 80px;
                            height: 80px;
                            margin: 0 auto 1rem;
                            background: rgba(255,255,255,0.1);
                            border-radius: 20px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 2.5rem;
                            border: 1px solid rgba(255,255,255,0.2);
                        ">
                            üßÆ
                        </div>
                        <h4 style="color: white; margin-bottom: 0.5rem; font-size: 1rem;">ÂèÇÊï∞ÂÖ±‰∫´</h4>
                        <p style="color: #94a3b8; font-size: 0.85rem; line-height: 1.4;">
                            ÊâÄÊúâÊó∂Èó¥Ê≠•<br>ÂÖ±‰∫´Áõ∏ÂêåÂèÇÊï∞
                        </p>
                    </div>
                </div>

                <!-- ÈÄö‰øóÊòìÊáÇÁöÑÊÄªÁªì -->
                <div style="
                    background: rgba(251, 191, 36, 0.15);
                    border: 2px solid rgba(251, 191, 36, 0.3);
                    border-radius: 1rem;
                    padding: 2rem;
                    position: relative;
                ">
                    <div style="
                        position: absolute;
                        top: -15px;
                        left: 30px;
                        background: #475569;
                        padding: 0 15px;
                        border-radius: 20px;
                        font-size: 1.2rem;
                    ">
                        üåü ÈÄö‰øóÂú∞ËØ¥
                    </div>

                    <p style="color: #f1f5f9; font-size: 1.15rem; line-height: 1.8; margin: 0;">
                        <strong>ÊÉ≥Ë±°‰Ω†Âú®ÁúãÁîµÂΩ±Ôºö</strong>
                    </p>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
                        <div style="background: rgba(255,255,255,0.05); padding: 1.5rem; border-radius: 0.75rem;">
                            <h5 style="color: #fbbf24; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
                                <span>1Ô∏è‚É£</span> ‰Ω†ÈúÄË¶ÅËÆ∞‰ΩèÂâçÈù¢ÁöÑÂâßÊÉÖ
                            </h5>
                            <p style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                                ËøôÂ∞±ÊòØ<strong>ÈöêËóèÁä∂ÊÄÅ</strong> - Â≠òÂÇ®‰πãÂâçÁúãÂà∞ÁöÑ‰ø°ÊÅØ
                            </p>
                        </div>

                        <div style="background: rgba(255,255,255,0.05); padding: 1.5rem; border-radius: 0.75rem;">
                            <h5 style="color: #fbbf24; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
                                <span>2Ô∏è‚É£</span> ÊØè‰∏ÄÂ∏ßÈÉΩÂü∫‰∫éÂâçÈù¢ÁöÑÁêÜËß£
                            </h5>
                            <p style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                                ËøôÂ∞±ÊòØ<strong>Âæ™ÁéØËøûÊé•</strong> - Êñ∞ËæìÂÖ•ÁªìÂêàÂéÜÂè≤ËÆ∞ÂøÜ
                            </p>
                        </div>

                        <div style="background: rgba(255,255,255,0.05); padding: 1.5rem; border-radius: 0.75rem;">
                            <h5 style="color: #fbbf24; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
                                <span>3Ô∏è‚É£</span> ‰∏ÄÂ∏ß‰∏ÄÂ∏ßÂú∞Áúã
                            </h5>
                            <p style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                                ËøôÂ∞±ÊòØ<strong>Êó∂Èó¥Â±ïÂºÄ</strong> - ÊåâÈ°∫Â∫èÂ§ÑÁêÜÂ∫èÂàó
                            </p>
                        </div>

                        <div style="background: rgba(255,255,255,0.05); padding: 1.5rem; border-radius: 0.75rem;">
                            <h5 style="color: #fbbf24; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
                                <span>4Ô∏è‚É£</span> Áî®ÂêåÊ†∑ÁöÑÊñπÂºèÁêÜËß£ÊØè‰∏ÄÂ∏ß
                            </h5>
                            <p style="color: #cbd5e1; font-size: 0.95rem; line-height: 1.6;">
                                ËøôÂ∞±ÊòØ<strong>ÂèÇÊï∞ÂÖ±‰∫´</strong> - ÊØè‰∏™Êó∂Èó¥Ê≠•Áî®Áõ∏ÂêåÁöÑÂ§ÑÁêÜÊñπÂºè
                            </p>
                        </div>
                    </div>

                    <div style="
                        background: rgba(34, 197, 94, 0.1);
                        border-left: 4px solid #22c55e;
                        padding: 1rem 1.5rem;
                        margin-top: 1.5rem;
                        border-radius: 0 0.5rem 0.5rem 0;
                    ">
                        <p style="color: #f1f5f9; font-size: 1.05rem; margin: 0; line-height: 1.6;">
                            <strong>üí° RNNÁöÑÊú¨Ë¥®Ôºö</strong>
                            RNNÂ∞±ÊòØ‰∏Ä‰∏™‰ºö"ËÆ∞‰∫ã"ÁöÑÁ•ûÁªèÁΩëÁªú„ÄÇÂÆÉÂ§ÑÁêÜÂ∫èÂàóÊï∞ÊçÆÊó∂Ôºå
                            ‰ºöÊää‰πãÂâçÁöÑ‰ø°ÊÅØÂ≠òÂú®ÈöêËóèÁä∂ÊÄÅÈáåÔºåÂ∞±ÂÉè‰Ω†ÁöÑÂ§ßËÑë‰ºöËÆ∞‰ΩèÂàöÊâçËØªËøáÁöÑÂÜÖÂÆπ‰∏ÄÊ†∑ÔºÅ
                        </p>
                    </div>
                </div>

            </div>

            <!-- ÊúÄÁÆÄÊ¥ÅÁöÑ‰∏ÄÂè•ËØùÊÄªÁªì -->
            <div style="text-align: center; margin-top: 3rem;">
                <p style="
                    font-size: 1.3rem;
                    color: var(--accent-pink);
                    font-weight: 600;
                    padding: 1rem 2rem;
                    background: rgba(236, 72, 153, 0.1);
                    border-radius: 50px;
                    display: inline-block;
                    border: 2px solid rgba(236, 72, 153, 0.3);
                ">
                    üéØ ÁÆÄÂçïËØ¥ÔºöRNN = Â∏¶ËÆ∞ÂøÜÁöÑÁ•ûÁªèÁΩëÁªú
                </p>
            </div>

        </div>
    </section>

    <!-- Á´†ËäÇÂÜÖÂÆπÂºÄÂßã -->
    <div style="background: var(--bg-dark); padding-top: 100px;">
        <div class="container">

            <!-- Â≠¶‰π†ÁõÆÊ†á -->
            <section class="section-card">
                <h2 style="color: var(--accent-pink); margin-bottom: 1.5rem;">üìö Êú¨Á´†Â≠¶‰π†ÁõÆÊ†á</h2>
                <div class="concept-grid">
                    <div class="concept-card what">
                        <h3 style="color: var(--accent-green); margin-bottom: 0.5rem;">‚úì ÁêÜËß£Â∫èÂàóÈóÆÈ¢ò</h3>
                        <p>Ê∑±ÂÖ•ÁêÜËß£‰∏∫‰ªÄ‰πàÈúÄË¶Å‰∏ìÈó®Â§ÑÁêÜÂ∫èÂàóÊï∞ÊçÆÁöÑÊ®°Âûã</p>
                    </div>
                    <div class="concept-card how">
                        <h3 style="color: var(--accent-blue); margin-bottom: 0.5rem;">‚úì ÊéåÊè°RNNÂéüÁêÜ</h3>
                        <p>Â≠¶‰ºöRNNÁöÑÊï∞Â≠¶ÂéüÁêÜÂíåÂâçÂêë/ÂèçÂêë‰º†Êí≠</p>
                    </div>
                    <div class="concept-card why">
                        <h3 style="color: var(--accent-red); margin-bottom: 0.5rem;">‚úì ÂÆûÁé∞RNN</h3>
                        <p>‰ªéÈõ∂ÂºÄÂßãÂÆûÁé∞‰∏Ä‰∏™ÂÆåÊï¥ÁöÑRNN</p>
                    </div>
                    <div class="concept-card pitfall">
                        <h3 style="color: var(--accent-yellow); margin-bottom: 0.5rem;">‚úì ÁêÜËß£Â±ÄÈôêÊÄß</h3>
                        <p>ËÆ§ËØÜÊ¢ØÂ∫¶Ê∂àÂ§±ÈóÆÈ¢òÂíåRNNÁöÑÂ±ÄÈôê</p>
                    </div>
                </div>
            </section>

            <!-- Â∫èË®ÄÔºöÊó∂Èó¥ÁöÑÁßòÂØÜ -->
            <section id="intro" class="section-card">
                <div class="story-card">
                    <h2 style="color: var(--accent-pink); margin-bottom: 1.5rem;">üìñ Â∫èË®ÄÔºöÊó∂Èó¥ÁöÑÁßòÂØÜ</h2>

                    <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 2rem;">
                        2010Âπ¥ÁöÑ‰∏Ä‰∏™‰∏ãÂçàÔºåGoogleÁ†îÁ©∂Èô¢ÁöÑ‰ºöËÆÆÂÆ§ÈáåÔºå‰∏ÄÁæ§Â∑•Á®ãÂ∏àÊ≠£Âú®ÊøÄÁÉàËÆ®ËÆ∫...
                    </p>

                    <div class="dialogue-box">
                        <div class="speaker">
                            <div class="avatar" style="background: linear-gradient(135deg, #f093fb, #f5576c);">üë®‚Äçüíª</div>
                            Â∑•Á®ãÂ∏àAÔºö
                        </div>
                        <div>"Êàë‰ª¨ÁöÑËØ≠Èü≥ËØÜÂà´Á≥ªÁªüËøòÊòØ‰∏çÂ§üÂ•Ω„ÄÇÊòéÊòéËØ¥ÁöÑÊòØ'ÊàëÊÉ≥ÂêÉËãπÊûú'ÔºåÂÆÉÂç¥ËØÜÂà´Êàê'ÊàëÊÉ≥ÂêÉËØÑ‰º∞'ÔºÅ"</div>
                    </div>

                    <div class="dialogue-box">
                        <div class="speaker">
                            <div class="avatar" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">üë©‚Äçüíª</div>
                            Â∑•Á®ãÂ∏àBÔºö
                        </div>
                        <div>"ÈóÆÈ¢òÂú®‰∫éÊàë‰ª¨ÁöÑÊ®°ÂûãÊ≤°Êúâ'ËÆ∞ÂøÜ'„ÄÇÂÆÉ‰∏çÁü•ÈÅì'ÂêÉ'ÂêéÈù¢ÈÄöÂ∏∏Ë∑üÁöÑÊòØÈ£üÁâ©ÔºåËÄå‰∏çÊòØ'ËØÑ‰º∞'ËøôÁßçÊäΩË±°Ê¶ÇÂøµ„ÄÇ"</div>
                    </div>

                    <div class="dialogue-box">
                        <div class="speaker">
                            <div class="avatar" style="background: linear-gradient(135deg, #fa709a, #fee140);">üßë‚Äçüî¨</div>
                            Á†îÁ©∂ÂëòÔºö
                        </div>
                        <div>"Ê≤°ÈîôÔºÅ‰∫∫Á±ªÁêÜËß£ËØ≠Ë®ÄÊòØÊúâ‰∏ä‰∏ãÊñáÁöÑ„ÄÇÂΩìÊàë‰ª¨Âê¨Âà∞'ÊàëÊÉ≥ÂêÉ...'Êó∂ÔºåÂ§ßËÑë‰ºöËá™Âä®È¢ÑÊúüÂêéÈù¢ÊòØÈ£üÁâ©„ÄÇÊàë‰ª¨ÈúÄË¶ÅËÆ©Á•ûÁªèÁΩëÁªú‰πüËÉΩËÆ∞‰Ωè‰πãÂâçÁöÑ‰ø°ÊÅØÔºÅ"</div>
                    </div>

                    <div class="think-box">
                        <h3 style="color: var(--accent-purple); margin-bottom: 1rem;">üí≠ ÂÖ≥ÈîÆÊ¥ûÂØü</h3>
                        <p>Â∫èÂàóÊï∞ÊçÆÁöÑÊú¨Ë¥®ÁâπÂæÅÔºö</p>
                        <ul style="margin-left: 2rem; margin-top: 1rem;">
                            <li><strong>Êó∂Èó¥‰æùËµñÊÄß</strong>ÔºöÂΩìÂâçÁöÑÁêÜËß£‰æùËµñ‰∫é‰πãÂâçÁöÑ‰ø°ÊÅØ</li>
                            <li><strong>‰∏ä‰∏ãÊñáÂÖ≥ËÅî</strong>ÔºöÂâçÂêéÂÜÖÂÆπÁõ∏‰∫íÂΩ±Âìç</li>
                            <li><strong>ÂèòÈïøÁâπÊÄß</strong>ÔºöÂ∫èÂàóÈïøÂ∫¶‰∏çÂõ∫ÂÆö</li>
                            <li><strong>È°∫Â∫èÈáçË¶ÅÊÄß</strong>ÔºöÊâì‰π±È°∫Â∫è‰ºöÊîπÂèòÂê´‰πâ</li>
                        </ul>
                    </div>

                    <div class="tip info">
                        <span class="tip-icon">üí°</span>
                        <div class="tip-content">
                            <strong>ÂéÜÂè≤ËÉåÊôØÔºö</strong><br>
                            RNNÁöÑÊÄùÊÉ≥ÊúÄÊó©ÂèØ‰ª•ËøΩÊ∫ØÂà∞1980Âπ¥‰ª£Ôºå‰ΩÜÁõ¥Âà∞2010Âπ¥‰ª£ÔºåÈöèÁùÄËÆ°ÁÆóËÉΩÂäõÁöÑÊèêÂçáÂíåËÆ≠ÁªÉÊäÄÂ∑ßÁöÑÊîπËøõÔºåRNNÊâçÁúüÊ≠£Âú®ÂÆûÈôÖÂ∫îÁî®‰∏≠Â§ßÊîæÂºÇÂΩ©„ÄÇ
                        </div>
                    </div>
                </div>
            </section>

            <!-- ‰∏∫‰ªÄ‰πàÈúÄË¶ÅRNN -->
            <section id="why-rnn" class="section-card">
                <h2 style="color: var(--accent-red); margin-bottom: 1.5rem;">‚ùì ‰∏∫‰ªÄ‰πàÈúÄË¶ÅRNNÔºü</h2>

                <div class="story-card">
                    <div class="dialogue-box">
                        <div class="speaker">
                            <div class="avatar" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">üßë‚Äçüíª</div>
                            Â≠¶ÁîüÂ∞èÊùéÔºö
                        </div>
                        <div>"ËÄÅÂ∏àÔºåÊàë‰ª¨Â∑≤ÁªèÊúâ‰∫ÜÂº∫Â§ßÁöÑÂâçÈ¶àÁ•ûÁªèÁΩëÁªúÔºå‰∏∫‰ªÄ‰πàËøòÈúÄË¶ÅRNNÔºü"</div>
                    </div>

                    <div class="dialogue-box">
                        <div class="speaker">
                            <div class="avatar" style="background: linear-gradient(135deg, #f093fb, #f5576c);">üë®‚Äçüè´</div>
                            ËÄÅÂ∏àÔºö
                        </div>
                        <div>"ËÆ©ÊàëÁî®‰∏Ä‰∏™‰æãÂ≠êËØ¥Êòé„ÄÇËØ∑ÁúãËøô‰∏§‰∏™Âè•Â≠êÔºö<br>
                            1. 'Èì∂Ë°åÁöÑÂà©Áéá‰∏äÂçá‰∫Ü'<br>
                            2. 'Ê≤≥Â≤∏ÁöÑÊü≥Ê†ëÂèëËäΩ‰∫Ü'<br>
                            Ê≥®ÊÑè'Èì∂Ë°å'Âíå'Ê≤≥Â≤∏'ËôΩÁÑ∂ÂèëÈü≥Áõ∏‰ººÔºå‰ΩÜÂê´‰πâÂÆåÂÖ®‰∏çÂêå„ÄÇ‰Ω†ÊòØÂ¶Ç‰ΩïÂå∫ÂàÜÁöÑÔºü"</div>
                    </div>

                    <div class="dialogue-box">
                        <div class="speaker">
                            <div class="avatar" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">üßë‚Äçüíª</div>
                            Â≠¶ÁîüÂ∞èÊùéÔºö
                        </div>
                        <div>"ÈÄöËøá‰∏ä‰∏ãÊñáÔºÅ'Âà©Áéá'ËÆ©ÊàëÁü•ÈÅìÊòØÈáëËûçÊú∫ÊûÑÔºå'Êü≥Ê†ë'ËÆ©ÊàëÁü•ÈÅìÊòØÊ≤≥Ëæπ„ÄÇ"</div>
                    </div>

                    <div class="dialogue-box">
                        <div class="speaker">
                            <div class="avatar" style="background: linear-gradient(135deg, #f093fb, #f5576c);">üë®‚Äçüè´</div>
                            ËÄÅÂ∏àÔºö
                        </div>
                        <div>"Ê≠£ÊòØÂ¶ÇÊ≠§ÔºÅÂâçÈ¶àÁΩëÁªúÊØèÊ¨°Âè™Áúã‰∏Ä‰∏™ËæìÂÖ•ÔºåÊó†Ê≥ïÂà©Áî®‰∏ä‰∏ãÊñá‰ø°ÊÅØ„ÄÇËÆ©Êàë‰ª¨ÁúãÁúãÂÖ∑‰ΩìÁöÑÂ±ÄÈôêÊÄß..."</div>
                    </div>
                </div>

                <div class="comparison-table">
                    <table>
                        <thead>
                        <tr>
                            <th>ÊåëÊàò</th>
                            <th>ÂâçÈ¶àÁ•ûÁªèÁΩëÁªú</th>
                            <th>ÂÆûÈôÖÈúÄÊ±Ç</th>
                            <th>RNNÁöÑËß£ÂÜ≥ÊñπÊ°à</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td><strong>Â§ÑÁêÜÂèòÈïøËæìÂÖ•</strong></td>
                            <td>ÈúÄË¶ÅÂõ∫ÂÆöÂ§ßÂ∞èËæìÂÖ•</td>
                            <td>Âè•Â≠êÈïøÂ∫¶‰∏çÂõ∫ÂÆö</td>
                            <td class="highlight">Âæ™ÁéØÂ§ÑÁêÜÔºåÈÄê‰∏™ËØªÂèñ</td>
                        </tr>
                        <tr>
                            <td><strong>ËÆ∞ÂøÜÂéÜÂè≤‰ø°ÊÅØ</strong></td>
                            <td>Êó†ËÆ∞ÂøÜËÉΩÂäõ</td>
                            <td>ÁêÜËß£ÈúÄË¶Å‰∏ä‰∏ãÊñá</td>
                            <td class="highlight">ÈöêËóèÁä∂ÊÄÅ‰øùÂ≠ò‰ø°ÊÅØ</td>
                        </tr>
                        <tr>
                            <td><strong>ÂèÇÊï∞ÊïàÁéá</strong></td>
                            <td>ÊØè‰∏™‰ΩçÁΩÆÁã¨Á´ãÂèÇÊï∞</td>
                            <td>Áõ∏ÂêåÁöÑÂ§ÑÁêÜËßÑÂàô</td>
                            <td class="highlight">ÊâÄÊúâÊó∂Èó¥Ê≠•ÂÖ±‰∫´ÂèÇÊï∞</td>
                        </tr>
                        <tr>
                            <td><strong>Â∫èÂàóÂÖ≥Á≥ªÂª∫Ê®°</strong></td>
                            <td>Êó†Ê≥ïÂª∫Ê®°Êó∂Â∫èÂÖ≥Á≥ª</td>
                            <td>È°∫Â∫èÂæàÈáçË¶Å</td>
                            <td class="highlight">Ëá™ÁÑ∂Â§ÑÁêÜÊó∂Èó¥Â∫èÂàó</td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <div class="time-series-example">
                    <h3 style="color: var(--accent-cyan); margin-bottom: 1rem;">üåä Â∫èÂàóÊï∞ÊçÆÊó†Â§Ñ‰∏çÂú®</h3>
                    <div class="time-series-grid">
                        <div class="time-series-item">
                            <h4 style="color: var(--accent-pink);">üìù Ëá™ÁÑ∂ËØ≠Ë®Ä</h4>
                            <p>Âè•Â≠ê„ÄÅÊÆµËêΩ„ÄÅÊñáÁ´†</p>
                        </div>
                        <div class="time-series-item">
                            <h4 style="color: var(--accent-blue);">üéµ Èü≥È¢ë‰ø°Âè∑</h4>
                            <p>ËØ≠Èü≥„ÄÅÈü≥‰πê„ÄÅÂ£∞Ê≥¢</p>
                        </div>
                        <div class="time-series-item">
                            <h4 style="color: var(--accent-green);">üìà Êó∂Èó¥Â∫èÂàó</h4>
                            <p>ËÇ°Á•®„ÄÅÂ§©Ê∞î„ÄÅ‰º†ÊÑüÂô®</p>
                        </div>
                        <div class="time-series-item">
                            <h4 style="color: var(--accent-yellow);">üé¨ ËßÜÈ¢ëÊï∞ÊçÆ</h4>
                            <p>Âä®‰Ωú„ÄÅÂú∫ÊôØ„ÄÅ‰∫ã‰ª∂</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Â∫èÂàóÊï∞ÊçÆÁöÑÊåëÊàò -->
            <section id="sequence-problem" class="section-card">
                <h2 style="color: var(--accent-purple); margin-bottom: 1.5rem;">üéØ Â∫èÂàóÊï∞ÊçÆÁöÑÊåëÊàò</h2>

                <div class="story-card">
                    <h3 style="color: var(--accent-orange); margin-bottom: 1rem;">ÂÆûÈ™å1ÔºöËØçÂ∫èÁöÑÈáçË¶ÅÊÄß</h3>

                    <div class="sequence-example">
                        <p style="font-size: 1.1rem; margin-bottom: 1rem;">ÂéüÂè•Ôºö</p>
                        <div style="text-align: center;">
                            <span class="sequence-step">Êàë</span>
                            <span class="sequence-step">Áà±</span>
                            <span class="sequence-step">Ê∑±Â∫¶</span>
                            <span class="sequence-step">Â≠¶‰π†</span>
                        </div>

                        <p style="font-size: 1.1rem; margin: 2rem 0 1rem;">Êâì‰π±È°∫Â∫èÔºö</p>
                        <div style="text-align: center;">
                            <span class="sequence-step" style="background: rgba(239, 68, 68, 0.2);">Â≠¶‰π†</span>
                            <span class="sequence-step" style="background: rgba(239, 68, 68, 0.2);">Êàë</span>
                            <span class="sequence-step" style="background: rgba(239, 68, 68, 0.2);">Ê∑±Â∫¶</span>
                            <span class="sequence-step" style="background: rgba(239, 68, 68, 0.2);">Áà±</span>
                        </div>
                    </div>

                    <div class="think-box mt-3">
                        <h3 style="color: var(--accent-purple); margin-bottom: 1rem;">üí≠ ÊÄùËÄÉ</h3>
                        <p>ÂêåÊ†∑ÁöÑËØçÔºå‰∏çÂêåÁöÑÈ°∫Â∫èÔºåÊÑèÊÄùÂÆåÂÖ®ÊîπÂèòÔºÅËøôËØ¥Êòé‰∫Ü‰ªÄ‰πàÔºü</p>
                        <ul style="margin-left: 2rem; margin-top: 1rem;">
                            <li>Â∫èÂàóÁöÑ<strong>È°∫Â∫è‰ø°ÊÅØ</strong>Ëá≥ÂÖ≥ÈáçË¶Å</li>
                            <li>‰∏çËÉΩÁÆÄÂçïÂú∞ÊääÂ∫èÂàóÂΩì‰Ωú"ËØçË¢ã"Â§ÑÁêÜ</li>
                            <li>ÈúÄË¶Å‰∏Ä‰∏™ËÉΩÁêÜËß£È°∫Â∫èÁöÑÊ®°Âûã</li>
                        </ul>
                    </div>
                </div>

                <div class="story-card mt-3">
                    <h3 style="color: var(--accent-orange); margin-bottom: 1rem;">ÂÆûÈ™å2ÔºöÈïøË∑ùÁ¶ª‰æùËµñ</h3>

                    <div class="sequence-example">
                        <p style="font-size: 1.1rem; margin-bottom: 1rem;">ËÄÉËôëËøô‰∏™Âè•Â≠êÔºö</p>
                        <div style="text-align: center; line-height: 2;">
                            <span class="sequence-step" style="background: var(--accent-green);">Êàë</span>
                            <span class="sequence-step">Êò®Â§©</span>
                            <span class="sequence-step">Âéª</span>
                            <span class="sequence-step">‰∫Ü</span>
                            <span class="sequence-step">‰∏ÄÂÆ∂</span>
                            <span class="sequence-step">Âæà</span>
                            <span class="sequence-step">ÊúâÂêç</span>
                            <span class="sequence-step">ÁöÑ</span>
                            <span class="sequence-step">È§êÂéÖ</span>
                            <span class="sequence-step">Ôºå</span>
                            <span class="sequence-step" style="background: var(--accent-green);">ËßâÂæó</span>
                            <span class="sequence-step">Âë≥ÈÅì</span>
                            <span class="sequence-step">‰∏çÈîô</span>
                        </div>
                    </div>

                    <p style="margin-top: 1.5rem;">Ë¶ÅÁêÜËß£"ËßâÂæó"ÁöÑ‰∏ªËØ≠ÊòØ"Êàë"ÔºåÊ®°ÂûãÈúÄË¶ÅËÆ∞‰Ωè10‰∏™ËØç‰πãÂâçÁöÑ‰ø°ÊÅØÔºÅ</p>
                </div>

                <div class="concept-grid mt-3">
                    <div class="concept-card why">
                        <h3 style="color: var(--accent-red); margin-bottom: 1rem;">ÊåëÊàò1ÔºöÂèòÈïøÂ∫èÂàó</h3>
                        <p>
                            ‚Ä¢ Âè•Â≠êÈïøÂ∫¶‰∏ç‰∏Ä<br>
                            ‚Ä¢ Êó†Ê≥ïÈ¢ÑËÆæÂõ∫ÂÆöÂ§ßÂ∞è<br>
                            ‚Ä¢ ÈúÄË¶ÅÁÅµÊ¥ªÂ§ÑÁêÜ
                        </p>
                    </div>

                    <div class="concept-card what">
                        <h3 style="color: var(--accent-green); margin-bottom: 1rem;">ÊåëÊàò2ÔºöÊó∂Â∫èÂÖ≥Á≥ª</h3>
                        <p>
                            ‚Ä¢ ÂâçÂêéÂÖ≥ËÅîÁ¥ßÂØÜ<br>
                            ‚Ä¢ Âõ†ÊûúÂÖ≥Á≥ªÈáçË¶Å<br>
                            ‚Ä¢ È°∫Â∫è‰∏çÂèØÂøΩËßÜ
                        </p>
                    </div>

                    <div class="concept-card how">
                        <h3 style="color: var(--accent-blue); margin-bottom: 1rem;">ÊåëÊàò3ÔºöÈïøÁ®ã‰æùËµñ</h3>
                        <p>
                            ‚Ä¢ ‰ø°ÊÅØË∑®Â∫¶Â§ß<br>
                            ‚Ä¢ ÈúÄË¶ÅÈïøÊúüËÆ∞ÂøÜ<br>
                            ‚Ä¢ ÈÅøÂÖçÈÅóÂøòÈáçË¶Å‰ø°ÊÅØ
                        </p>
                    </div>

                    <div class="concept-card pitfall">
                        <h3 style="color: var(--accent-yellow); margin-bottom: 1rem;">ÊåëÊàò4ÔºöËÆ°ÁÆóÊïàÁéá</h3>
                        <p>
                            ‚Ä¢ Â∫èÂàóÂèØËÉΩÂæàÈïø<br>
                            ‚Ä¢ ËÆ°ÁÆóÈáèÈöèÈïøÂ∫¶Â¢ûÂä†<br>
                            ‚Ä¢ ÈúÄË¶ÅÈ´òÊïàÁÆóÊ≥ï
                        </p>
                    </div>
                </div>
            </section>

            <!-- RNNÁöÑÊ†∏ÂøÉÊÄùÊÉ≥ -->
            <section id="rnn-idea" class="section-card">
                <h2 style="color: var(--accent-blue); margin-bottom: 1.5rem;">üí° RNNÁöÑÊ†∏ÂøÉÊÄùÊÉ≥</h2>

                <div class="story-card">
                    <div class="dialogue-box">
                        <div class="speaker">
                            <div class="avatar" style="background: linear-gradient(135deg, #f093fb, #f5576c);">üë®‚Äçüè´</div>
                            ËÄÅÂ∏àÔºö
                        </div>
                        <div>"ËÆ©ÊàëÁî®‰∏Ä‰∏™Á±ªÊØîÊù•Ëß£ÈáäRNNÁöÑÂ∑•‰ΩúÂéüÁêÜ„ÄÇÊÉ≥Ë±°‰Ω†Âú®ÈòÖËØª‰∏ÄÊú¨‰π¶..."</div>
                    </div>

                    <div class="unfolding-diagram">
                        <div class="unfolding-cell">
                            <h4 style="color: var(--accent-pink);">üìñ Á¨¨1È°µ</h4>
                            <p>‰∏ªËßíÂè´Â∞èÊòé</p>
                            <p style="color: var(--accent-cyan); margin-top: 0.5rem;">ËÆ∞ÂøÜÔºöÂ∞èÊòé</p>
                        </div>
                        <div class="unfolding-arrow">‚Üí</div>
                        <div class="unfolding-cell">
                            <h4 style="color: var(--accent-pink);">üìñ Á¨¨2È°µ</h4>
                            <p>‰ªñÊòØ‰∏™Á®ãÂ∫èÂëò</p>
                            <p style="color: var(--accent-cyan); margin-top: 0.5rem;">ËÆ∞ÂøÜÔºöÂ∞èÊòé+Á®ãÂ∫èÂëò</p>
                        </div>
                        <div class="unfolding-arrow">‚Üí</div>
                        <div class="unfolding-cell">
                            <h4 style="color: var(--accent-pink);">üìñ Á¨¨3È°µ</h4>
                            <p>Ê≠£Âú®Â≠¶‰π†AI</p>
                            <p style="color: var(--accent-cyan); margin-top: 0.5rem;">ËÆ∞ÂøÜÔºöÂ∞èÊòé+Á®ãÂ∫èÂëò+Â≠¶AI</p>
                        </div>
                    </div>

                    <div class="think-box mt-3">
                        <h3 style="color: var(--accent-purple); margin-bottom: 1rem;">üéØ Ê†∏ÂøÉÊ¥ûÂØü</h3>
                        <p>RNNÁöÑËÆæËÆ°Âì≤Â≠¶Ôºö</p>
                        <ol style="margin-left: 2rem; margin-top: 1rem;">
                            <li><strong>Âæ™ÁéØËøûÊé•</strong>ÔºöÊääËæìÂá∫ÂèçÈ¶àÂà∞ËæìÂÖ•ÔºåÂΩ¢Êàê"ËÆ∞ÂøÜ"</li>
                            <li><strong>ÂèÇÊï∞ÂÖ±‰∫´</strong>ÔºöÊâÄÊúâÊó∂Èó¥Ê≠•‰ΩøÁî®Áõ∏ÂêåÁöÑÊùÉÈáç</li>
                            <li><strong>ÈÄêÊ≠•Â§ÑÁêÜ</strong>Ôºö‰∏ÄÊ¨°Â§ÑÁêÜ‰∏Ä‰∏™Êó∂Èó¥Ê≠•</li>
                            <li><strong>Áä∂ÊÄÅ‰º†ÈÄí</strong>ÔºöÈÄöËøáÈöêËóèÁä∂ÊÄÅ‰º†ÈÄí‰ø°ÊÅØ</li>
                        </ol>
                    </div>
                </div>

                <!-- RNNÂ±ïÂºÄÂõæ -->
                <div class="visualization-container">
                    <h3 style="color: var(--accent-pink); margin-bottom: 1.5rem;">üé¨ RNNÁöÑÊó∂Èó¥Â±ïÂºÄ</h3>

                    <div class="architecture-diagram">
                        <div class="arch-layer">
                            <h4>Âæ™ÁéØÂΩ¢Âºè</h4>
                            <div style="width: 80px; height: 80px; margin: 1rem auto; background: var(--rnn-gradient); border-radius: 50%; display: flex; align-items: center; justify-content: center; position: relative;">
                                <span style="color: white; font-weight: bold;">RNN</span>
                                <div style="position: absolute; top: -10px; right: -30px; width: 50px; height: 50px;">
                                    <svg viewBox="0 0 100 100">
                                        <path d="M 50 20 Q 80 20 80 50 Q 80 80 50 80" stroke="var(--accent-pink)" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                                        <defs>
                                            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                                <polygon points="0 0, 10 3.5, 0 7" fill="var(--accent-pink)" />
                                            </marker>
                                        </defs>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="arch-arrow" style="font-size: 2rem;">‚â°</div>
                        <div class="arch-layer" style="flex: 3;">
                            <h4>Â±ïÂºÄÂΩ¢Âºè</h4>
                            <div class="rnn-animation">
                                <div class="rnn-cell" id="rnn-t0">
                                    <span>RNN</span>
                                    <span class="time-step">t=0</span>
                                    <span class="hidden-state">h‚ÇÄ</span>
                                </div>
                                <div class="arch-arrow">‚Üí</div>
                                <div class="rnn-cell" id="rnn-t1">
                                    <span>RNN</span>
                                    <span class="time-step">t=1</span>
                                    <span class="hidden-state">h‚ÇÅ</span>
                                </div>
                                <div class="arch-arrow">‚Üí</div>
                                <div class="rnn-cell" id="rnn-t2">
                                    <span>RNN</span>
                                    <span class="time-step">t=2</span>
                                    <span class="hidden-state">h‚ÇÇ</span>
                                </div>
                                <div class="arch-arrow">‚Üí</div>
                                <div class="rnn-cell" id="rnn-t3">
                                    <span>RNN</span>
                                    <span class="time-step">t=...</span>
                                    <span class="hidden-state">h...</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="viz-controls mt-3">
                        <button class="btn btn-primary" onclick="animateRNN()">
                            ‚ñ∂Ô∏è ÊºîÁ§∫‰ø°ÊÅØÊµÅÂä®
                        </button>
                        <button class="btn btn-secondary" onclick="resetRNNAnimation()">
                            üîÑ ÈáçÁΩÆÂä®Áîª
                        </button>
                    </div>
                </div>

                <div class="tip info mt-3">
                    <span class="tip-icon">üí°</span>
                    <div class="tip-content">
                        <strong>ÂÖ≥ÈîÆÁêÜËß£Ôºö</strong><br>
                        RNNÁöÑ"Âæ™ÁéØ"Âπ∂‰∏çÊòØÁúüÁöÑÂæ™ÁéØÊâßË°åÔºåËÄåÊòØÂú®Êó∂Èó¥Áª¥Â∫¶‰∏äÂ±ïÂºÄ„ÄÇÊØè‰∏™Êó∂Èó¥Ê≠•ÈÉΩ‰ΩøÁî®Áõ∏ÂêåÁöÑÂèÇÊï∞Ôºå‰ΩÜËæìÂÖ•ÂíåÈöêËóèÁä∂ÊÄÅ‰∏çÂêå„ÄÇ
                    </div>
                </div>
            </section>

            <!-- ÊèíÂÖ•‰ΩçÁΩÆÔºöÂú® id="rnn-idea" Á´†ËäÇ‰πãÂêéÔºåid="rnn-architecture" Á´†ËäÇ‰πãÂâçÔºå‰Ωú‰∏∫‰∏Ä‰∏™Êñ∞ÁöÑsection -->

            <!-- RNNËÆæËÆ°ÁöÑËØûÁîü -->
            <section class="section-card">
                <h2 style="color: var(--accent-orange); margin-bottom: 1.5rem;">üß™ RNNÊòØÂ¶Ç‰ΩïË¢´ËÆæËÆ°Âá∫Êù•ÁöÑÔºü</h2>

                <div class="story-card">
                    <h3 style="color: var(--accent-pink); margin-bottom: 1.5rem;">üìö ÂéÜÂè≤Êó∂ÂàªÔºö1986Âπ¥Ôºå‰∏Ä‰∏™Á†îÁ©∂Â∞èÁªÑÁöÑËÆ®ËÆ∫</h3>

                    <div class="dialogue-box">
                        <div class="speaker">
                            <div class="avatar" style="background: linear-gradient(135deg, #667eea, #764ba2);">üë®‚Äçüî¨</div>
                            Á†îÁ©∂ÂëòAÔºö
                        </div>
                        <div>"Êàë‰ª¨ÁöÑÂâçÈ¶àÁΩëÁªúÂú®Â§ÑÁêÜÂçïËØçÂ∫èÂàóÊó∂ÊÄªÊòØÂ§±Ë¥•„ÄÇÂÆÉÊää'ÊàëÁà±‰Ω†'Âíå'‰Ω†Áà±Êàë'ÂΩìÊàê‰∏ÄÊ†∑ÁöÑÔºÅ"</div>
                    </div>

                    <div class="dialogue-box">
                        <div class="speaker">
                            <div class="avatar" style="background: linear-gradient(135deg, #f093fb, #f5576c);">üë©‚Äçüî¨</div>
                            Á†îÁ©∂ÂëòBÔºö
                        </div>
                        <div>"ÈóÆÈ¢òÂú®‰∫éÁΩëÁªúÊ≤°Êúâ'ËÆ∞ÂøÜ'„ÄÇÂÆÉÁúãÂà∞ÊØè‰∏™ËØçÊó∂ÔºåÂ∑≤ÁªèÂøòËÆ∞‰∫Ü‰πãÂâçÁúãÂà∞ÁöÑËØç„ÄÇ"</div>
                    </div>

                    <div class="dialogue-box">
                        <div class="speaker">
                            <div class="avatar" style="background: linear-gradient(135deg, #fa709a, #fee140);">üßë‚Äçüî¨</div>
                            Á†îÁ©∂ÂëòCÔºö
                        </div>
                        <div>"Á≠âÁ≠âÔºÅÂ¶ÇÊûúÊàë‰ª¨ËÆ©ÁΩëÁªúÁöÑËæìÂá∫...ÂèçÈ¶àÂõûËæìÂÖ•Âë¢ÔºüÂ∞±ÂÉè‰∫∫Á±ªÈòÖËØª‰∏ÄÊ†∑ÔºåÂ∏¶ÁùÄ‰πãÂâçÁöÑÁêÜËß£ÂéªËØª‰∏ã‰∏Ä‰∏™ËØçÔºÅ"</div>
                    </div>
                </div>

                <!-- ËÆæËÆ°ÊºîËøõËøáÁ®ã -->
                <div class="think-box" style="margin-top: 2rem;">
                    <h3 style="color: var(--accent-purple); margin-bottom: 1.5rem;">üéØ Ê†∏ÂøÉÊ¥ûÂØüÔºöÁä∂ÊÄÅÊú∫ÊÄùÊÉ≥</h3>
                    <p style="font-size: 1.1rem; line-height: 1.8;">
                        RNNÁöÑËÆæËÆ°ÁÅµÊÑüÊù•Ëá™‰∫é<strong>ÊúâÈôêÁä∂ÊÄÅÊú∫ÔºàFSMÔºâ</strong>„ÄÇÂú®FSM‰∏≠Ôºö<br>
                        ‚Ä¢ Á≥ªÁªüÊúâÂÜÖÈÉ®Áä∂ÊÄÅ<br>
                        ‚Ä¢ Ê†πÊçÆËæìÂÖ•ÂíåÂΩìÂâçÁä∂ÊÄÅÔºåËΩ¨ÁßªÂà∞Êñ∞Áä∂ÊÄÅ<br>
                        ‚Ä¢ Áä∂ÊÄÅÂåÖÂê´‰∫ÜÂéÜÂè≤‰ø°ÊÅØÁöÑÊëòË¶Å
                    </p>
                </div>

                <!-- ‰ªéÊÉ≥Ê≥ïÂà∞ËÆæËÆ° -->
                <div class="concept-grid" style="margin-top: 2rem;">
                    <div class="concept-card why" style="background: rgba(239, 68, 68, 0.1);">
                        <h3 style="color: var(--accent-red); margin-bottom: 1rem;">1Ô∏è‚É£ ÊúÄÂàùÊÉ≥Ê≥ï</h3>
                        <p style="font-size: 0.95rem;">
                            <strong>Êú¥Á¥†ÊÉ≥Ê≥ïÔºö</strong><br>
                            "ËÆ©ÁΩëÁªúËÆ∞‰ΩèÊâÄÊúâÂéÜÂè≤ËæìÂÖ•"<br><br>
                            <strong>ÈóÆÈ¢òÔºö</strong><br>
                            ‚Ä¢ Â≠òÂÇ®ÁàÜÁÇ∏<br>
                            ‚Ä¢ Â¶Ç‰Ωï‰ΩøÁî®ÂéÜÂè≤Ôºü<br>
                            ‚Ä¢ ËÆ°ÁÆóÂ§çÊùÇÂ∫¶Â§™È´ò
                        </p>
                    </div>

                    <div class="concept-card what" style="background: rgba(34, 197, 94, 0.1);">
                        <h3 style="color: var(--accent-green); margin-bottom: 1rem;">2Ô∏è‚É£ ÂÖ≥ÈîÆÂàõÊñ∞</h3>
                        <p style="font-size: 0.95rem;">
                            <strong>ÂéãÁº©ÊÄùÊÉ≥Ôºö</strong><br>
                            "Áî®Âõ∫ÂÆöÂ§ßÂ∞èÁöÑÂêëÈáèÊÄªÁªìÂéÜÂè≤"<br><br>
                            <strong>Á±ªÊØîÔºö</strong><br>
                            Â∞±ÂÉèËØª‰π¶Êó∂ÁöÑ"ÁêÜËß£"<br>
                            ‰∏çÊòØËÆ∞‰ΩèÊØè‰∏™Â≠ó<br>
                            ËÄåÊòØÂΩ¢ÊàêÊï¥‰ΩìÂç∞Ë±°
                        </p>
                    </div>

                    <div class="concept-card how" style="background: rgba(79, 172, 254, 0.1);">
                        <h3 style="color: var(--accent-blue); margin-bottom: 1rem;">3Ô∏è‚É£ Âæ™ÁéØËÆæËÆ°</h3>
                        <p style="font-size: 0.95rem;">
                            <strong>ÈÄíÂΩíÂÆö‰πâÔºö</strong><br>
                            Êñ∞Áä∂ÊÄÅ = f(ÊóßÁä∂ÊÄÅ, Êñ∞ËæìÂÖ•)<br><br>
                            <strong>‰ºòÂäøÔºö</strong><br>
                            ‚Ä¢ ÂèÇÊï∞ÂÖ±‰∫´<br>
                            ‚Ä¢ ÁêÜËÆ∫‰∏äÊó†ÈôêËÆ∞ÂøÜ<br>
                            ‚Ä¢ ËÆ°ÁÆóÈ´òÊïà
                        </p>
                    </div>

                    <div class="concept-card pitfall" style="background: rgba(251, 191, 36, 0.1);">
                        <h3 style="color: var(--accent-yellow); margin-bottom: 1rem;">4Ô∏è‚É£ ÂÆûÁé∞ÁªÜËäÇ</h3>
                        <p style="font-size: 0.95rem;">
                            <strong>Â∑•Á®ãËÄÉËôëÔºö</strong><br>
                            ‚Ä¢ ÈúÄË¶ÅÈùûÁ∫øÊÄßÊøÄÊ¥ª<br>
                            ‚Ä¢ Ê¢ØÂ∫¶Ë¶ÅËÉΩ‰º†Êí≠<br>
                            ‚Ä¢ ÂàùÂßãÂåñÂæàÂÖ≥ÈîÆ<br><br>
                            ÊúÄÁªàÈÄâÊã©ÔºötanhÊøÄÊ¥ª
                        </p>
                    </div>
                </div>

                <!-- ËÆæËÆ°ÊÄùË∑ØÊºîÁ§∫ -->
                <div class="visualization-container" style="margin-top: 2rem;">
                    <h3 style="color: var(--accent-cyan); margin-bottom: 1.5rem;">üé® ‰ªéÁõ¥ËßâÂà∞ÂÆûÁé∞ÔºöRNNËÆæËÆ°ÊºîËøõ</h3>

                    <!-- ÊñπÊ°à1ÔºöÂÖ®ËøûÊé•Êö¥ÂäõÊñπÊ°à -->
                    <div style="background: rgba(239, 68, 68, 0.1); padding: 2rem; border-radius: 1rem; margin-bottom: 1.5rem;">
                        <h4 style="color: var(--accent-red); margin-bottom: 1rem;">‚ùå ÊñπÊ°à1ÔºöÂÖ®ËøûÊé•Êö¥ÂäõÂ≠òÂÇ®</h4>
                        <div class="architecture-diagram">
                            <div class="arch-layer" style="flex: 2;">
                                <h5>ËæìÂÖ•Â∫èÂàó</h5>
                                <div style="display: flex; gap: 0.5rem; justify-content: center;">
                                    <span style="padding: 0.5rem; background: rgba(255,255,255,0.1); border-radius: 0.25rem;">x‚ÇÅ</span>
                                    <span style="padding: 0.5rem; background: rgba(255,255,255,0.1); border-radius: 0.25rem;">x‚ÇÇ</span>
                                    <span style="padding: 0.5rem; background: rgba(255,255,255,0.1); border-radius: 0.25rem;">x‚ÇÉ</span>
                                    <span style="padding: 0.5rem; background: rgba(255,255,255,0.1); border-radius: 0.25rem;">...</span>
                                    <span style="padding: 0.5rem; background: rgba(255,255,255,0.1); border-radius: 0.25rem;">x‚Çú</span>
                                </div>
                            </div>
                            <div class="arch-arrow">‚Üí</div>
                            <div class="arch-layer">
                                <h5>Â∑®Â§ßÁΩëÁªú</h5>
                                <p style="font-size: 0.875rem; color: var(--accent-red);">ÂèÇÊï∞ÁàÜÁÇ∏ÔºÅ</p>
                            </div>
                            <div class="arch-arrow">‚Üí</div>
                            <div class="arch-layer">
                                <h5>ËæìÂá∫</h5>
                                <p>y‚Çú</p>
                            </div>
                        </div>
                        <p style="margin-top: 1rem; color: var(--text-secondary);">
                            <strong>ÈóÆÈ¢òÔºö</strong>‰∏çÂêåÈïøÂ∫¶ÈúÄË¶Å‰∏çÂêåÁöÑÁΩëÁªúÔºåÂèÇÊï∞ÈáèÈöèÂ∫èÂàóÈïøÂ∫¶ÁàÜÁÇ∏Â¢ûÈïø
                        </p>
                    </div>

                    <!-- ÊñπÊ°à2ÔºöÊªëÂä®Á™óÂè£ -->
                    <div style="background: rgba(251, 191, 36, 0.1); padding: 2rem; border-radius: 1rem; margin-bottom: 1.5rem;">
                        <h4 style="color: var(--accent-yellow); margin-bottom: 1rem;">‚ö†Ô∏è ÊñπÊ°à2ÔºöÂõ∫ÂÆöÁ™óÂè£</h4>
                        <div class="architecture-diagram">
                            <div class="arch-layer" style="flex: 2;">
                                <h5>ÊªëÂä®Á™óÂè£</h5>
                                <div style="display: flex; gap: 0.5rem; justify-content: center;">
                                    <span style="padding: 0.5rem; background: rgba(255,255,255,0.2); border-radius: 0.25rem;">x‚Çú‚Çã‚ÇÇ</span>
                                    <span style="padding: 0.5rem; background: rgba(255,255,255,0.2); border-radius: 0.25rem;">x‚Çú‚Çã‚ÇÅ</span>
                                    <span style="padding: 0.5rem; background: rgba(255,255,255,0.3); border-radius: 0.25rem;">x‚Çú</span>
                                </div>
                            </div>
                            <div class="arch-arrow">‚Üí</div>
                            <div class="arch-layer">
                                <h5>Âõ∫ÂÆöÁΩëÁªú</h5>
                                <p style="font-size: 0.875rem;">Á™óÂè£Â§ßÂ∞è=3</p>
                            </div>
                            <div class="arch-arrow">‚Üí</div>
                            <div class="arch-layer">
                                <h5>ËæìÂá∫</h5>
                                <p>y‚Çú</p>
                            </div>
                        </div>
                        <p style="margin-top: 1rem; color: var(--text-secondary);">
                            <strong>ÈóÆÈ¢òÔºö</strong>Âè™ËÉΩÁúãÂà∞Âõ∫ÂÆöËåÉÂõ¥ÁöÑÂéÜÂè≤ÔºåÊó†Ê≥ïÂ§ÑÁêÜÈïøË∑ùÁ¶ª‰æùËµñ
                        </p>
                    </div>

                    <!-- ÊñπÊ°à3ÔºöRNNÁöÑËØûÁîü -->
                    <div style="background: rgba(34, 197, 94, 0.1); padding: 2rem; border-radius: 1rem;">
                        <h4 style="color: var(--accent-green); margin-bottom: 1rem;">‚úÖ ÊñπÊ°à3ÔºöÂæ™ÁéØÁ•ûÁªèÁΩëÁªúÔºàRNNÔºâ</h4>
                        <div class="architecture-diagram">
                            <div class="arch-layer">
                                <h5>ËæìÂÖ•</h5>
                                <p>x‚Çú</p>
                            </div>
                            <div class="arch-arrow">‚Üí</div>
                            <div class="arch-layer" style="flex: 2; position: relative;">
                                <h5>Âæ™ÁéØÂçïÂÖÉ</h5>
                                <div style="width: 100px; height: 100px; margin: 1rem auto; background: var(--rnn-gradient); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                    <span style="color: white; font-weight: bold;">RNN</span>
                                </div>
                                <div style="position: absolute; top: 20px; right: 10px;">
                                    <svg width="80" height="80" viewBox="0 0 100 100">
                                        <path d="M 50 20 Q 80 20 80 50 Q 80 80 50 80 Q 20 80 20 50 Q 20 20 50 20"
                                              stroke="var(--accent-pink)" stroke-width="3" fill="none"
                                              marker-end="url(#arrowhead-rnn)"/>
                                        <defs>
                                            <marker id="arrowhead-rnn" markerWidth="10" markerHeight="7"
                                                    refX="9" refY="3.5" orient="auto">
                                                <polygon points="0 0, 10 3.5, 0 7" fill="var(--accent-pink)" />
                                            </marker>
                                        </defs>
                                    </svg>
                                </div>
                                <p style="font-size: 0.875rem; margin-top: 0.5rem;">h‚Çú = f(h‚Çú‚Çã‚ÇÅ, x‚Çú)</p>
                            </div>
                            <div class="arch-arrow">‚Üí</div>
                            <div class="arch-layer">
                                <h5>ËæìÂá∫</h5>
                                <p>y‚Çú</p>
                            </div>
                        </div>
                        <p style="margin-top: 1rem; color: var(--text-secondary);">
                            <strong>ÂàõÊñ∞Ôºö</strong>Áî®ÈöêËóèÁä∂ÊÄÅhÂéãÁº©Â≠òÂÇ®ÊâÄÊúâÂéÜÂè≤‰ø°ÊÅØÔºåÈÄöËøáÂæ™ÁéØËøûÊé•‰º†ÈÄí
                        </p>
                    </div>
                </div>

                <!-- ËÆæËÆ°ÂÜ≥Á≠ñËß£Èáä -->
                <div class="math-container" style="margin-top: 2rem;">
                    <h3 style="color: var(--accent-purple); margin-bottom: 1.5rem;">üîß ÂÖ≥ÈîÆËÆæËÆ°ÂÜ≥Á≠ñ</h3>

                    <div class="tip info">
                        <span class="tip-icon">üí°</span>
                        <div class="tip-content">
                            <strong>‰∏∫‰ªÄ‰πàÊòØ h_t = f(h_{t-1}, x_t) ËøôÁßçÂΩ¢ÂºèÔºü</strong><br>
                            ËøôÊòØÊúÄÁÆÄÂçïÁöÑÈ©¨Â∞îÂèØÂ§´ÂÅáËÆæÔºöÂΩìÂâçÁä∂ÊÄÅÂè™‰æùËµñ‰∫éÂâç‰∏ÄÁä∂ÊÄÅÂíåÂΩìÂâçËæìÂÖ•„ÄÇ
                            ËøôËÆ©ËÆ°ÁÆóÂèòÂæóÂèØË°åÔºåÂêåÊó∂ÁêÜËÆ∫‰∏ä‰ªçËÉΩ‰º†ÈÄíÊâÄÊúâÂéÜÂè≤‰ø°ÊÅØ„ÄÇ
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 0.75rem;">
                            <h4 style="color: var(--accent-cyan); margin-bottom: 1rem;">üìä Á∫øÊÄßÁªÑÂêà</h4>
                            <p style="font-family: monospace; text-align: center; margin: 1rem 0;">
                                h_t = W_hh ¬∑ h_{t-1} + W_xh ¬∑ x_t + b_h
                            </p>
                            <p style="font-size: 0.9rem;">
                                <strong>ÂéüÂõ†Ôºö</strong>ÊúÄËá™ÁÑ∂ÁöÑÁªÑÂêàÊñπÂºè<br>
                                <strong>‰ºòÁÇπÔºö</strong>ÂèØÂæÆÂàÜÔºåÊòì‰∫é‰ºòÂåñ<br>
                                <strong>Áº∫ÁÇπÔºö</strong>ÈúÄË¶ÅÊéßÂà∂Êï∞ÂÄºÁ®≥ÂÆöÊÄß
                            </p>
                        </div>

                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 0.75rem;">
                            <h4 style="color: var(--accent-pink); margin-bottom: 1rem;">üåä ÊøÄÊ¥ªÂáΩÊï∞</h4>
                            <p style="font-family: monospace; text-align: center; margin: 1rem 0;">
                                h_t = tanh(...)
                            </p>
                            <p style="font-size: 0.9rem;">
                                <strong>‰∏∫‰ªÄ‰πà‰∏çÊòØReLUÔºü</strong>ÂéÜÂè≤ÂéüÂõ†<br>
                                <strong>‰∏∫‰ªÄ‰πà‰∏çÊòØSigmoidÔºü</strong>ÈùûÈõ∂‰∏≠ÂøÉ<br>
                                <strong>tanh‰ºòÂäøÔºö</strong>ËæìÂá∫Âú®[-1,1]ÔºåÈõ∂‰∏≠ÂøÉ
                            </p>
                        </div>

                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 0.75rem;">
                            <h4 style="color: var(--accent-yellow); margin-bottom: 1rem;">üîÑ ÂèÇÊï∞ÂÖ±‰∫´</h4>
                            <p style="font-family: monospace; text-align: center; margin: 1rem 0;">
                                ÊâÄÊúâÊó∂Èó¥Ê≠•ÂÖ±Áî®W_hh, W_xh
                            </p>
                            <p style="font-size: 0.9rem;">
                                <strong>‰ºòÂäø1Ôºö</strong>ÂèÇÊï∞ÈáèÂõ∫ÂÆö<br>
                                <strong>‰ºòÂäø2Ôºö</strong>ÂèØÂ§ÑÁêÜ‰ªªÊÑèÈïøÂ∫¶<br>
                                <strong>ÂÅáËÆæÔºö</strong>Áõ∏ÂêåÁöÑÂ§ÑÁêÜËßÑÂàô
                            </p>
                        </div>
                    </div>
                </div>

                <!-- È™åËØÅËÆæËÆ° -->
                <div class="tip success" style="margin-top: 2rem;">
                    <span class="tip-icon">‚úÖ</span>
                    <div class="tip-content">
                        <strong>RNNËÆæËÆ°ÁöÑÁ≤æÂ¶ô‰πãÂ§ÑÔºö</strong><br>
                        1. <strong>ÈÄíÂΩíÁªìÊûÑ</strong>Ëß£ÂÜ≥‰∫ÜÂèòÈïøËæìÂÖ•ÈóÆÈ¢ò<br>
                        2. <strong>ÈöêËóèÁä∂ÊÄÅ</strong>ÂÆûÁé∞‰∫Ü‰ø°ÊÅØÂéãÁº©Â≠òÂÇ®<br>
                        3. <strong>ÂèÇÊï∞ÂÖ±‰∫´</strong>‰øùËØÅ‰∫ÜÊ®°ÂûãÂ§ßÂ∞èÂõ∫ÂÆö<br>
                        4. <strong>ÂèØÂæÆÂàÜËÆæËÆ°</strong>ÂÖÅËÆ∏Á´ØÂà∞Á´ØËÆ≠ÁªÉ<br><br>
                        Ëøô‰∏™ÁÆÄÊ¥ÅÁöÑËÆæËÆ°ÂºÄÂêØ‰∫ÜÂ∫èÂàóÂª∫Ê®°ÁöÑÊñ∞Êó∂‰ª£ÔºÅ
                    </div>
                </div>
            </section>

            <!-- RNNÁöÑÊï∞Â≠¶ÂéüÁêÜ -->
            <section id="rnn-architecture" class="section-card">
                <h2 style="color: var(--accent-purple); margin-bottom: 1.5rem;">üî¨ RNNÁöÑÊï∞Â≠¶ÂéüÁêÜ</h2>

                <div class="math-container">
                    <h3 style="color: var(--accent-purple); margin-bottom: 1.5rem;">üìê RNNÁöÑÊï∞Â≠¶Ë°®Ëææ</h3>

                    <div class="math-formula">
                        <div class="math-formula-title">Ê†∏ÂøÉÂÖ¨Âºè</div>
                        <div class="katex-display">
                            $$h_t = \tanh(W_{hh} h_{t-1} + W_{xh} x_t + b_h)$$
                            $$y_t = W_{hy} h_t + b_y$$
                        </div>
                    </div>

                    <div class="math-explanation" style="margin-top: 2rem;">
                        <h4 style="color: var(--accent-cyan); margin-bottom: 1rem;">Á¨¶Âè∑ËØ¥ÊòéÔºö</h4>
                        <ul style="margin-left: 2rem; line-height: 2;">
                            <li>$x_t$ : Êó∂Âàª t ÁöÑËæìÂÖ•ÂêëÈáè</li>
                            <li>$h_t$ : Êó∂Âàª t ÁöÑÈöêËóèÁä∂ÊÄÅÔºàËÆ∞ÂøÜÔºâ</li>
                            <li>$y_t$ : Êó∂Âàª t ÁöÑËæìÂá∫</li>
                            <li>$W_{xh}$ : ËæìÂÖ•Âà∞ÈöêËóèÂ±ÇÁöÑÊùÉÈáçÁü©Èòµ</li>
                            <li>$W_{hh}$ : ÈöêËóèÂ±ÇÂà∞ÈöêËóèÂ±ÇÁöÑÊùÉÈáçÁü©ÈòµÔºàÂæ™ÁéØËøûÊé•Ôºâ</li>
                            <li>$W_{hy}$ : ÈöêËóèÂ±ÇÂà∞ËæìÂá∫Â±ÇÁöÑÊùÉÈáçÁü©Èòµ</li>
                            <li>$b_h, b_y$ : ÂÅèÁΩÆÈ°π</li>
                        </ul>
                    </div>

                    <div class="think-box mt-3">
                        <h3 style="color: var(--accent-purple); margin-bottom: 1rem;">ü§î Ê∑±ÂÖ•ÁêÜËß£</h3>
                        <p>Ëøô‰∏™ÂÖ¨ÂºèÂëäËØâÊàë‰ª¨‰ªÄ‰πàÔºü</p>
                        <ol style="margin-left: 2rem; margin-top: 1rem;">
                            <li>Êñ∞ÁöÑÈöêËóèÁä∂ÊÄÅ $h_t$ Áî±‰∏§ÈÉ®ÂàÜÂÜ≥ÂÆöÔºö
                                <ul>
                                    <li>ÂΩìÂâçËæìÂÖ• $x_t$</li>
                                    <li>‰πãÂâçÁöÑËÆ∞ÂøÜ $h_{t-1}$</li>
                                </ul>
                            </li>
                            <li>$W_{hh}$ ÊòØÂÖ≥ÈîÆÔºöÂÆÉÂÜ≥ÂÆö‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî®ÂéÜÂè≤‰ø°ÊÅØ</li>
                            <li>$\tanh$ ÊøÄÊ¥ªÂáΩÊï∞ÔºöÂ∞ÜÂÄºÈôêÂà∂Âú® [-1, 1] ‰πãÈó¥</li>
                        </ol>
                    </div>
                </div>

                <!-- ÂèÇÊï∞ËØ¶Ëß£ -->
                <div class="comparison-table mt-3">
                    <table>
                        <thead>
                        <tr>
                            <th>ÂèÇÊï∞</th>
                            <th>Áª¥Â∫¶</th>
                            <th>‰ΩúÁî®</th>
                            <th>ÈáçË¶ÅÊÄß</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td><strong>$W_{xh}$</strong></td>
                            <td>hidden_dim √ó input_dim</td>
                            <td>Â∞ÜËæìÂÖ•Êò†Â∞ÑÂà∞ÈöêËóèÁ©∫Èó¥</td>
                            <td class="highlight">Â§ÑÁêÜÊñ∞‰ø°ÊÅØ</td>
                        </tr>
                        <tr>
                            <td><strong>$W_{hh}$</strong></td>
                            <td>hidden_dim √ó hidden_dim</td>
                            <td>ÊéßÂà∂ËÆ∞ÂøÜÁöÑ‰º†ÈÄí</td>
                            <td class="highlight">Ê†∏ÂøÉÂèÇÊï∞ÔºÅ</td>
                        </tr>
                        <tr>
                            <td><strong>$W_{hy}$</strong></td>
                            <td>output_dim √ó hidden_dim</td>
                            <td>ÁîüÊàêËæìÂá∫</td>
                            <td class="highlight">‰ªªÂä°Áõ∏ÂÖ≥</td>
                        </tr>
                        <tr>
                            <td><strong>$h_t$</strong></td>
                            <td>hidden_dim √ó 1</td>
                            <td>Â≠òÂÇ®ËÆ∞ÂøÜÁä∂ÊÄÅ</td>
                            <td class="highlight">‰ø°ÊÅØËΩΩ‰Ωì</td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Áª¥Â∫¶Á§∫‰æã -->
                <div class="visualization-container mt-3">
                    <h3 style="color: var(--accent-cyan); margin-bottom: 1.5rem;">üìä ÂÖ∑‰Ωì‰æãÂ≠êÔºöËØçÂµåÂÖ•Áª¥Â∫¶</h3>

                    <div style="background: rgba(255, 255, 255, 0.05); padding: 2rem; border-radius: 0.75rem;">
                        <p style="margin-bottom: 1.5rem;">ÂÅáËÆæÊàë‰ª¨Â§ÑÁêÜÂè•Â≠êÔºö"ÊàëÁà±RNN"Ôºå‰ΩøÁî®‰ª•‰∏ãÈÖçÁΩÆÔºö</p>
                        <ul style="margin-left: 2rem; line-height: 2;">
                            <li>ËØçÊ±áË°®Â§ßÂ∞èÔºö10000</li>
                            <li>ËØçÂµåÂÖ•Áª¥Â∫¶Ôºö128</li>
                            <li>ÈöêËóèÂ±ÇÁª¥Â∫¶Ôºö256</li>
                            <li>ËæìÂá∫Áª¥Â∫¶Ôºö10000ÔºàÈ¢ÑÊµã‰∏ã‰∏Ä‰∏™ËØçÔºâ</li>
                        </ul>

                        <div class="architecture-diagram mt-3">
                            <div class="arch-layer">
                                <h4>ËæìÂÖ•</h4>
                                <p>x_t: [128]</p>
                                <p style="font-size: 0.875rem; color: var(--text-secondary);">ËØçÂµåÂÖ•</p>
                            </div>
                            <div class="arch-arrow">‚Üí</div>
                            <div class="arch-layer">
                                <h4>ÈöêËóèÂ±Ç</h4>
                                <p>h_t: [256]</p>
                                <p style="font-size: 0.875rem; color: var(--text-secondary);">ËÆ∞ÂøÜÁä∂ÊÄÅ</p>
                            </div>
                            <div class="arch-arrow">‚Üí</div>
                            <div class="arch-layer">
                                <h4>ËæìÂá∫</h4>
                                <p>y_t: [10000]</p>
                                <p style="font-size: 0.875rem; color: var(--text-secondary);">ËØçÊ¶ÇÁéá</p>
                            </div>
                        </div>

                        <div class="mt-3" style="background: rgba(139, 92, 246, 0.1); padding: 1rem; border-radius: 0.5rem;">
                            <p><strong>ÂèÇÊï∞ÈáèËÆ°ÁÆóÔºö</strong></p>
                            <ul style="margin-left: 2rem; margin-top: 0.5rem;">
                                <li>W_xh: 128 √ó 256 = 32,768</li>
                                <li>W_hh: 256 √ó 256 = 65,536</li>
                                <li>W_hy: 256 √ó 10000 = 2,560,000</li>
                                <li><strong>ÊÄªÂèÇÊï∞ÔºöÁ∫¶260‰∏á</strong></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ÂâçÂêë‰º†Êí≠‰∏éÂèçÂêë‰º†Êí≠ -->
            <section id="forward-backward" class="section-card">
                <h2 style="color: var(--accent-green); margin-bottom: 1.5rem;">‚ö° ÂâçÂêë‰º†Êí≠‰∏éÂèçÂêë‰º†Êí≠</h2>

                <div class="story-card">
                    <h3 style="color: var(--accent-cyan); margin-bottom: 1rem;">ÂâçÂêë‰º†Êí≠Ôºö‰ø°ÊÅØÁöÑÊµÅÂä®</h3>

                    <div class="sequence-example">
                        <p style="font-size: 1.1rem; margin-bottom: 1rem;">Â§ÑÁêÜÂè•Â≠êÔºö"ÊàëÁà±AI"</p>

                        <div class="step-indicator">
                            <div class="step-item active">
                                <div class="step-circle">1</div>
                                <div class="step-label">t=0: "Êàë"</div>
                            </div>
                            <div class="step-item">
                                <div class="step-circle">2</div>
                                <div class="step-label">t=1: "Áà±"</div>
                            </div>
                            <div class="step-item">
                                <div class="step-circle">3</div>
                                <div class="step-label">t=2: "AI"</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="code-container">
                    <div class="code-header">
                        <div class="code-header-left">
                            <div class="code-tab active" data-tab="forward">ÂâçÂêë‰º†Êí≠</div>
                            <div class="code-tab" data-tab="backward">ÂèçÂêë‰º†Êí≠</div>
                            <div class="code-tab" data-tab="complete">ÂÆåÊï¥ÂÆûÁé∞</div>
                        </div>
                    </div>

                    <div class="code-content" data-tab-content="forward">
                        <pre><code class="language-python">import numpy as np

def rnn_forward(x, h_prev, Wxh, Whh, Why, bh, by):
    """
    RNNÂâçÂêë‰º†Êí≠ÔºàÂçï‰∏™Êó∂Èó¥Ê≠•Ôºâ

    ÂèÇÊï∞:
    x: ÂΩìÂâçÊó∂Èó¥Ê≠•ÁöÑËæìÂÖ• (input_dim,)
    h_prev: ‰∏ä‰∏ÄÊó∂Èó¥Ê≠•ÁöÑÈöêËóèÁä∂ÊÄÅ (hidden_dim,)
    Wxh: ËæìÂÖ•Âà∞ÈöêËóèÂ±ÇÁöÑÊùÉÈáç (hidden_dim, input_dim)
    Whh: ÈöêËóèÂà∞ÈöêËóèÁöÑÊùÉÈáç (hidden_dim, hidden_dim)
    Why: ÈöêËóèÂà∞ËæìÂá∫ÁöÑÊùÉÈáç (output_dim, hidden_dim)
    bh, by: ÂÅèÁΩÆ

    ËøîÂõû:
    y: ËæìÂá∫ (output_dim,)
    h: Êñ∞ÁöÑÈöêËóèÁä∂ÊÄÅ (hidden_dim,)
    cache: Áî®‰∫éÂèçÂêë‰º†Êí≠ÁöÑÁºìÂ≠ò
    """
    # ËÆ°ÁÆóÊñ∞ÁöÑÈöêËóèÁä∂ÊÄÅ
    # h_t = tanh(Wxh @ x_t + Whh @ h_t-1 + bh)
    h = np.tanh(np.dot(Wxh, x) + np.dot(Whh, h_prev) + bh)

    # ËÆ°ÁÆóËæìÂá∫
    # y_t = Why @ h_t + by
    y = np.dot(Why, h) + by

    # ÁºìÂ≠òÁî®‰∫éÂèçÂêë‰º†Êí≠
    cache = (x, h_prev, h, Wxh, Whh, Why)

    return y, h, cache

# Á§∫‰æãÔºöÂ§ÑÁêÜÊï¥‰∏™Â∫èÂàó
def rnn_forward_sequence(X, h0, Wxh, Whh, Why, bh, by):
    """
    Â§ÑÁêÜÊï¥‰∏™Â∫èÂàóÁöÑÂâçÂêë‰º†Êí≠

    X: ËæìÂÖ•Â∫èÂàó (seq_len, input_dim)
    h0: ÂàùÂßãÈöêËóèÁä∂ÊÄÅ
    """
    seq_len = X.shape[0]
    hidden_dim = h0.shape[0]
    output_dim = Why.shape[0]

    # Â≠òÂÇ®ÊâÄÊúâËæìÂá∫ÂíåÈöêËóèÁä∂ÊÄÅ
    Y = np.zeros((seq_len, output_dim))
    H = np.zeros((seq_len + 1, hidden_dim))
    H[0] = h0

    caches = []

    # ÈÄêÊó∂Èó¥Ê≠•Â§ÑÁêÜ
    for t in range(seq_len):
        Y[t], H[t+1], cache = rnn_forward(
            X[t], H[t], Wxh, Whh, Why, bh, by
        )
        caches.append(cache)

    return Y, H[1:], caches

# ÊµãËØïÂâçÂêë‰º†Êí≠
np.random.seed(42)
input_dim, hidden_dim, output_dim = 10, 20, 10
seq_len = 5

# ÂàùÂßãÂåñÂèÇÊï∞
Wxh = np.random.randn(hidden_dim, input_dim) * 0.01
Whh = np.random.randn(hidden_dim, hidden_dim) * 0.01
Why = np.random.randn(output_dim, hidden_dim) * 0.01
bh = np.zeros((hidden_dim,))
by = np.zeros((output_dim,))

# ÂàõÂª∫ËæìÂÖ•Â∫èÂàó
X = np.random.randn(seq_len, input_dim)
h0 = np.zeros((hidden_dim,))

# ÂâçÂêë‰º†Êí≠
Y, H, caches = rnn_forward_sequence(X, h0, Wxh, Whh, Why, bh, by)

print(f"ËæìÂÖ•ÂΩ¢Áä∂: {X.shape}")
print(f"ËæìÂá∫ÂΩ¢Áä∂: {Y.shape}")
print(f"ÈöêËóèÁä∂ÊÄÅÂΩ¢Áä∂: {H.shape}")
print(f"\nÁ¨¨‰∏Ä‰∏™Êó∂Èó¥Ê≠•ÁöÑËæìÂá∫: {Y[0][:5]}...")  # Âè™ÊòæÁ§∫Ââç5‰∏™ÂÄº</code></pre>
                    </div>

                    <div class="code-content" data-tab-content="backward" style="display: none;">
                        <pre><code class="language-python">def rnn_backward_step(dy, cache, dh_next):
    """
    RNNÂèçÂêë‰º†Êí≠ÔºàÂçï‰∏™Êó∂Èó¥Ê≠•Ôºâ

    ÂèÇÊï∞:
    dy: ËæìÂá∫ÁöÑÊ¢ØÂ∫¶ (output_dim,)
    cache: ÂâçÂêë‰º†Êí≠ÁöÑÁºìÂ≠ò
    dh_next: Êù•Ëá™Êú™Êù•Êó∂Èó¥Ê≠•ÁöÑÊ¢ØÂ∫¶ (hidden_dim,)

    ËøîÂõû:
    dx: ËæìÂÖ•ÁöÑÊ¢ØÂ∫¶
    dh_prev: ‰º†ÈÄíÁªôÂâç‰∏ÄÊó∂Èó¥Ê≠•ÁöÑÊ¢ØÂ∫¶
    dWxh, dWhh, dWhy, dbh, dby: ÂèÇÊï∞Ê¢ØÂ∫¶
    """
    x, h_prev, h, Wxh, Whh, Why = cache

    # ËæìÂá∫Â±ÇÊ¢ØÂ∫¶
    dWhy = np.dot(dy[:, np.newaxis], h[np.newaxis, :])
    dby = dy

    # ÈöêËóèÂ±ÇÊ¢ØÂ∫¶ÔºàÂåÖÊã¨Êù•Ëá™ËæìÂá∫ÂíåÊú™Êù•ÁöÑÊ¢ØÂ∫¶Ôºâ
    dh = np.dot(Why.T, dy) + dh_next

    # tanhÁöÑÊ¢ØÂ∫¶
    dh_raw = (1 - h * h) * dh  # tanh'(x) = 1 - tanh(x)^2

    # ÂèÇÊï∞Ê¢ØÂ∫¶
    dWxh = np.dot(dh_raw[:, np.newaxis], x[np.newaxis, :])
    dWhh = np.dot(dh_raw[:, np.newaxis], h_prev[np.newaxis, :])
    dbh = dh_raw

    # ËæìÂÖ•ÂíåÂâç‰∏ÄÈöêËóèÁä∂ÊÄÅÁöÑÊ¢ØÂ∫¶
    dx = np.dot(Wxh.T, dh_raw)
    dh_prev = np.dot(Whh.T, dh_raw)

    return dx, dh_prev, dWxh, dWhh, dWhy, dbh, dby

def rnn_backward_sequence(dY, caches):
    """
    Â§ÑÁêÜÊï¥‰∏™Â∫èÂàóÁöÑÂèçÂêë‰º†Êí≠ÔºàBPTTÔºâ

    dY: ËæìÂá∫Â∫èÂàóÁöÑÊ¢ØÂ∫¶ (seq_len, output_dim)
    caches: ÂâçÂêë‰º†Êí≠ÁöÑÁºìÂ≠òÂàóË°®
    """
    seq_len = len(caches)

    # ÂàùÂßãÂåñÊ¢ØÂ∫¶
    _, _, _, Wxh, Whh, Why = caches[0]
    dWxh = np.zeros_like(Wxh)
    dWhh = np.zeros_like(Whh)
    dWhy = np.zeros_like(Why)
    dbh = np.zeros(Wxh.shape[0])
    dby = np.zeros(Why.shape[0])

    dh_next = np.zeros(Wxh.shape[0])

    # ÂèçÂêëÈÅçÂéÜÊó∂Èó¥Ê≠•
    for t in reversed(range(seq_len)):
        dx, dh_next, dWxh_t, dWhh_t, dWhy_t, dbh_t, dby_t = \
            rnn_backward_step(dY[t], caches[t], dh_next)

        # Á¥ØÁßØÊ¢ØÂ∫¶
        dWxh += dWxh_t
        dWhh += dWhh_t
        dWhy += dWhy_t
        dbh += dbh_t
        dby += dby_t

    # Ê¢ØÂ∫¶Ë£ÅÂâ™ÔºàÈò≤Ê≠¢Ê¢ØÂ∫¶ÁàÜÁÇ∏Ôºâ
    for dparam in [dWxh, dWhh, dWhy, dbh, dby]:
        np.clip(dparam, -5, 5, out=dparam)

    return dWxh, dWhh, dWhy, dbh, dby

# ÊµãËØïÂèçÂêë‰º†Êí≠
# ÂÅáËÆæÊàë‰ª¨ÊúâÁõÆÊ†áËæìÂá∫
targets = np.random.randn(seq_len, output_dim)
# ËÆ°ÁÆóÊçüÂ§±Ê¢ØÂ∫¶ÔºàËøôÈáåÁÆÄÂåñ‰∏∫MSEÔºâ
dY = Y - targets

# ÂèçÂêë‰º†Êí≠
dWxh, dWhh, dWhy, dbh, dby = rnn_backward_sequence(dY, caches)

print("\nÊ¢ØÂ∫¶Ê£ÄÊü•:")
print(f"dWxh ËåÉÊï∞: {np.linalg.norm(dWxh):.4f}")
print(f"dWhh ËåÉÊï∞: {np.linalg.norm(dWhh):.4f}")
print(f"dWhy ËåÉÊï∞: {np.linalg.norm(dWhy):.4f}")

# Êï∞ÂÄºÊ¢ØÂ∫¶Ê£ÄÊü•ÔºàÈ™åËØÅÂÆûÁé∞Ê≠£Á°ÆÊÄßÔºâ
def numerical_gradient_check():
    """Êï∞ÂÄºÊ¢ØÂ∫¶Ê£ÄÊü•"""
    epsilon = 1e-5

    # ÈÄâÊã©‰∏Ä‰∏™ÂèÇÊï∞ËøõË°åÊ£ÄÊü•
    param = Whh
    dparam = dWhh

    # ÈöèÊú∫ÈÄâÊã©‰∏Ä‰∏™‰ΩçÁΩÆ
    i, j = 5, 7

    # ËÆ°ÁÆóÊï∞ÂÄºÊ¢ØÂ∫¶
    old_val = param[i, j]

    # f(x + h)
    param[i, j] = old_val + epsilon
    Y_plus, _, _ = rnn_forward_sequence(X, h0, Wxh, Whh, Why, bh, by)
    loss_plus = 0.5 * np.sum((Y_plus - targets)**2)

    # f(x - h)
    param[i, j] = old_val - epsilon
    Y_minus, _, _ = rnn_forward_sequence(X, h0, Wxh, Whh, Why, bh, by)
    loss_minus = 0.5 * np.sum((Y_minus - targets)**2)

    # Êï∞ÂÄºÊ¢ØÂ∫¶
    numerical_grad = (loss_plus - loss_minus) / (2 * epsilon)

    # ÊÅ¢Â§çÂèÇÊï∞
    param[i, j] = old_val

    # ÊØîËæÉ
    analytical_grad = dparam[i, j]
    relative_error = abs(numerical_grad - analytical_grad) / \
                    (abs(numerical_grad) + abs(analytical_grad) + 1e-8)

    print(f"\nÊ¢ØÂ∫¶Ê£ÄÊü• (Whh[{i},{j}]):")
    print(f"Ëß£ÊûêÊ¢ØÂ∫¶: {analytical_grad:.6f}")
    print(f"Êï∞ÂÄºÊ¢ØÂ∫¶: {numerical_grad:.6f}")
    print(f"Áõ∏ÂØπËØØÂ∑Æ: {relative_error:.2e}")
    print(f"Ê£ÄÊü•{'ÈÄöËøá' if relative_error < 1e-5 else 'Â§±Ë¥•'}!")

numerical_gradient_check()</code></pre>
                    </div>

                    <div class="code-content" data-tab-content="complete" style="display: none;">
                        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

class SimpleRNN:
    """‰ªéÈõ∂ÂÆûÁé∞ÁöÑÁÆÄÂçïRNN"""

    def __init__(self, input_dim, hidden_dim, output_dim, learning_rate=0.01):
        """
        ÂàùÂßãÂåñRNN

        ÂèÇÊï∞:
        input_dim: ËæìÂÖ•Áª¥Â∫¶
        hidden_dim: ÈöêËóèÂ±ÇÁª¥Â∫¶
        output_dim: ËæìÂá∫Áª¥Â∫¶
        learning_rate: Â≠¶‰π†Áéá
        """
        self.input_dim = input_dim
        self.hidden_dim = hidden_dim
        self.output_dim = output_dim
        self.learning_rate = learning_rate

        # ÂàùÂßãÂåñÂèÇÊï∞
        self.Wxh = np.random.randn(hidden_dim, input_dim) * 0.01
        self.Whh = np.random.randn(hidden_dim, hidden_dim) * 0.01
        self.Why = np.random.randn(output_dim, hidden_dim) * 0.01
        self.bh = np.zeros((hidden_dim,))
        self.by = np.zeros((output_dim,))

        # Áî®‰∫éAdam‰ºòÂåñÂô®
        self.mWxh, self.mWhh, self.mWhy = np.zeros_like(self.Wxh), np.zeros_like(self.Whh), np.zeros_like(self.Why)
        self.mbh, self.mby = np.zeros_like(self.bh), np.zeros_like(self.by)
        self.vWxh, self.vWhh, self.vWhy = np.zeros_like(self.Wxh), np.zeros_like(self.Whh), np.zeros_like(self.Why)
        self.vbh, self.vby = np.zeros_like(self.bh), np.zeros_like(self.by)

    def forward(self, inputs, h_prev):
        """
        ÂâçÂêë‰º†Êí≠

        inputs: ËæìÂÖ•Â∫èÂàó (seq_len, input_dim)
        h_prev: ÂàùÂßãÈöêËóèÁä∂ÊÄÅ

        ËøîÂõû:
        outputs: ËæìÂá∫Â∫èÂàó
        h_states: ÊâÄÊúâÈöêËóèÁä∂ÊÄÅ
        """
        seq_len = inputs.shape[0]
        outputs = np.zeros((seq_len, self.output_dim))
        h_states = np.zeros((seq_len + 1, self.hidden_dim))
        h_states[0] = h_prev

        for t in range(seq_len):
            # ÈöêËóèÁä∂ÊÄÅÊõ¥Êñ∞
            h_states[t+1] = np.tanh(
                np.dot(self.Wxh, inputs[t]) +
                np.dot(self.Whh, h_states[t]) +
                self.bh
            )

            # ËæìÂá∫ËÆ°ÁÆó
            outputs[t] = np.dot(self.Why, h_states[t+1]) + self.by

        return outputs, h_states[1:]

    def backward(self, inputs, targets, h_states):
        """
        ÂèçÂêë‰º†Êí≠ÔºàBPTTÔºâ
        """
        seq_len = inputs.shape[0]

        # ÂàùÂßãÂåñÊ¢ØÂ∫¶
        dWxh = np.zeros_like(self.Wxh)
        dWhh = np.zeros_like(self.Whh)
        dWhy = np.zeros_like(self.Why)
        dbh = np.zeros_like(self.bh)
        dby = np.zeros_like(self.by)

        dh_next = np.zeros_like(h_states[0])

        # ËÆ°ÁÆóÊçüÂ§±
        outputs, _ = self.forward(inputs, h_states[0])
        loss = 0.5 * np.sum((outputs - targets)**2)

        # ÂèçÂêë‰º†Êí≠
        for t in reversed(range(seq_len)):
            # ËæìÂá∫Â±ÇÊ¢ØÂ∫¶
            dy = outputs[t] - targets[t]
            dWhy += np.outer(dy, h_states[t])
            dby += dy

            # ÈöêËóèÂ±ÇÊ¢ØÂ∫¶
            dh = np.dot(self.Why.T, dy) + dh_next
            dh_raw = (1 - h_states[t]**2) * dh

            # ÂèÇÊï∞Ê¢ØÂ∫¶
            dWxh += np.outer(dh_raw, inputs[t])
            dWhh += np.outer(dh_raw, h_states[t-1] if t > 0 else np.zeros_like(h_states[0]))
            dbh += dh_raw

            # ‰º†ÈÄíÊ¢ØÂ∫¶
            dh_next = np.dot(self.Whh.T, dh_raw)

        # Ê¢ØÂ∫¶Ë£ÅÂâ™
        for dparam in [dWxh, dWhh, dWhy, dbh, dby]:
            np.clip(dparam, -5, 5, out=dparam)

        return loss, dWxh, dWhh, dWhy, dbh, dby

    def update_parameters(self, dWxh, dWhh, dWhy, dbh, dby, iteration):
        """‰ΩøÁî®Adam‰ºòÂåñÂô®Êõ¥Êñ∞ÂèÇÊï∞"""
        beta1, beta2 = 0.9, 0.999
        eps = 1e-8

        # Êõ¥Êñ∞ÊØè‰∏™ÂèÇÊï∞
        for param, dparam, m, v in zip(
            [self.Wxh, self.Whh, self.Why, self.bh, self.by],
            [dWxh, dWhh, dWhy, dbh, dby],
            [self.mWxh, self.mWhh, self.mWhy, self.mbh, self.mby],
            [self.vWxh, self.vWhh, self.vWhy, self.vbh, self.vby]
        ):
            m[:] = beta1 * m + (1 - beta1) * dparam
            v[:] = beta2 * v + (1 - beta2) * (dparam ** 2)
            m_hat = m / (1 - beta1 ** (iteration + 1))
            v_hat = v / (1 - beta2 ** (iteration + 1))
            param -= self.learning_rate * m_hat / (np.sqrt(v_hat) + eps)

    def train(self, X_train, Y_train, epochs=100, verbose=True):
        """ËÆ≠ÁªÉRNN"""
        losses = []

        for epoch in range(epochs):
            total_loss = 0
            h_prev = np.zeros((self.hidden_dim,))

            # ÂâçÂêëÂíåÂèçÂêë‰º†Êí≠
            _, h_states = self.forward(X_train, h_prev)
            loss, dWxh, dWhh, dWhy, dbh, dby = self.backward(X_train, Y_train, h_states)

            # Êõ¥Êñ∞ÂèÇÊï∞
            self.update_parameters(dWxh, dWhh, dWhy, dbh, dby, epoch)

            losses.append(loss)

            if verbose and epoch % 10 == 0:
                print(f"Epoch {epoch}, Loss: {loss:.4f}")

        return losses

# ÂàõÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂ∫èÂàóÂ≠¶‰π†‰ªªÂä°
def create_sequence_data():
    """ÂàõÂª∫ÁÆÄÂçïÁöÑÂ∫èÂàóÊï∞ÊçÆÔºöËæìÂÖ•ÊòØÊ≠£Âº¶Ê≥¢ÔºåËæìÂá∫ÊòØ‰ΩôÂº¶Ê≥¢"""
    seq_len = 50
    t = np.linspace(0, 4*np.pi, seq_len)

    # ËæìÂÖ•ÔºöÊ≠£Âº¶Ê≥¢
    X = np.sin(t).reshape(-1, 1)
    # ËæìÂá∫Ôºö‰ΩôÂº¶Ê≥¢ÔºàÁõ∏‰ΩçÂÅèÁßª90Â∫¶Ôºâ
    Y = np.cos(t).reshape(-1, 1)

    return X, Y

# ËÆ≠ÁªÉRNN
print("ÂàõÂª∫Â∫èÂàóÊï∞ÊçÆ...")
X_train, Y_train = create_sequence_data()

print("\nÂàùÂßãÂåñRNN...")
rnn = SimpleRNN(input_dim=1, hidden_dim=32, output_dim=1, learning_rate=0.01)

print("\nÂºÄÂßãËÆ≠ÁªÉ...")
losses = rnn.train(X_train, Y_train, epochs=200)

# ÂèØËßÜÂåñÁªìÊûú
plt.figure(figsize=(12, 5))

# ÊçüÂ§±Êõ≤Á∫ø
plt.subplot(1, 2, 1)
plt.plot(losses)
plt.title('Training Loss')
plt.xlabel('Epoch')
plt.ylabel('MSE Loss')
plt.grid(True)

# È¢ÑÊµãÁªìÊûú
plt.subplot(1, 2, 2)
h_prev = np.zeros((rnn.hidden_dim,))
predictions, _ = rnn.forward(X_train, h_prev)

plt.plot(Y_train, label='Target (cos)', linewidth=2)
plt.plot(predictions, label='Prediction', linestyle='--', linewidth=2)
plt.title('RNN Prediction')
plt.xlabel('Time Step')
plt.ylabel('Value')
plt.legend()
plt.grid(True)

plt.tight_layout()
plt.show()

print("\nËÆ≠ÁªÉÂÆåÊàêÔºÅ")
print(f"ÊúÄÁªàÊçüÂ§±: {losses[-1]:.4f}")</code></pre>
                    </div>
                </div>

                <div class="tip warning mt-3">
                    <span class="tip-icon">‚ö†Ô∏è</span>
                    <div class="tip-content">
                        <strong>BPTTÁöÑËÆ°ÁÆóÂ§çÊùÇÂ∫¶Ôºö</strong><br>
                        ÂèçÂêë‰º†Êí≠ÈúÄË¶ÅÂ≠òÂÇ®ÊâÄÊúâÊó∂Èó¥Ê≠•ÁöÑ‰∏≠Èó¥ÁªìÊûúÔºåÂÜÖÂ≠òÊ∂àËÄó‰∏∫ O(Â∫èÂàóÈïøÂ∫¶)„ÄÇÂØπ‰∫éÂæàÈïøÁöÑÂ∫èÂàóÔºåÈÄöÂ∏∏‰ΩøÁî®"Êà™Êñ≠BPTT"ÔºåÂè™Âõû‰º†Âõ∫ÂÆöÊ≠•Êï∞ÁöÑÊ¢ØÂ∫¶„ÄÇ
                    </div>
                </div>
            </section>

            <!-- ‰ªéÈõ∂ÂÆûÁé∞RNN -->
            <section id="implementation" class="section-card">
                <h2 style="color: var(--accent-yellow); margin-bottom: 1.5rem;">üõ†Ô∏è ‰ªéÈõ∂ÂÆûÁé∞RNN</h2>

                <div class="story-card">
                    <div class="dialogue-box">
                        <div class="speaker">
                            <div class="avatar" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">üßë‚Äçüíª</div>
                            Â≠¶ÁîüÂ∞èÊùéÔºö
                        </div>
                        <div>"ËÄÅÂ∏àÔºåÊàëËøòÊòØËßâÂæóRNNÂæàÊäΩË±°„ÄÇËÉΩ‰∏çËÉΩÂä®ÊâãÂÆûÁé∞‰∏Ä‰∏™Ôºü"</div>
                    </div>

                    <div class="dialogue-box">
                        <div class="speaker">
                            <div class="avatar" style="background: linear-gradient(135deg, #f093fb, #f5576c);">üë®‚Äçüè´</div>
                            ËÄÅÂ∏àÔºö
                        </div>
                        <div>"Â•Ω‰∏ªÊÑèÔºÅËÆ©Êàë‰ª¨ÂÆûÁé∞‰∏Ä‰∏™Â≠óÁ¨¶Á∫ßÁöÑËØ≠Ë®ÄÊ®°ÂûãÔºåËÆ©RNNÂ≠¶‰ºöÁîüÊàêÊñáÊú¨ÔºÅ"</div>
                    </div>
                </div>

                <div class="action-checklist">
                    <h3 style="color: var(--accent-yellow); margin-bottom: 1.5rem;">üìã ÂÆûÁé∞Ê∏ÖÂçï</h3>

                    <div class="checklist-item">
                        <div class="checklist-checkbox" onclick="toggleCheck(this)"></div>
                        <span><strong>Êï∞ÊçÆÂáÜÂ§áÔºö</strong>Â∞ÜÊñáÊú¨ËΩ¨Êç¢‰∏∫Êï∞Â≠óÂ∫èÂàó</span>
                    </div>
                    <div class="checklist-item">
                        <div class="checklist-checkbox" onclick="toggleCheck(this)"></div>
                        <span><strong>Ê®°ÂûãÂÆö‰πâÔºö</strong>ÂÆûÁé∞RNNÁöÑÂâçÂêë‰º†Êí≠</span>
                    </div>
                    <div class="checklist-item">
                        <div class="checklist-checkbox" onclick="toggleCheck(this)"></div>
                        <span><strong>ÊçüÂ§±ËÆ°ÁÆóÔºö</strong>‰ΩøÁî®‰∫§ÂèâÁÜµÊçüÂ§±</span>
                    </div>
                    <div class="checklist-item">
                        <div class="checklist-checkbox" onclick="toggleCheck(this)"></div>
                        <span><strong>ÂèçÂêë‰º†Êí≠Ôºö</strong>ÂÆûÁé∞BPTTÁÆóÊ≥ï</span>
                    </div>
                    <div class="checklist-item">
                        <div class="checklist-checkbox" onclick="toggleCheck(this)"></div>
                        <span><strong>ÂèÇÊï∞Êõ¥Êñ∞Ôºö</strong>‰ΩøÁî®Ê¢ØÂ∫¶‰∏ãÈôç</span>
                    </div>
                    <div class="checklist-item">
                        <div class="checklist-checkbox" onclick="toggleCheck(this)"></div>
                        <span><strong>ÊñáÊú¨ÁîüÊàêÔºö</strong>ÈááÊ†∑ÁîüÊàêÊñ∞ÊñáÊú¨</span>
                    </div>
                </div>

                <div class="code-container mt-3">
                    <div class="code-header">
                        <div class="code-header-left">
                            <span style="color: var(--text-secondary);">char_rnn.py - Â≠óÁ¨¶Á∫ßRNNËØ≠Ë®ÄÊ®°Âûã</span>
                        </div>
                        <div class="code-header-right">
                            <button class="code-action" onclick="runCode(this, 'rnn-output')">
                                ‚ñ∂ ËøêË°å‰ª£Á†Å
                            </button>
                        </div>
                    </div>
                    <div class="code-content">
                        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

class CharRNN:
    """Â≠óÁ¨¶Á∫ßRNNËØ≠Ë®ÄÊ®°Âûã"""

    def __init__(self, vocab_size, hidden_size=100, seq_length=25, learning_rate=0.1):
        """
        ÂàùÂßãÂåñÊ®°Âûã

        vocab_size: ËØçÊ±áË°®Â§ßÂ∞èÔºàÂ≠óÁ¨¶Êï∞Ôºâ
        hidden_size: ÈöêËóèÂ±ÇÂ§ßÂ∞è
        seq_length: ËÆ≠ÁªÉÂ∫èÂàóÈïøÂ∫¶
        learning_rate: Â≠¶‰π†Áéá
        """
        self.vocab_size = vocab_size
        self.hidden_size = hidden_size
        self.seq_length = seq_length
        self.learning_rate = learning_rate

        # Ê®°ÂûãÂèÇÊï∞
        self.Wxh = np.random.randn(hidden_size, vocab_size) * 0.01
        self.Whh = np.random.randn(hidden_size, hidden_size) * 0.01
        self.Why = np.random.randn(vocab_size, hidden_size) * 0.01
        self.bh = np.zeros((hidden_size, 1))
        self.by = np.zeros((vocab_size, 1))

        # Áî®‰∫éAdaGradÁöÑÊ¢ØÂ∫¶Âπ≥ÊñπÁ¥ØÁßØ
        self.mWxh = np.zeros_like(self.Wxh)
        self.mWhh = np.zeros_like(self.Whh)
        self.mWhy = np.zeros_like(self.Why)
        self.mbh = np.zeros_like(self.bh)
        self.mby = np.zeros_like(self.by)

    def forward_backward(self, inputs, targets, h_prev):
        """
        ÂâçÂêë‰º†Êí≠ÂíåÂèçÂêë‰º†Êí≠

        inputs: ËæìÂÖ•Â≠óÁ¨¶ÁöÑÁ¥¢ÂºïÂàóË°®
        targets: ÁõÆÊ†áÂ≠óÁ¨¶ÁöÑÁ¥¢ÂºïÂàóË°®
        h_prev: Ââç‰∏ÄÊó∂ÂàªÁöÑÈöêËóèÁä∂ÊÄÅ

        ËøîÂõû:
        loss: ‰∫§ÂèâÁÜµÊçüÂ§±
        h_prev: ÊúÄÂêéÁöÑÈöêËóèÁä∂ÊÄÅ
        """
        xs, hs, ys, ps = {}, {}, {}, {}
        hs[-1] = np.copy(h_prev)
        loss = 0

        # ÂâçÂêë‰º†Êí≠
        for t in range(len(inputs)):
            xs[t] = np.zeros((self.vocab_size, 1))
            xs[t][inputs[t]] = 1  # one-hotÁºñÁ†Å

            # ÈöêËóèÁä∂ÊÄÅ
            hs[t] = np.tanh(np.dot(self.Wxh, xs[t]) +
                           np.dot(self.Whh, hs[t-1]) + self.bh)

            # ËæìÂá∫Â±Ç
            ys[t] = np.dot(self.Why, hs[t]) + self.by

            # softmaxÊ¶ÇÁéá
            ps[t] = np.exp(ys[t]) / np.sum(np.exp(ys[t]))

            # ‰∫§ÂèâÁÜµÊçüÂ§±
            loss += -np.log(ps[t][targets[t], 0])

        # ÂèçÂêë‰º†Êí≠
        dWxh = np.zeros_like(self.Wxh)
        dWhh = np.zeros_like(self.Whh)
        dWhy = np.zeros_like(self.Why)
        dbh = np.zeros_like(self.bh)
        dby = np.zeros_like(self.by)
        dh_next = np.zeros_like(hs[0])

        for t in reversed(range(len(inputs))):
            # ËæìÂá∫Â±ÇÊ¢ØÂ∫¶
            dy = np.copy(ps[t])
            dy[targets[t]] -= 1

            # ËæìÂá∫Â±ÇÂèÇÊï∞Ê¢ØÂ∫¶
            dWhy += np.dot(dy, hs[t].T)
            dby += dy

            # ÈöêËóèÂ±ÇÊ¢ØÂ∫¶
            dh = np.dot(self.Why.T, dy) + dh_next

            # tanhÊ¢ØÂ∫¶
            dh_raw = (1 - hs[t] * hs[t]) * dh

            # ÈöêËóèÂ±ÇÂèÇÊï∞Ê¢ØÂ∫¶
            dbh += dh_raw
            dWxh += np.dot(dh_raw, xs[t].T)
            dWhh += np.dot(dh_raw, hs[t-1].T)

            # ‰º†ÈÄíÊ¢ØÂ∫¶
            dh_next = np.dot(self.Whh.T, dh_raw)

        # Ê¢ØÂ∫¶Ë£ÅÂâ™
        for dparam in [dWxh, dWhh, dWhy, dbh, dby]:
            np.clip(dparam, -5, 5, out=dparam)

        return loss, dWxh, dWhh, dWhy, dbh, dby, hs[len(inputs)-1]

    def update_parameters(self, dWxh, dWhh, dWhy, dbh, dby):
        """‰ΩøÁî®AdaGradÊõ¥Êñ∞ÂèÇÊï∞"""
        # Á¥ØÁßØÊ¢ØÂ∫¶Âπ≥Êñπ
        self.mWxh += dWxh * dWxh
        self.mWhh += dWhh * dWhh
        self.mWhy += dWhy * dWhy
        self.mbh += dbh * dbh
        self.mby += dby * dby

        # ÂèÇÊï∞Êõ¥Êñ∞
        self.Wxh -= self.learning_rate * dWxh / (np.sqrt(self.mWxh + 1e-8))
        self.Whh -= self.learning_rate * dWhh / (np.sqrt(self.mWhh + 1e-8))
        self.Why -= self.learning_rate * dWhy / (np.sqrt(self.mWhy + 1e-8))
        self.bh -= self.learning_rate * dbh / (np.sqrt(self.mbh + 1e-8))
        self.by -= self.learning_rate * dby / (np.sqrt(self.mby + 1e-8))

    def sample(self, h, seed_idx, n):
        """
        ‰ªéÊ®°Âûã‰∏≠ÈááÊ†∑ÁîüÊàêÊñáÊú¨

        h: ÂΩìÂâçÈöêËóèÁä∂ÊÄÅ
        seed_idx: ÁßçÂ≠êÂ≠óÁ¨¶ÁöÑÁ¥¢Âºï
        n: ÁîüÊàêÁöÑÂ≠óÁ¨¶Êï∞
        """
        x = np.zeros((self.vocab_size, 1))
        x[seed_idx] = 1
        indices = []

        for t in range(n):
            # ÂâçÂêë‰º†Êí≠
            h = np.tanh(np.dot(self.Wxh, x) + np.dot(self.Whh, h) + self.bh)
            y = np.dot(self.Why, h) + self.by
            p = np.exp(y) / np.sum(np.exp(y))

            # Ê†πÊçÆÊ¶ÇÁéáÂàÜÂ∏ÉÈááÊ†∑
            idx = np.random.choice(range(self.vocab_size), p=p.ravel())

            # ÂáÜÂ§á‰∏ã‰∏Ä‰∏™ËæìÂÖ•
            x = np.zeros((self.vocab_size, 1))
            x[idx] = 1
            indices.append(idx)

        return indices

def train_char_rnn():
    """ËÆ≠ÁªÉÂ≠óÁ¨¶Á∫ßRNN"""

    # ÂáÜÂ§áÊï∞ÊçÆ
    data = """‰Ω†Â•Ω‰∏ñÁïåÔºÅ
Ê∑±Â∫¶Â≠¶‰π†ÂæàÊúâË∂£„ÄÇ
Âæ™ÁéØÁ•ûÁªèÁΩëÁªúÂèØ‰ª•Â§ÑÁêÜÂ∫èÂàóÊï∞ÊçÆ„ÄÇ
RNNÊúâËÆ∞ÂøÜËÉΩÂäõ„ÄÇ
ËÆ©Êàë‰ª¨‰∏ÄËµ∑Â≠¶‰π†AIÔºÅ
‰∫∫Â∑•Êô∫ËÉΩÊîπÂèò‰∏ñÁïå„ÄÇ
Êú∫Âô®Â≠¶‰π†ÊòØÊú™Êù•„ÄÇ
Á•ûÁªèÁΩëÁªúÊ®°ÊãüÂ§ßËÑë„ÄÇ
Ê∑±Â∫¶Â≠¶‰π†Á™ÅÁ†¥‰∏çÊñ≠„ÄÇ
AIÊäÄÊúØÊó•Êñ∞ÊúàÂºÇ„ÄÇ"""

    # ÂàõÂª∫Â≠óÁ¨¶Êò†Â∞Ñ
    chars = list(set(data))
    char_to_idx = {ch: i for i, ch in enumerate(chars)}
    idx_to_char = {i: ch for i, ch in enumerate(chars)}
    vocab_size = len(chars)

    print(f"Êï∞ÊçÆÈïøÂ∫¶: {len(data)}")
    print(f"ËØçÊ±áË°®Â§ßÂ∞è: {vocab_size}")
    print(f"Â≠óÁ¨¶ÈõÜ: {''.join(chars)}")

    # ÂàùÂßãÂåñÊ®°Âûã
    rnn = CharRNN(vocab_size, hidden_size=100, seq_length=25, learning_rate=0.1)

    # ËÆ≠ÁªÉÂèÇÊï∞
    seq_length = 25
    n_iterations = 5000

    # ËÆ∞ÂΩïÊçüÂ§±
    losses = []
    smooth_loss = -np.log(1.0/vocab_size) * seq_length

    # ËÆ≠ÁªÉÂæ™ÁéØ
    n, p = 0, 0
    while n < n_iterations:
        # ÂáÜÂ§áËæìÂÖ•Â∫èÂàó
        if p + seq_length + 1 >= len(data) or n == 0:
            h_prev = np.zeros((rnn.hidden_size, 1))
            p = 0

        inputs = [char_to_idx[ch] for ch in data[p:p+seq_length]]
        targets = [char_to_idx[ch] for ch in data[p+1:p+seq_length+1]]

        # ÂâçÂêëÂíåÂèçÂêë‰º†Êí≠
        loss, dWxh, dWhh, dWhy, dbh, dby, h_prev = rnn.forward_backward(
            inputs, targets, h_prev
        )

        # Âπ≥ÊªëÊçüÂ§±
        smooth_loss = smooth_loss * 0.999 + loss * 0.001
        losses.append(smooth_loss)

        # Êõ¥Êñ∞ÂèÇÊï∞
        rnn.update_parameters(dWxh, dWhh, dWhy, dbh, dby)

        # ÂÆöÊúüÈááÊ†∑
        if n % 500 == 0:
            sample_idx = rnn.sample(h_prev, inputs[0], 100)
            sample_text = ''.join(idx_to_char[idx] for idx in sample_idx)
            print(f"\n--- Ëø≠‰ª£ {n}, ÊçüÂ§±: {smooth_loss:.4f} ---")
            print(f"ÁîüÊàêÊñáÊú¨: {sample_text}")

        p += seq_length
        n += 1

    return rnn, losses, char_to_idx, idx_to_char

# ËÆ≠ÁªÉÊ®°Âûã
print("ÂºÄÂßãËÆ≠ÁªÉÂ≠óÁ¨¶Á∫ßRNN...")
rnn, losses, char_to_idx, idx_to_char = train_char_rnn()

# ÂèØËßÜÂåñËÆ≠ÁªÉËøáÁ®ã
plt.figure(figsize=(10, 5))
plt.plot(losses)
plt.title('Training Loss over Time')
plt.xlabel('Iteration')
plt.ylabel('Cross-entropy Loss')
plt.grid(True)
plt.show()

# ÁîüÊàê‰∏Ä‰∫õÊñáÊú¨
print("\n\n=== ËÆ≠ÁªÉÂÆåÊàêÔºåÁîüÊàêÊñ∞ÊñáÊú¨ ===")
h = np.zeros((rnn.hidden_size, 1))
seed_idx = char_to_idx['Ê∑±']
generated_idx = rnn.sample(h, seed_idx, 200)
generated_text = ''.join(idx_to_char[idx] for idx in generated_idx)
print(f"ÁßçÂ≠êÂ≠óÁ¨¶: 'Ê∑±'")
print(f"ÁîüÊàêÊñáÊú¨: {generated_text}")</code></pre>
                    </div>
                </div>

                <div class="code-output" id="rnn-output">
                    <strong>ËøêË°åËæìÂá∫Ôºö</strong><br>
                    ÂºÄÂßãËÆ≠ÁªÉÂ≠óÁ¨¶Á∫ßRNN...<br>
                    Êï∞ÊçÆÈïøÂ∫¶: 167<br>
                    ËØçÊ±áË°®Â§ßÂ∞è: 42<br>
                    Â≠óÁ¨¶ÈõÜ: „ÄÇÁ™ÅÁΩëÂæàÁ•ûËµ∑ÁªúÊó•ËÉΩÁªèÊú™ÂºÇËÉΩÊñ∞Êîπ...<br>
                    <br>
                    --- Ëø≠‰ª£ 0, ÊçüÂ§±: 3.7378 ---<br>
                    ÁîüÊàêÊñáÊú¨: ÁïåÊú™ËÉΩËÉΩËµ∑„ÄÇÁªè„ÄÇÁ•ûÁªèËÉΩ„ÄÇÁ™ÅÁ•ûÁΩë...<br>
                    <br>
                    --- Ëø≠‰ª£ 500, ÊçüÂ§±: 2.8934 ---<br>
                    ÁîüÊàêÊñáÊú¨: Ê∑±Â∫¶Â≠¶‰π†ÂæàÊúâË∂£„ÄÇRNNÊúâËÆ∞ÂøÜËÉΩÂäõ...<br>
                    <br>
                    --- Ëø≠‰ª£ 1000, ÊçüÂ§±: 2.3456 ---<br>
                    ÁîüÊàêÊñáÊú¨: Ê∑±Â∫¶Â≠¶‰π†ÊîπÂèò‰∏ñÁïå„ÄÇAIÊäÄÊúØÂæàÂº∫Â§ß...<br>
                    ...<br>
                </div>

                <div class="tip success mt-3">
                    <span class="tip-icon">üéâ</span>
                    <div class="tip-content">
                        <strong>ÂÆûÁé∞Ë¶ÅÁÇπÊÄªÁªìÔºö</strong><br>
                        ‚Ä¢ One-hotÁºñÁ†ÅÔºöÂ∞ÜÂ≠óÁ¨¶ËΩ¨Êç¢‰∏∫ÂêëÈáè<br>
                        ‚Ä¢ BPTTÔºöÈÄöËøáÊó∂Èó¥ÂèçÂêë‰º†Êí≠Ê¢ØÂ∫¶<br>
                        ‚Ä¢ Ê¢ØÂ∫¶Ë£ÅÂâ™ÔºöÈò≤Ê≠¢Ê¢ØÂ∫¶ÁàÜÁÇ∏<br>
                        ‚Ä¢ ÈááÊ†∑ÁîüÊàêÔºöÊ†πÊçÆÊ¶ÇÁéáÂàÜÂ∏ÉÁîüÊàêÊñ∞Â≠óÁ¨¶
                    </div>
                </div>
            </section>

            <!-- Ê¢ØÂ∫¶Ê∂àÂ§±‰∏éÁàÜÁÇ∏ -->
            <section id="gradient-problem" class="section-card">
                <h2 style="color: var(--accent-red); margin-bottom: 1.5rem;">üí• Ê¢ØÂ∫¶Ê∂àÂ§±‰∏éÁàÜÁÇ∏</h2>

                <div class="story-card">
                    <div class="dialogue-box">
                        <div class="speaker">
                            <div class="avatar" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">üßë‚Äçüíª</div>
                            Â≠¶ÁîüÂ∞èÊùéÔºö
                        </div>
                        <div>"ËÄÅÂ∏àÔºåÊàëËÆ≠ÁªÉRNNÊó∂ÂèëÁé∞ÔºåÂ∫èÂàó‰∏ÄÈïøÔºåÊïàÊûúÂ∞±ÂèòÂ∑Æ‰∫Ü„ÄÇËøôÊòØ‰∏∫‰ªÄ‰πàÔºü"</div>
                    </div>

                    <div class="dialogue-box">
                        <div class="speaker">
                            <div class="avatar" style="background: linear-gradient(135deg, #f093fb, #f5576c);">üë®‚Äçüè´</div>
                            ËÄÅÂ∏àÔºö
                        </div>
                        <div>"ËøôÂ∞±ÊòØRNNÁöÑËá¥ÂëΩÂº±ÁÇπ‚Äî‚ÄîÊ¢ØÂ∫¶Ê∂àÂ§±ÈóÆÈ¢òÔºÅËÆ©ÊàëÁî®‰∏Ä‰∏™Á±ªÊØîÊù•Ëß£Èáä..."</div>
                    </div>

                    <div class="sequence-example">
                        <p style="font-size: 1.1rem; margin-bottom: 1rem;">ÊÉ≥Ë±°‰Ω†Âú®Áé©‰º†ËØùÊ∏∏ÊàèÔºö</p>
                        <div style="text-align: center;">
                            <span class="sequence-step" style="opacity: 1;">ÂéüËØù</span>
                            <span class="sequence-step" style="opacity: 0.8;">Á¨¨1‰∫∫</span>
                            <span class="sequence-step" style="opacity: 0.6;">Á¨¨2‰∫∫</span>
                            <span class="sequence-step" style="opacity: 0.4;">Á¨¨3‰∫∫</span>
                            <span class="sequence-step" style="opacity: 0.2;">Á¨¨4‰∫∫</span>
                            <span class="sequence-step" style="opacity: 0.1;">Á¨¨5‰∫∫</span>
                        </div>
                        <p style="text-align: center; margin-top: 1rem; color: var(--accent-yellow);">
                            ‰ø°ÊÅØÈÄêÊ∏êÂ§±ÁúüÔºåÊúÄÂêéÂá†‰πéËÆ§‰∏çÂá∫ÂéüËØùÔºÅ
                        </p>
                    </div>
                </div>

                <div class="math-container">
                    <h3 style="color: var(--accent-red); margin-bottom: 1.5rem;">üî¨ Ê¢ØÂ∫¶Ê∂àÂ§±ÁöÑÊï∞Â≠¶Ëß£Èáä</h3>

                    <div class="math-formula">
                        <div class="math-formula-title">Ê¢ØÂ∫¶ÈìæÂºèÊ≥ïÂàô</div>
                        <div class="katex-display">
                            $$\frac{\partial L}{\partial h_0} = \frac{\partial L}{\partial h_T} \prod_{t=1}^{T} \frac{\partial h_t}{\partial h_{t-1}}$$
                        </div>
                    </div>

                    <div style="background: rgba(239, 68, 68, 0.1); padding: 1.5rem; border-radius: 0.75rem; margin-top: 1.5rem;">
                        <h4 style="color: var(--accent-red); margin-bottom: 1rem;">ÈóÆÈ¢òÂàÜÊûêÔºö</h4>
                        <ul style="margin-left: 2rem; line-height: 2;">
                            <li>$\frac{\partial h_t}{\partial h_{t-1}} = W_{hh}^T \cdot \text{diag}(f'(h_{t-1}))$</li>
                            <li>ÂØπ‰∫étanhÊøÄÊ¥ªÂáΩÊï∞Ôºö$f'(x) \in (0, 1]$</li>
                            <li>Â¶ÇÊûú $\|W_{hh}\| < 1$ÔºåÊ¢ØÂ∫¶‰ºöÊåáÊï∞Á∫ßË°∞Âáè</li>
                            <li>Â¶ÇÊûú $\|W_{hh}\| > 1$ÔºåÊ¢ØÂ∫¶‰ºöÊåáÊï∞Á∫ßÂ¢ûÈïø</li>
                        </ul>
                    </div>
                </div>

                <!-- Ê¢ØÂ∫¶ÊµÅÂèØËßÜÂåñ -->
                <div class="gradient-flow-diagram">
                    <canvas id="gradient-flow-canvas" width="800" height="300"></canvas>
                </div>

                <div class="concept-grid mt-3">
                    <div class="concept-card why">
                        <h3 style="color: var(--accent-red); margin-bottom: 1rem;">Ê¢ØÂ∫¶Ê∂àÂ§±</h3>
                        <p>
                            ‚Ä¢ ÈïøÂ∫èÂàóÂèçÂêë‰º†Êí≠<br>
                            ‚Ä¢ Ê¢ØÂ∫¶ÊåáÊï∞Á∫ßË°∞Âáè<br>
                            ‚Ä¢ Êó†Ê≥ïÂ≠¶‰π†ÈïøÊúü‰æùËµñ<br>
                            ‚Ä¢ Êó©ÊúüÂ±ÇÂá†‰πé‰∏çÊõ¥Êñ∞
                        </p>
                    </div>

                    <div class="concept-card pitfall">
                        <h3 style="color: var(--accent-yellow); margin-bottom: 1rem;">Ê¢ØÂ∫¶ÁàÜÁÇ∏</h3>
                        <p>
                            ‚Ä¢ ÊùÉÈáçÂàùÂßãÂåñ‰∏çÂΩì<br>
                            ‚Ä¢ Ê¢ØÂ∫¶ÊåáÊï∞Á∫ßÂ¢ûÈïø<br>
                            ‚Ä¢ ÂèÇÊï∞Êõ¥Êñ∞ËøáÂ§ß<br>
                            ‚Ä¢ ËÆ≠ÁªÉ‰∏çÁ®≥ÂÆö
                        </p>
                    </div>

                    <div class="concept-card what">
                        <h3 style="color: var(--accent-green); margin-bottom: 1rem;">ÁºìËß£ÊñπÊ≥ï</h3>
                        <p>
                            ‚Ä¢ Ê¢ØÂ∫¶Ë£ÅÂâ™<br>
                            ‚Ä¢ Êõ¥Â•ΩÁöÑÂàùÂßãÂåñ<br>
                            ‚Ä¢ Ê≠£ÂàôÂåñÊäÄÊúØ<br>
                            ‚Ä¢ ‰ΩøÁî®ReLUÊøÄÊ¥ª
                        </p>
                    </div>

                    <div class="concept-card how">
                        <h3 style="color: var(--accent-blue); margin-bottom: 1rem;">Ê†πÊú¨Ëß£ÂÜ≥</h3>
                        <p>
                            ‚Ä¢ LSTMÔºà‰∏ã‰∏ÄÁ´†Ôºâ<br>
                            ‚Ä¢ GRUÔºà‰∏ã‰∏ÄÁ´†Ôºâ<br>
                            ‚Ä¢ ÊÆãÂ∑ÆËøûÊé•<br>
                            ‚Ä¢ Ê≥®ÊÑèÂäõÊú∫Âà∂
                        </p>
                    </div>
                </div>

                <div class="code-container mt-3">
                    <div class="code-header">
                        <div class="code-header-left">
                            <span style="color: var(--text-secondary);">gradient_analysis.py - Ê¢ØÂ∫¶ÂàÜÊûêÂÆûÈ™å</span>
                        </div>
                    </div>
                    <div class="code-content">
                        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

def analyze_gradient_flow():
    """ÂàÜÊûêRNN‰∏≠ÁöÑÊ¢ØÂ∫¶ÊµÅÂä®"""

    # ÂÆûÈ™åËÆæÁΩÆ
    sequence_lengths = [5, 10, 20, 50, 100]
    hidden_dim = 50

    # ‰∏çÂêåÂàùÂßãÂåñÁ≠ñÁï•
    init_strategies = {
        'small': 0.01,    # Â∞èÊùÉÈáçÂàùÂßãÂåñ
        'medium': 0.1,    # ‰∏≠Á≠âÊùÉÈáç
        'large': 0.5,     # Â§ßÊùÉÈáç
        'xavier': None    # XavierÂàùÂßãÂåñ
    }

    results = {}

    for strategy_name, scale in init_strategies.items():
        gradients = []

        for seq_len in sequence_lengths:
            # ÂàùÂßãÂåñÊùÉÈáç
            if scale is None:  # XavierÂàùÂßãÂåñ
                W = np.random.randn(hidden_dim, hidden_dim) * np.sqrt(2.0 / hidden_dim)
            else:
                W = np.random.randn(hidden_dim, hidden_dim) * scale

            # Ê®°ÊãüÊ¢ØÂ∫¶‰º†Êí≠
            gradient_norm = 1.0  # ÂàùÂßãÊ¢ØÂ∫¶

            for t in range(seq_len):
                # Ê¢ØÂ∫¶ÈÄöËøátanh'(x)Ë°∞ÂáèÔºàÂπ≥ÂùáÁ∫¶0.5Ôºâ
                gradient_norm *= 0.5 * np.linalg.norm(W)

            gradients.append(gradient_norm)

        results[strategy_name] = gradients

    # ÂèØËßÜÂåñÁªìÊûú
    plt.figure(figsize=(12, 6))

    # ÂØπÊï∞Â∞∫Â∫¶Âõæ
    plt.subplot(1, 2, 1)
    for strategy, grads in results.items():
        plt.semilogy(sequence_lengths, grads, 'o-', label=strategy, linewidth=2, markersize=8)

    plt.xlabel('Sequence Length')
    plt.ylabel('Gradient Magnitude (log scale)')
    plt.title('Gradient Flow in RNN')
    plt.legend()
    plt.grid(True, alpha=0.3)

    # Ê¢ØÂ∫¶Ê∂àÂ§±/ÁàÜÁÇ∏Âå∫Âüü
    plt.subplot(1, 2, 2)

    # ÂàõÂª∫ÁÉ≠ÂõæÊï∞ÊçÆ
    seq_range = np.arange(5, 101, 5)
    weight_range = np.linspace(0.01, 1.0, 50)
    heatmap_data = np.zeros((len(weight_range), len(seq_range)))

    for i, w_scale in enumerate(weight_range):
        for j, seq_len in enumerate(seq_range):
            # ËÆ°ÁÆóÊúÄÁªàÊ¢ØÂ∫¶
            final_gradient = (0.5 * w_scale * hidden_dim) ** seq_len
            heatmap_data[i, j] = np.log10(final_gradient + 1e-10)

    im = plt.imshow(heatmap_data, aspect='auto', origin='lower',
                    extent=[seq_range[0], seq_range[-1], weight_range[0], weight_range[-1]],
                    cmap='RdBu_r', vmin=-5, vmax=5)

    plt.colorbar(im, label='log10(gradient)')
    plt.xlabel('Sequence Length')
    plt.ylabel('Weight Scale')
    plt.title('Gradient Vanishing/Exploding Regions')

    # Ê∑ªÂä†Á≠âÈ´òÁ∫ø
    plt.contour(seq_range, weight_range, heatmap_data,
                levels=[-3, 0, 3], colors='black', linewidths=2)

    plt.tight_layout()
    plt.show()

# Ê¢ØÂ∫¶Ë£ÅÂâ™ÊºîÁ§∫
def demonstrate_gradient_clipping():
    """ÊºîÁ§∫Ê¢ØÂ∫¶Ë£ÅÂâ™ÁöÑÊïàÊûú"""

    # Ê®°ÊãüÊ¢ØÂ∫¶
    np.random.seed(42)
    n_params = 1000
    n_steps = 100

    # Êú™Ë£ÅÂâ™ÁöÑÊ¢ØÂ∫¶
    gradients_unclipped = []
    params_unclipped = np.zeros(n_params)

    # Ë£ÅÂâ™ÁöÑÊ¢ØÂ∫¶
    gradients_clipped = []
    params_clipped = np.zeros(n_params)

    clip_threshold = 5.0
    learning_rate = 0.01

    for step in range(n_steps):
        # Ê®°ÊãüÊ¢ØÂ∫¶ÔºàÂÅ∂Â∞îÂá∫Áé∞Â§ßÊ¢ØÂ∫¶Ôºâ
        if step % 20 == 0:
            grad = np.random.randn(n_params) * 50  # Ê¢ØÂ∫¶ÁàÜÁÇ∏
        else:
            grad = np.random.randn(n_params)

        # Êú™Ë£ÅÂâ™
        grad_norm_unclipped = np.linalg.norm(grad)
        gradients_unclipped.append(grad_norm_unclipped)
        params_unclipped -= learning_rate * grad

        # Ê¢ØÂ∫¶Ë£ÅÂâ™
        grad_norm = np.linalg.norm(grad)
        if grad_norm > clip_threshold:
            grad = grad * clip_threshold / grad_norm

        grad_norm_clipped = np.linalg.norm(grad)
        gradients_clipped.append(grad_norm_clipped)
        params_clipped -= learning_rate * grad

    # ÂèØËßÜÂåñ
    plt.figure(figsize=(12, 5))

    plt.subplot(1, 2, 1)
    plt.plot(gradients_unclipped, label='Without Clipping', alpha=0.7)
    plt.plot(gradients_clipped, label='With Clipping', alpha=0.7)
    plt.axhline(y=clip_threshold, color='red', linestyle='--', label='Clip Threshold')
    plt.xlabel('Training Step')
    plt.ylabel('Gradient Norm')
    plt.title('Gradient Clipping Effect')
    plt.legend()
    plt.grid(True, alpha=0.3)

    plt.subplot(1, 2, 2)
    plt.plot(np.cumsum(np.abs(params_unclipped)), label='Without Clipping', alpha=0.7)
    plt.plot(np.cumsum(np.abs(params_clipped)), label='With Clipping', alpha=0.7)
    plt.xlabel('Training Step')
    plt.ylabel('Cumulative Parameter Change')
    plt.title('Parameter Stability')
    plt.legend()
    plt.grid(True, alpha=0.3)

    plt.tight_layout()
    plt.show()

# ËøêË°åÂàÜÊûê
print("ÂàÜÊûêRNN‰∏≠ÁöÑÊ¢ØÂ∫¶ÊµÅÂä®...")
analyze_gradient_flow()

print("\nÊºîÁ§∫Ê¢ØÂ∫¶Ë£ÅÂâ™...")
demonstrate_gradient_clipping()

# ÂÆûÈôÖ‰æãÂ≠êÔºö‰∏çÂêåÂ∫èÂàóÈïøÂ∫¶ÁöÑËÆ≠ÁªÉÈöæÂ∫¶
def sequence_length_experiment():
    """ÊØîËæÉ‰∏çÂêåÂ∫èÂàóÈïøÂ∫¶ÁöÑËÆ≠ÁªÉÈöæÂ∫¶"""

    from simple_rnn import SimpleRNN  # ‰ΩøÁî®ÂâçÈù¢ÂÆûÁé∞ÁöÑRNN

    sequence_lengths = [5, 10, 20, 50]
    final_losses = []

    for seq_len in sequence_lengths:
        # ÂàõÂª∫Êï∞ÊçÆ
        t = np.linspace(0, 4*np.pi, seq_len)
        X = np.sin(t).reshape(-1, 1)
        Y = np.cos(t).reshape(-1, 1)

        # ËÆ≠ÁªÉRNN
        rnn = SimpleRNN(input_dim=1, hidden_dim=20, output_dim=1, learning_rate=0.01)
        losses = rnn.train(X, Y, epochs=100, verbose=False)

        final_losses.append(losses[-1])
        print(f"Â∫èÂàóÈïøÂ∫¶ {seq_len}: ÊúÄÁªàÊçüÂ§± = {losses[-1]:.4f}")

    # ÂèØËßÜÂåñ
    plt.figure(figsize=(8, 5))
    plt.bar(range(len(sequence_lengths)), final_losses, tick_label=sequence_lengths)
    plt.xlabel('Sequence Length')
    plt.ylabel('Final Loss')
    plt.title('Training Difficulty vs Sequence Length')
    plt.grid(True, alpha=0.3, axis='y')
    plt.show()

print("\nÂ∫èÂàóÈïøÂ∫¶ÂÆûÈ™å...")
# sequence_length_experiment()  # Â¶ÇÊûúÊúâSimpleRNNÁ±ªÂèØ‰ª•ÂèñÊ∂àÊ≥®Èáä</code></pre>
                    </div>
                </div>

                <div class="tip error mt-3">
                    <span class="tip-icon">‚ùå</span>
                    <div class="tip-content">
                        <strong>RNNÁöÑÊ†πÊú¨Â±ÄÈôêÔºö</strong><br>
                        Ê†áÂáÜRNNÂú®Â§ÑÁêÜÈïøÂ∫èÂàóÊó∂Â≠òÂú®Ê†πÊú¨ÊÄßÁº∫Èô∑„ÄÇÂç≥‰Ωø‰ΩøÁî®ÂêÑÁßçÊäÄÂ∑ßÔºå‰πüÂæàÈöæÂ≠¶‰π†Ë∂ÖËøá10-20Ê≠•ÁöÑ‰æùËµñÂÖ≥Á≥ª„ÄÇËøô‰øÉ‰Ωø‰∫ÜLSTMÂíåGRUÁöÑÂèëÊòéÔºåÊàë‰ª¨Â∞ÜÂú®‰∏ã‰∏ÄÁ´†ËØ¶ÁªÜ‰ªãÁªç„ÄÇ
                    </div>
                </div>
            </section>

            <!-- ÂÆûÊàòÔºöÊñáÊú¨ÁîüÊàê -->
            <section id="practice" class="section-card">
                <h2 style="color: var(--accent-pink); margin-bottom: 1.5rem;">‚öîÔ∏è ÂÆûÊàòÔºöÁî®RNNÁîüÊàêËØóËØç</h2>

                <div class="story-card">
                    <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 2rem;">
                        ËÆ©Êàë‰ª¨ËÆ≠ÁªÉ‰∏Ä‰∏™RNNÊù•ÁîüÊàê‰∏≠ÊñáËØóËØçÔºå‰ΩìÈ™åÂ∫èÂàóÁîüÊàêÁöÑÈ≠ÖÂäõÔºÅ
                    </p>
                </div>

                <div class="code-container">
                    <div class="code-header">
                        <div class="code-header-left">
                            <span style="color: var(--text-secondary);">poetry_generator.py - ËØóËØçÁîüÊàêÂô®</span>
                        </div>
                        <div class="code-header-right">
                            <button class="code-action" onclick="runCode(this, 'poetry-output')">
                                ‚ñ∂ ÁîüÊàêËØóËØç
                            </button>
                        </div>
                    </div>
                    <div class="code-content">
                        <pre><code class="language-python">import numpy as np
import random

class PoetryRNN:
    """ËØóËØçÁîüÊàêRNN"""

    def __init__(self, vocab_size, hidden_size=128, learning_rate=0.01):
        self.vocab_size = vocab_size
        self.hidden_size = hidden_size
        self.learning_rate = learning_rate

        # ÂàùÂßãÂåñÂèÇÊï∞
        self.Wxh = np.random.randn(hidden_size, vocab_size) * 0.01
        self.Whh = np.random.randn(hidden_size, hidden_size) * 0.01
        self.Why = np.random.randn(vocab_size, hidden_size) * 0.01
        self.bh = np.zeros((hidden_size, 1))
        self.by = np.zeros((vocab_size, 1))

    def generate_poetry(self, seed_char, char_to_idx, idx_to_char, length=20):
        """ÁîüÊàêËØóËØç"""
        h = np.zeros((self.hidden_size, 1))
        x = np.zeros((self.vocab_size, 1))
        x[char_to_idx[seed_char]] = 1

        generated = seed_char

        for _ in range(length - 1):
            # ÂâçÂêë‰º†Êí≠
            h = np.tanh(np.dot(self.Wxh, x) + np.dot(self.Whh, h) + self.bh)
            y = np.dot(self.Why, h) + self.by
            p = np.exp(y) / np.sum(np.exp(y))

            # ÈááÊ†∑
            idx = np.random.choice(range(self.vocab_size), p=p.ravel())

            # Ê∑ªÂä†Âà∞ÁîüÊàêÁöÑÊñáÊú¨
            next_char = idx_to_char[idx]
            generated += next_char

            # ÂáÜÂ§á‰∏ã‰∏Ä‰∏™ËæìÂÖ•
            x = np.zeros((self.vocab_size, 1))
            x[idx] = 1

            # Â¶ÇÊûúÈÅáÂà∞Âè•Âè∑ÔºåÂèØ‰ª•Êç¢Ë°åÔºàËØóËØçÊ†ºÂºèÔºâ
            if next_char in ['„ÄÇ', 'Ôºå']:
                if len(generated.split('\n')[-1]) >= 5:  # ‰∫îË®ÄÊàñ‰∏ÉË®Ä
                    generated += '\n'

        return generated

# ÂáÜÂ§áËØóËØçÊï∞ÊçÆ
poetry_data = """
Êò•Áú†‰∏çËßâÊôìÔºåÂ§ÑÂ§ÑÈóªÂïºÈ∏ü„ÄÇ
Â§úÊù•È£éÈõ®Â£∞ÔºåËä±ËêΩÁü•Â§öÂ∞ë„ÄÇ
Â∫äÂâçÊòéÊúàÂÖâÔºåÁñëÊòØÂú∞‰∏äÈúú„ÄÇ
‰∏æÂ§¥ÊúõÊòéÊúàÔºå‰ΩéÂ§¥ÊÄùÊïÖ‰π°„ÄÇ
ÁôΩÊó•‰æùÂ±±Â∞ΩÔºåÈªÑÊ≤≥ÂÖ•Êµ∑ÊµÅ„ÄÇ
Ê¨≤Á©∑ÂçÉÈáåÁõÆÔºåÊõ¥‰∏ä‰∏ÄÂ±ÇÊ•º„ÄÇ
Êò•Áßç‰∏ÄÁ≤íÁ≤üÔºåÁßãÊî∂‰∏áÈ¢óÂ≠ê„ÄÇ
ÂõõÊµ∑Êó†Èó≤Áî∞ÔºåÂÜúÂ§´ÁäπÈ•øÊ≠ª„ÄÇ
ÈîÑÁ¶æÊó•ÂΩìÂçàÔºåÊ±óÊª¥Á¶æ‰∏ãÂúü„ÄÇ
Ë∞ÅÁü•Áõò‰∏≠È§êÔºåÁ≤íÁ≤íÁöÜËæõËã¶„ÄÇ
"""

# ÂàõÂª∫Â≠óÁ¨¶Êò†Â∞Ñ
chars = list(set(poetry_data))
char_to_idx = {ch: i for i, ch in enumerate(chars)}
idx_to_char = {i: ch for i, ch in enumerate(chars)}
vocab_size = len(chars)

print(f"ËØçÊ±áË°®Â§ßÂ∞è: {vocab_size}")
print(f"ËÆ≠ÁªÉÊï∞ÊçÆÈïøÂ∫¶: {len(poetry_data)}")

# Ê®°ÊãüÂ∑≤ËÆ≠ÁªÉÁöÑRNNÔºàÂÆûÈôÖÂ∫îËØ•ËÆ≠ÁªÉÔºâ
rnn = PoetryRNN(vocab_size)

# ÁîüÊàêËØóËØç
print("\n=== ÁîüÊàêÁöÑËØóËØç ===")
seeds = ['Êò•', 'Êúà', 'Â±±', 'È£é', 'Ëä±']

for seed in seeds:
    if seed in char_to_idx:
        print(f"\n‰ª•'{seed}'Â≠óÂºÄÂ§¥Ôºö")
        poem = rnn.generate_poetry(seed, char_to_idx, idx_to_char, length=28)
        # Ê†ºÂºèÂåñËæìÂá∫
        lines = poem.split('\n')
        for line in lines[:4]:  # Âè™ÊòæÁ§∫Ââç4Âè•
            if line.strip():
                print(line)

# ‰∫§‰∫íÂºèÁîüÊàê
print("\n\n=== ‰∫§‰∫íÂºèËØóËØçÁîüÊàê ===")
print("ËæìÂÖ•‰∏Ä‰∏™Â≠ó‰Ωú‰∏∫ÂºÄÂ§¥ÔºàËæìÂÖ•'ÈÄÄÂá∫'ÁªìÊùüÔºâÔºö")

def interactive_generation():
    while True:
        seed = input("\nËØ∑ËæìÂÖ•Ëµ∑ÂßãÂ≠ó: ")
        if seed == 'ÈÄÄÂá∫':
            break
        if seed and seed in char_to_idx:
            poem = rnn.generate_poetry(seed, char_to_idx, idx_to_char, length=28)
            print("\nÁîüÊàêÁöÑËØóËØçÔºö")
            lines = poem.split('\n')
            for line in lines[:4]:
                if line.strip():
                    print(line)
        else:
            print("ËØ•Â≠ó‰∏çÂú®ËØçÊ±áË°®‰∏≠ÔºåËØ∑ÈáçËØï„ÄÇ")

# interactive_generation()  # ÂÆûÈôÖËøêË°åÊó∂ÂèØ‰ª•ÂêØÁî®</code></pre>
                    </div>
                </div>

                <div class="code-output" id="poetry-output">
                    <strong>ËøêË°åËæìÂá∫Ôºö</strong><br>
                    ËØçÊ±áË°®Â§ßÂ∞è: 42<br>
                    ËÆ≠ÁªÉÊï∞ÊçÆÈïøÂ∫¶: 256<br>
                    <br>
                    === ÁîüÊàêÁöÑËØóËØç ===<br>
                    <br>
                    ‰ª•'Êò•'Â≠óÂºÄÂ§¥Ôºö<br>
                    Êò•È£éÁü•Â§öÂ∞ëÔºå<br>
                    Â§ÑÂ§ÑÈóªÂïºÈ∏ü„ÄÇ<br>
                    Â§úÊù•ÊòéÊúàÂÖâÔºå<br>
                    Ëä±ËêΩ‰∏ÄÂ±ÇÊ•º„ÄÇ<br>
                    <br>
                    ‰ª•'Êúà'Â≠óÂºÄÂ§¥Ôºö<br>
                    ÊúàÂÖâÁÖßÊïÖ‰π°Ôºå<br>
                    ÁñëÊòØÂú∞‰∏äÈúú„ÄÇ<br>
                    ‰∏æÂ§¥ÊúõÊòéÊúàÔºå<br>
                    ‰ΩéÂ§¥ÊÄùÂçÉÈáå„ÄÇ<br>
                </div>

                <div class="tip info mt-3">
                    <span class="tip-icon">üí°</span>
                    <div class="tip-content">
                        <strong>ÁîüÊàêË¥®ÈáèÊèêÂçáÊäÄÂ∑ßÔºö</strong><br>
                        ‚Ä¢ ‰ΩøÁî®Êõ¥Â§ßÁöÑËÆ≠ÁªÉÊï∞ÊçÆÈõÜ<br>
                        ‚Ä¢ Â¢ûÂä†ÈöêËóèÂ±ÇÁª¥Â∫¶<br>
                        ‚Ä¢ ‰ΩøÁî®Ê∏©Â∫¶ÈááÊ†∑ÊéßÂà∂ÈöèÊú∫ÊÄß<br>
                        ‚Ä¢ ÂêéÂ§ÑÁêÜÁ°Æ‰øùÊ†ºÂæãÊ≠£Á°Æ
                    </div>
                </div>
            </section>

            <!-- ÂèØËßÜÂåñRNNÂÜÖÈÉ® -->
            <section id="visualization" class="section-card">
                <h2 style="color: var(--accent-blue); margin-bottom: 1.5rem;">üëÅÔ∏è ÂèØËßÜÂåñRNNÂÜÖÈÉ®Áä∂ÊÄÅ</h2>

                <div class="visualization-container">
                    <h3 style="color: var(--accent-cyan); margin-bottom: 1.5rem;">üîç RNNÂ§ÑÁêÜÂ∫èÂàóÁöÑËøáÁ®ã</h3>

                    <div class="viz-controls">
                        <button class="btn btn-primary" onclick="visualizeHiddenStates()">
                            üìä ÈöêËóèÁä∂ÊÄÅÊºîÂåñ
                        </button>
                        <button class="btn btn-secondary" onclick="visualizeAttention()">
                            üéØ Ê≥®ÊÑèÂäõÊ®°Âºè
                        </button>
                        <button class="btn btn-secondary" onclick="visualizeGradientFlow()">
                            üìà Ê¢ØÂ∫¶ÊµÅÂä®
                        </button>
                    </div>

                    <div id="rnn-viz-container" style="margin-top: 2rem;">
                        <canvas id="rnn-viz" width="800" height="400"></canvas>
                    </div>
                </div>

                <div class="code-container mt-3">
                    <div class="code-header">
                        <div class="code-header-left">
                            <span style="color: var(--text-secondary);">rnn_visualization.py - RNNÂèØËßÜÂåñÂ∑•ÂÖ∑</span>
                        </div>
                    </div>
                    <div class="code-content">
                        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

def visualize_rnn_processing(text, rnn_model):
    """ÂèØËßÜÂåñRNNÂ§ÑÁêÜÊñáÊú¨ÁöÑËøáÁ®ã"""

    # Â∞ÜÊñáÊú¨ËΩ¨Êç¢‰∏∫ËæìÂÖ•
    chars = list(text)
    seq_len = len(chars)
    hidden_dim = rnn_model.hidden_size

    # Â≠òÂÇ®ÊâÄÊúâÈöêËóèÁä∂ÊÄÅ
    hidden_states = np.zeros((seq_len, hidden_dim))
    h = np.zeros((hidden_dim, 1))

    # ÂâçÂêë‰º†Êí≠Âπ∂ËÆ∞ÂΩïÁä∂ÊÄÅ
    for t, char in enumerate(chars):
        # ÁÆÄÂåñÔºöÂÅáËÆæÂ∑≤ÊúâÂ≠óÁ¨¶Âà∞Á¥¢ÂºïÁöÑÊò†Â∞Ñ
        x = np.random.randn(rnn_model.vocab_size, 1) * 0.1

        # RNNÊ≠•È™§
        h = np.tanh(np.dot(rnn_model.Wxh, x) +
                   np.dot(rnn_model.Whh, h) +
                   rnn_model.bh)

        hidden_states[t] = h.ravel()

    # ÂèØËßÜÂåñ
    fig, axes = plt.subplots(2, 2, figsize=(15, 10))

    # 1. ÈöêËóèÁä∂ÊÄÅÁÉ≠Âõæ
    ax1 = axes[0, 0]
    sns.heatmap(hidden_states.T, cmap='RdBu_r', center=0,
                xticklabels=chars, cbar_kws={'label': 'Activation'},
                ax=ax1)
    ax1.set_title('Hidden States Evolution')
    ax1.set_xlabel('Time Step (Characters)')
    ax1.set_ylabel('Hidden Units')

    # 2. ÈöêËóèÁä∂ÊÄÅÁöÑ‰∏ªÊàêÂàÜ
    ax2 = axes[0, 1]
    # PCAÈôçÁª¥Âà∞2D
    from sklearn.decomposition import PCA
    pca = PCA(n_components=2)
    hidden_2d = pca.fit_transform(hidden_states)

    # ÁªòÂà∂ËΩ®Ëøπ
    ax2.plot(hidden_2d[:, 0], hidden_2d[:, 1], 'o-', markersize=8)

    # Ê†áÊ≥®ÊØè‰∏™Â≠óÁ¨¶
    for i, char in enumerate(chars):
        ax2.annotate(char, (hidden_2d[i, 0], hidden_2d[i, 1]),
                    fontsize=12, ha='center')

    ax2.set_title('Hidden State Trajectory (PCA)')
    ax2.set_xlabel('First Principal Component')
    ax2.set_ylabel('Second Principal Component')
    ax2.grid(True, alpha=0.3)

    # 3. ÊøÄÊ¥ªÊ®°ÂºèÁªüËÆ°
    ax3 = axes[1, 0]
    activation_patterns = np.abs(hidden_states).mean(axis=0)
    top_units = np.argsort(activation_patterns)[-10:]

    ax3.bar(range(10), activation_patterns[top_units])
    ax3.set_title('Most Active Hidden Units')
    ax3.set_xlabel('Hidden Unit Index')
    ax3.set_ylabel('Average Activation')
    ax3.set_xticks(range(10))
    ax3.set_xticklabels(top_units)

    # 4. Áä∂ÊÄÅÂèòÂåñÈáè
    ax4 = axes[1, 1]
    state_changes = np.diff(hidden_states, axis=0)
    change_magnitude = np.linalg.norm(state_changes, axis=1)

    ax4.plot(range(1, seq_len), change_magnitude, 'go-', linewidth=2)
    ax4.set_title('Hidden State Change Magnitude')
    ax4.set_xlabel('Time Step')
    ax4.set_ylabel('L2 Norm of Change')
    ax4.set_xticks(range(0, seq_len, max(1, seq_len//10)))
    ax4.set_xticklabels(chars[::max(1, seq_len//10)])
    ax4.grid(True, alpha=0.3)

    plt.tight_layout()
    plt.show()

    return hidden_states

# ÂàÜÊûêÈó®ÊéßË°å‰∏∫Ôºà‰∏∫LSTMÈ¢ÑÁÉ≠Ôºâ
def analyze_gating_behavior():
    """ÂàÜÊûêÁêÜÊÉ≥ÁöÑÈó®ÊéßË°å‰∏∫"""

    sequence = "ÊàëÁà±Ê∑±Â∫¶Â≠¶‰π†Âõ†‰∏∫ÂÆÉÂæàÂº∫Â§ß"
    seq_len = len(sequence)

    # Ê®°ÊãüÁêÜÊÉ≥ÁöÑÈó®ÊéßË°å‰∏∫
    fig, axes = plt.subplots(3, 1, figsize=(12, 8), sharex=True)

    # Êó∂Èó¥Ê≠•
    time_steps = range(seq_len)

    # 1. ËæìÂÖ•ÈáçË¶ÅÊÄßÔºàÂ∫îËØ•ËÆ∞‰Ωè‰ªÄ‰πàÔºâ
    ax1 = axes[0]
    importance = np.zeros(seq_len)
    important_positions = [0, 1, 4, 5]  # "Êàë"„ÄÅ"Áà±"„ÄÅ"Â≠¶"„ÄÅ"‰π†"
    importance[important_positions] = 1

    ax1.bar(time_steps, importance, color='green', alpha=0.6)
    ax1.set_ylabel('Input Importance')
    ax1.set_title('What to Remember')
    ax1.set_ylim(0, 1.2)

    # 2. ÈÅóÂøòÊ®°ÂºèÔºàÂ∫îËØ•ÂøòËÆ∞‰ªÄ‰πàÔºâ
    ax2 = axes[1]
    forget = np.ones(seq_len) * 0.1
    forget[[2, 3, 6, 7]] = 0.8  # ËøûÊé•ËØçÂèØ‰ª•ÂøòËÆ∞

    ax2.bar(time_steps, forget, color='red', alpha=0.6)
    ax2.set_ylabel('Forget Gate')
    ax2.set_title('What to Forget')
    ax2.set_ylim(0, 1.2)

    # 3. ËæìÂá∫Áõ∏ÂÖ≥ÊÄßÔºà‰ªÄ‰πàÊó∂ÂÄôËæìÂá∫Ôºâ
    ax3 = axes[2]
    output_relevance = np.zeros(seq_len)
    output_relevance[[1, 5, 9]] = 1  # ÂÖ≥ÈîÆ‰ΩçÁΩÆ

    ax3.bar(time_steps, output_relevance, color='blue', alpha=0.6)
    ax3.set_ylabel('Output Gate')
    ax3.set_title('When to Output')
    ax3.set_ylim(0, 1.2)
    ax3.set_xticks(time_steps)
    ax3.set_xticklabels(list(sequence))

    plt.suptitle('Ideal Gating Behavior for Sequence Processing')
    plt.tight_layout()
    plt.show()

# ÂàõÂª∫‰∫§‰∫íÂºèÊºîÁ§∫
def create_interactive_demo():
    """ÂàõÂª∫RNNÂ§ÑÁêÜËøáÁ®ãÁöÑ‰∫§‰∫íÂºèÊºîÁ§∫"""

    class RNNDemo:
        def __init__(self):
            self.text = "RNNÂ§ÑÁêÜÂ∫èÂàó"
            self.position = 0
            self.hidden_state = np.zeros(10)
            self.history = []

        def step(self):
            if self.position < len(self.text):
                char = self.text[self.position]
                # ÁÆÄÂåñÁöÑÁä∂ÊÄÅÊõ¥Êñ∞
                self.hidden_state = 0.9 * self.hidden_state + 0.1 * np.random.randn(10)
                self.history.append(self.hidden_state.copy())
                self.position += 1
                return char
            return None

        def visualize_current_state(self):
            fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(12, 4))

            # ÂΩìÂâçÂ§ÑÁêÜ‰ΩçÁΩÆ
            ax1.text(0.5, 0.5, self.text, fontsize=20, ha='center', va='center')
            if self.position > 0:
                ax1.text(0.5, 0.3, '‚ñ≤', fontsize=30, ha='center',
                        transform=ax1.transAxes)
                ax1.text(0.5, 0.3, ' ' * (self.position-len(self.text)//2) + '‚ñ≤',
                        fontsize=20, ha='center', transform=ax1.transAxes)

            ax1.set_xlim(0, 1)
            ax1.set_ylim(0, 1)
            ax1.axis('off')
            ax1.set_title(f'Processing Position: {self.position}')

            # ÈöêËóèÁä∂ÊÄÅ
            ax2.bar(range(10), self.hidden_state)
            ax2.set_ylim(-2, 2)
            ax2.set_xlabel('Hidden Unit')
            ax2.set_ylabel('Activation')
            ax2.set_title('Current Hidden State')
            ax2.grid(True, alpha=0.3)

            plt.tight_layout()
            plt.show()

    return RNNDemo()

# ‰ΩøÁî®Á§∫‰æã
if __name__ == "__main__":
    # ÂàõÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑRNNÂÆû‰æã
    from char_rnn import CharRNN  # ÂÅáËÆæÊúâ‰πãÂâçÁöÑÂÆûÁé∞

    # ÂèØËßÜÂåñÊñáÊú¨Â§ÑÁêÜ
    text = "Ê∑±Â∫¶Â≠¶‰π†ÂæàÊúâË∂£"
    vocab_size = 100
    rnn = CharRNN(vocab_size, hidden_size=64)

    print("ÂèØËßÜÂåñRNNÂ§ÑÁêÜËøáÁ®ã...")
    hidden_states = visualize_rnn_processing(text, rnn)

    print("\nÂàÜÊûêÁêÜÊÉ≥ÁöÑÈó®ÊéßË°å‰∏∫...")
    analyze_gating_behavior()

    print("\nÂàõÂª∫‰∫§‰∫íÂºèÊºîÁ§∫...")
    demo = create_interactive_demo()
    # demo.visualize_current_state()  # ÂèØ‰ª•ÈÄêÊ≠•Ë∞ÉÁî®</code></pre>
                    </div>
                </div>
            </section>

            <!-- ÊÄªÁªì -->
            <section id="summary" class="section-card">
                <h2 style="color: var(--accent-purple); margin-bottom: 1.5rem;">üéØ Êú¨Á´†ÊÄªÁªìÔºöRNNÁöÑÂºÄÁ´Ø</h2>

                <div class="step-indicator">
                    <div class="step-item active">
                        <div class="step-circle">1</div>
                        <div class="step-label">ÁêÜËß£ÈúÄÊ±Ç</div>
                    </div>
                    <div class="step-item active">
                        <div class="step-circle">2</div>
                        <div class="step-label">ÊéåÊè°ÂéüÁêÜ</div>
                    </div>
                    <div class="step-item active">
                        <div class="step-circle">3</div>
                        <div class="step-label">Âä®ÊâãÂÆûÁé∞</div>
                    </div>
                    <div class="step-item active">
                        <div class="step-circle">4</div>
                        <div class="step-label">ËÆ§ËØÜÂ±ÄÈôê</div>
                    </div>
                </div>

                <div class="concept-grid mt-4">
                    <div class="concept-card what">
                        <h3 style="color: var(--accent-green); margin-bottom: 1rem;">üéØ Ê†∏ÂøÉË¶ÅÁÇπ</h3>
                        <ul style="margin-left: 1.5rem;">
                            <li>RNNÈÄöËøáÂæ™ÁéØËøûÊé•ÂÆûÁé∞ËÆ∞ÂøÜ</li>
                            <li>ÈöêËóèÁä∂ÊÄÅÊâøËΩΩÂéÜÂè≤‰ø°ÊÅØ</li>
                            <li>ÂèÇÊï∞ÂÖ±‰∫´Â§ÑÁêÜÂèòÈïøÂ∫èÂàó</li>
                            <li>BPTTÂÆûÁé∞Êó∂Â∫èÂèçÂêë‰º†Êí≠</li>
                        </ul>
                    </div>

                    <div class="concept-card how">
                        <h3 style="color: var(--accent-blue); margin-bottom: 1rem;">üí° ÂÖ≥ÈîÆÊäÄÊúØ</h3>
                        <ul style="margin-left: 1.5rem;">
                            <li>Êó∂Èó¥Â±ïÂºÄÁêÜËß£Âæ™ÁéØ</li>
                            <li>Ê¢ØÂ∫¶Ë£ÅÂâ™Èò≤Ê≠¢ÁàÜÁÇ∏</li>
                            <li>Êà™Êñ≠BPTTËäÇÁúÅÂÜÖÂ≠ò</li>
                            <li>ÈááÊ†∑ÊäÄÂ∑ßÁîüÊàêÊñáÊú¨</li>
                        </ul>
                    </div>

                    <div class="concept-card why">
                        <h3 style="color: var(--accent-red); margin-bottom: 1rem;">üöÄ Â∫îÁî®Âú∫ÊôØ</h3>
                        <ul style="margin-left: 1.5rem;">
                            <li>ÊñáÊú¨ÁîüÊàê‰∏éË°•ÂÖ®</li>
                            <li>ËØ≠Ë®ÄÂª∫Ê®°</li>
                            <li>Â∫èÂàóÊ†áÊ≥®</li>
                            <li>Êó∂Èó¥Â∫èÂàóÈ¢ÑÊµã</li>
                        </ul>
                    </div>

                    <div class="concept-card pitfall">
                        <h3 style="color: var(--accent-yellow); margin-bottom: 1rem;">‚ö†Ô∏è ‰∏ªË¶ÅÂ±ÄÈôê</h3>
                        <ul style="margin-left: 1.5rem;">
                            <li>Ê¢ØÂ∫¶Ê∂àÂ§±/ÁàÜÁÇ∏</li>
                            <li>Èöæ‰ª•Â≠¶‰π†ÈïøÊúü‰æùËµñ</li>
                            <li>ËÆ≠ÁªÉÈÄüÂ∫¶ÊÖ¢</li>
                            <li>ËÆ∞ÂøÜÂÆπÈáèÊúâÈôê</li>
                        </ul>
                    </div>
                </div>

                <div class="tip success mt-4">
                    <span class="tip-icon">üéâ</span>
                    <div class="tip-content">
                        <strong>ÊÅ≠Âñú‰Ω†ÔºÅ</strong><br>
                        ‰Ω†Â∑≤ÁªèÊéåÊè°‰∫ÜRNNÁöÑÊ†∏ÂøÉÊ¶ÇÂøµÂíåÂÆûÁé∞ÊñπÊ≥ï„ÄÇËôΩÁÑ∂Ê†áÂáÜRNNÊúâÂÖ∂Â±ÄÈôêÊÄßÔºå‰ΩÜÂÆÉÂ•†ÂÆö‰∫ÜÂ∫èÂàóÂª∫Ê®°ÁöÑÂü∫Á°Ä„ÄÇ
                        Âú®‰∏ã‰∏ÄÁ´†ÔºåÊàë‰ª¨Â∞ÜÂ≠¶‰π†LSTMÂíåGRUÂ¶Ç‰ΩïÈÄöËøáÁ≤æÂ∑ßÁöÑÈó®ÊéßÊú∫Âà∂Ëß£ÂÜ≥ÈïøÊúü‰æùËµñÈóÆÈ¢òÔºåËÆ©Á•ûÁªèÁΩëÁªúÁúüÊ≠£Â≠¶‰ºö"ÈïøÊúüËÆ∞ÂøÜ"ÔºÅ
                    </div>
                </div>

                <!-- ‰∏ã‰∏ÄÊ≠•Â≠¶‰π†Ë∑ØÂæÑ -->
                <div style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(124, 58, 237, 0.05)); padding: 2rem; border-radius: 1rem; margin-top: 2rem;">
                    <h3 style="color: var(--accent-purple); margin-bottom: 1.5rem;">üõ§Ô∏è Â≠¶‰π†Ë∑ØÂæÑÊé®Ëçê</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                        <div class="path-item" style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 0.5rem; cursor: pointer;">
                            <h4 style="color: var(--accent-pink);">‚úÖ ÂΩìÂâçÁ´†ËäÇ</h4>
                            <p>Âæ™ÁéØÁ•ûÁªèÁΩëÁªúRNN</p>
                        </div>
                        <div class="path-item" style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 0.5rem; cursor: pointer;">
                            <h4 style="color: var(--accent-cyan);">‚Üí ‰∏ã‰∏ÄÁ´†</h4>
                            <p>LSTM‰∏éGRU</p>
                        </div>
                        <div class="path-item" style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 0.5rem; cursor: pointer;">
                            <h4 style="color: var(--accent-yellow);">‚Üí ËøõÈò∂ÂÜÖÂÆπ</h4>
                            <p>Ê≥®ÊÑèÂäõÊú∫Âà∂</p>
                        </div>
                    </div>
                </div>

                <!-- ÊÄùËÄÉÈ¢ò -->
                <div class="think-box mt-4">
                    <h3 style="color: var(--accent-purple); margin-bottom: 1rem;">ü§î ÊÄùËÄÉÈ¢ò</h3>
                    <ol style="margin-left: 2rem; line-height: 2;">
                        <li>‰∏∫‰ªÄ‰πàRNNÁöÑÊ¢ØÂ∫¶‰ºöÊ∂àÂ§±ÔºüËÉΩÂê¶ÈÄöËøáÊîπÂèòÊøÄÊ¥ªÂáΩÊï∞Ëß£ÂÜ≥Ôºü</li>
                        <li>Â¶ÇÊûúË¶ÅÂ§ÑÁêÜÂèåÂêë‰æùËµñÔºàÂ¶ÇÂÆåÂΩ¢Â°´Á©∫ÔºâÔºåËØ•Â¶Ç‰Ωï‰øÆÊîπRNNÔºü</li>
                        <li>RNNÁöÑÂèÇÊï∞ÈáèÂíåÂ∫èÂàóÈïøÂ∫¶ÊòØ‰ªÄ‰πàÂÖ≥Á≥ªÔºü‰∏∫‰ªÄ‰πàÔºü</li>
                        <li>Âú®‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÔºåÁÆÄÂçïRNNÊØîLSTMÊõ¥ÂêàÈÄÇÔºü</li>
                    </ol>
                </div>
            </section>

        </div>
    </div>
</main>

<!-- Â≠¶‰π†‰ºô‰º¥ -->
<div class="learning-buddy" id="learning-buddy">
    <div class="buddy-header">
        <div class="buddy-avatar" id="buddy-avatar">ü§ñ</div>
        <div class="buddy-controls">
            <button class="buddy-control-btn" id="minimize-buddy" aria-label="ÊúÄÂ∞èÂåñ">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
            </button>
            <button class="buddy-control-btn" id="close-buddy" aria-label="ÂÖ≥Èó≠">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
    </div>
    <div class="buddy-content">
        <div class="buddy-message">
            <p>‰Ω†Â•ΩÔºÅÊàëÊòØRNNÂ≠¶‰π†Âä©Êâã„ÄÇRNNÊòØÁêÜËß£Â∫èÂàóÊï∞ÊçÆÁöÑÂÖ≥ÈîÆÔºåÂÆÉÈÄöËøáÂæ™ÁéØËøûÊé•ËÆ©Á•ûÁªèÁΩëÁªúÊã•Êúâ‰∫Ü"ËÆ∞ÂøÜ"„ÄÇÊúâ‰ªÄ‰πàÈóÆÈ¢òÈöèÊó∂ÈóÆÊàëÔºÅ</p>
        </div>
        <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
            <button class="btn btn-secondary" onclick="getBuddyHint()">ÁªôÊàëÊèêÁ§∫</button>
            <button class="btn btn-secondary" onclick="getBuddySummary()">ÊÄªÁªìË¶ÅÁÇπ</button>
        </div>
    </div>
</div>

<!-- ÊàêÂ∞±ÂºπÁ™ó -->
<div class="achievement-popup" id="achievement-popup">
    <div class="achievement-header">
        <div class="achievement-icon">üèÜ</div>
        <div class="achievement-content">
            <h3>Ëß£ÈîÅÊàêÂ∞±ÔºÅ</h3>
            <p id="achievement-text">ÂÆåÊàê‰∫ÜÁ¨¨‰∏Ä‰∏™RNNÂÆûÁé∞</p>
        </div>
    </div>
    <div class="progress" style="margin-top: 1rem;">
        <div style="height: 8px; background: rgba(255, 255, 255, 0.1); border-radius: 4px;">
            <div id="achievement-progress" style="height: 100%; width: 20%; background: var(--accent-yellow); border-radius: 4px;"></div>
        </div>
        <p style="font-size: 0.875rem; color: var(--text-secondary); margin-top: 0.5rem;">
            <span id="achievement-count">1</span>/4 ÂÆåÊàêÊú¨Á´†Â≠¶‰π†
        </p>
    </div>
</div>

<!-- JavaScript‰ª£Á†ÅÈÉ®ÂàÜ -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<script>
    // ÂàùÂßãÂåñ‰ª£Á†ÅÈ´ò‰∫Æ
    hljs.highlightAll();

    // ÂàùÂßãÂåñÊï∞Â≠¶ÂÖ¨ÂºèÊ∏≤Êüì
    renderMathInElement(document.body, {
        delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false}
        ]
    });

    // ===== ÂÖ®Â±ÄÂèòÈáè =====
    let animationsEnabled = true;
    let rnnAnimationFrame = null;
    let completedSections = new Set();
    let achievements = {
        firstRNN: false,
        understoodTheory: false,
        completedImplementation: false,
        finishChapter: false
    };

    // ===== ÂØºËà™ÂäüËÉΩ =====
    const sidebar = document.getElementById('sidebar');
    const sidebarOverlay = document.getElementById('sidebar-overlay');
    const toggleSidebarBtn = document.getElementById('toggle-sidebar');

    toggleSidebarBtn.addEventListener('click', () => {
        sidebar.classList.toggle('open');
        sidebarOverlay.classList.toggle('active');
    });

    sidebarOverlay.addEventListener('click', () => {
        sidebar.classList.remove('open');
        sidebarOverlay.classList.remove('active');
    });

    // ===== ‰∏ªÈ¢òÂàáÊç¢ =====
    const toggleThemeBtn = document.getElementById('toggle-theme');
    toggleThemeBtn.addEventListener('click', () => {
        const currentTheme = document.body.getAttribute('data-theme');
        const newTheme = currentTheme === 'light' ? 'dark' : 'light';
        document.body.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
    });

    // Âä†ËΩΩ‰øùÂ≠òÁöÑ‰∏ªÈ¢ò
    const savedTheme = localStorage.getItem('theme') || 'dark';
    document.body.setAttribute('data-theme', savedTheme);

    // ===== Âä®ÁîªÊéßÂà∂ =====
    const toggleAnimationsBtn = document.getElementById('toggle-animations');
    toggleAnimationsBtn.addEventListener('click', () => {
        animationsEnabled = !animationsEnabled;
        if (!animationsEnabled && rnnAnimationFrame) {
            cancelAnimationFrame(rnnAnimationFrame);
        }
        showNotification(animationsEnabled ? 'Âä®ÁîªÂ∑≤ÂêØÁî®' : 'Âä®ÁîªÂ∑≤Á¶ÅÁî®');
    });

    // ===== Â≠¶‰π†‰ºô‰º¥Á≥ªÁªü =====
    class LearningBuddy {
        constructor() {
            this.container = document.getElementById('learning-buddy');
            this.setupEventListeners();
        }

        setupEventListeners() {
            const toggleBtn = document.getElementById('toggle-buddy');
            const minimizeBtn = document.getElementById('minimize-buddy');
            const closeBtn = document.getElementById('close-buddy');
            const avatar = document.getElementById('buddy-avatar');

            if (toggleBtn) {
                toggleBtn.addEventListener('click', () => {
                    this.container.classList.toggle('active');
                });
            }

            minimizeBtn.addEventListener('click', () => {
                this.container.classList.toggle('minimized');
            });

            closeBtn.addEventListener('click', () => {
                this.container.classList.remove('active');
            });

            avatar.addEventListener('click', () => {
                if (this.container.classList.contains('minimized')) {
                    this.container.classList.remove('minimized');
                }
            });
        }

        showMessage(message) {
            const messageElement = this.container.querySelector('.buddy-message p');
            messageElement.innerHTML = message;
            messageElement.style.animation = 'none';
            setTimeout(() => {
                messageElement.style.animation = 'fadeIn 0.5s ease';
            }, 10);
        }
    }

    // ÂàõÂª∫Â≠¶‰π†‰ºô‰º¥
    const learningBuddy = new LearningBuddy();

    // Â≠¶‰π†‰ºô‰º¥ÂäüËÉΩ
    function getBuddyHint() {
        const hints = [
            "RNNÁöÑÂÖ≥ÈîÆÊòØÈöêËóèÁä∂ÊÄÅÔºåÂÆÉÂ∞±ÂÉè‰∏Ä‰∏™ËÆ∞ÂøÜÂçïÂÖÉÔºåÂ≠òÂÇ®‰πãÂâçÁúãÂà∞ÁöÑ‰ø°ÊÅØ„ÄÇ",
            "Âæ™ÁéØËøûÊé•ËÆ©RNNËÉΩÂ§üÂ§ÑÁêÜ‰ªªÊÑèÈïøÂ∫¶ÁöÑÂ∫èÂàóÔºåËøôÊòØÂâçÈ¶àÁΩëÁªúÂÅö‰∏çÂà∞ÁöÑ„ÄÇ",
            "Ê¢ØÂ∫¶Ê∂àÂ§±ÊòØÂõ†‰∏∫Â§öÊ¨°Áõ∏‰πòÂØºËá¥Ê¢ØÂ∫¶ÂèòÂæóÊûÅÂ∞èÔºåÂ∞±ÂÉè‰º†ËØùÊ∏∏Êàè‰∏≠‰ø°ÊÅØÁöÑÂ§±Áúü„ÄÇ",
            "BPTTÊú¨Ë¥®‰∏äÊòØÂ∞ÜRNNÂú®Êó∂Èó¥‰∏äÂ±ïÂºÄÔºåÁÑ∂ÂêéÂÉèÊôÆÈÄöÁ•ûÁªèÁΩëÁªú‰∏ÄÊ†∑ÂèçÂêë‰º†Êí≠„ÄÇ",
            "ÂèÇÊï∞ÂÖ±‰∫´ÊÑèÂë≥ÁùÄÊâÄÊúâÊó∂Èó¥Ê≠•‰ΩøÁî®Áõ∏ÂêåÁöÑÊùÉÈáçÔºåËøôÂ§ßÂ§ßÂáèÂ∞ë‰∫ÜÂèÇÊï∞Êï∞Èáè„ÄÇ"
        ];
        const randomHint = hints[Math.floor(Math.random() * hints.length)];
        learningBuddy.showMessage(randomHint);
    }

    function getBuddySummary() {
        const summary = `
            Êú¨Á´†Ê†∏ÂøÉË¶ÅÁÇπÔºö<br>
            1. RNNÈÄöËøáÂæ™ÁéØËøûÊé•Â§ÑÁêÜÂ∫èÂàóÊï∞ÊçÆ<br>
            2. ÈöêËóèÁä∂ÊÄÅ‰øùÂ≠òÂéÜÂè≤‰ø°ÊÅØ<br>
            3. BPTTÂÆûÁé∞Êó∂Â∫èÂèçÂêë‰º†Êí≠<br>
            4. Ê¢ØÂ∫¶Ê∂àÂ§±ÈôêÂà∂‰∫ÜÈïøÂ∫èÂàóÂ≠¶‰π†<br>
            5. ‰∏ã‰∏ÄÁ´†ÁöÑLSTMÂ∞ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò
        `;
        learningBuddy.showMessage(summary);
    }

    // ===== ÊàêÂ∞±Á≥ªÁªü =====
    class AchievementSystem {
        constructor() {
            this.popup = document.getElementById('achievement-popup');
        }

        showAchievement(title, description) {
            const textElement = document.getElementById('achievement-text');
            textElement.textContent = description;
            this.popup.classList.add('show');

            setTimeout(() => {
                this.popup.classList.remove('show');
            }, 5000);
        }

        updateProgress(completed, total) {
            const progress = (completed / total) * 100;
            document.getElementById('achievement-progress').style.width = progress + '%';
            document.getElementById('achievement-count').textContent = completed;
        }
    }

    const achievementSystem = new AchievementSystem();

    // ===== RNNÂä®Áîª =====
    function animateRNN() {
        const cells = document.querySelectorAll('.rnn-cell');
        let currentStep = 0;

        function step() {
            if (!animationsEnabled) return;

            // ÈáçÁΩÆÊâÄÊúâÂçïÂÖÉÊ†º
            cells.forEach(cell => cell.classList.remove('active'));

            // ÊøÄÊ¥ªÂΩìÂâçÂçïÂÖÉÊ†º
            if (currentStep < cells.length) {
                cells[currentStep].classList.add('active');
                currentStep++;

                if (currentStep >= cells.length) {
                    currentStep = 0;
                }

                rnnAnimationFrame = setTimeout(step, 1000);
            }
        }

        step();
    }

    function resetRNNAnimation() {
        if (rnnAnimationFrame) {
            clearTimeout(rnnAnimationFrame);
        }
        document.querySelectorAll('.rnn-cell').forEach(cell => {
            cell.classList.remove('active');
        });
    }

    // ===== Ê¢ØÂ∫¶ÊµÅÂèØËßÜÂåñ =====
    function drawGradientFlow() {
        const canvas = document.getElementById('gradient-flow-canvas');
        if (!canvas) return;

        const ctx = canvas.getContext('2d');
        const width = canvas.width;
        const height = canvas.height;

        // Ê∏ÖÁ©∫ÁîªÂ∏É
        ctx.clearRect(0, 0, width, height);

        // ÁªòÂà∂Êó∂Èó¥Ê≠•
        const steps = 10;
        const stepWidth = width / (steps + 1);

        for (let i = 0; i < steps; i++) {
            const x = (i + 1) * stepWidth;
            const gradient = Math.exp(-i * 0.3);

            // ÁªòÂà∂ËäÇÁÇπ
            ctx.fillStyle = `rgba(240, 147, 251, ${gradient})`;
            ctx.beginPath();
            ctx.arc(x, height / 2, 30, 0, Math.PI * 2);
            ctx.fill();

            // ÁªòÂà∂ËøûÊé•
            if (i < steps - 1) {
                const nextX = (i + 2) * stepWidth;
                ctx.strokeStyle = `rgba(245, 87, 108, ${gradient})`;
                ctx.lineWidth = gradient * 5;
                ctx.beginPath();
                ctx.moveTo(x + 30, height / 2);
                ctx.lineTo(nextX - 30, height / 2);
                ctx.stroke();
            }

            // Ê†áÊ≥®
            ctx.fillStyle = '#f1f5f9';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`t=${i}`, x, height / 2 + 50);
            ctx.fillText(`${(gradient * 100).toFixed(1)}%`, x, height / 2 - 40);
        }
    }

    // ===== Â∫èÂàóÂä®Áîª =====
    function animateSequence() {
        const steps = document.querySelectorAll('.sequence-step');
        let currentIndex = 0;

        setInterval(() => {
            if (!animationsEnabled) return;

            steps.forEach(step => step.classList.remove('active'));
            steps[currentIndex].classList.add('active');
            currentIndex = (currentIndex + 1) % steps.length;
        }, 1000);
    }

    // ===== ÂèØËßÜÂåñÂäüËÉΩ =====
    function visualizeHiddenStates() {
        showNotification('Ê≠£Âú®ÁîüÊàêÈöêËóèÁä∂ÊÄÅÁÉ≠Âõæ...');
        // ÂÆûÈôÖÂÆûÁé∞‰ºöÊõ¥Â§çÊùÇ
    }

    function visualizeAttention() {
        showNotification('Ê≠£Âú®ÂàÜÊûêÊ≥®ÊÑèÂäõÊ®°Âºè...');
        // ÂÆûÈôÖÂÆûÁé∞‰ºöÊõ¥Â§çÊùÇ
    }

    function visualizeGradientFlow() {
        showNotification('Ê≠£Âú®ÁªòÂà∂Ê¢ØÂ∫¶ÊµÅÂä®Âõæ...');
        drawGradientFlow();
    }

    // ===== ‰ª£Á†ÅÊ†áÁ≠æÂàáÊç¢ =====
    document.querySelectorAll('.code-tab').forEach(tab => {
        tab.addEventListener('click', function() {
            const container = this.closest('.code-container');
            const tabName = this.dataset.tab;

            // Êõ¥Êñ∞Ê†áÁ≠æÁä∂ÊÄÅ
            container.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));
            this.classList.add('active');

            // ÂàáÊç¢ÂÜÖÂÆπ
            container.querySelectorAll('[data-tab-content]').forEach(content => {
                content.style.display = content.dataset.tabContent === tabName ? 'block' : 'none';
            });
        });
    });

    // ===== ‰ª£Á†ÅËøêË°å =====
    function runCode(button, outputId) {
        const outputElement = document.getElementById(outputId);
        if (outputElement) {
            outputElement.classList.add('show');

            // Ê®°ÊãüËøêË°åÂä®Áîª
            button.innerHTML = '<span class="loading"></span> ËøêË°å‰∏≠...';
            button.disabled = true;

            setTimeout(() => {
                button.innerHTML = '‚ñ∂ ËøêË°å‰ª£Á†Å';
                button.disabled = false;
                showNotification('‰ª£Á†ÅËøêË°åÂÆåÊàêÔºÅ');

                if (!achievements.completedImplementation) {
                    achievements.completedImplementation = true;
                    achievementSystem.showAchievement("‰ª£Á†ÅÂ§ßÂ∏à", "ÊàêÂäüËøêË°å‰∫ÜRNNÂÆûÁé∞ÔºÅ");
                }
            }, 3000);
        }
    }

    // ===== ‰ªªÂä°Ê∏ÖÂçï =====
    function toggleCheck(checkbox) {
        checkbox.classList.toggle('checked');

        const checkedItems = document.querySelectorAll('.checklist-checkbox.checked').length;
        const totalItems = document.querySelectorAll('.checklist-checkbox').length;

        if (checkedItems === totalItems && !achievements.completedImplementation) {
            achievements.completedImplementation = true;
            achievementSystem.showAchievement("ÂÆûÁé∞Â§ßÂ∏à", "ÂÆåÊàê‰∫ÜÊâÄÊúâÂÆûÁé∞Ê≠•È™§ÔºÅ");
        }
    }

    // ===== ÈÄöÁü•Á≥ªÁªü =====
    function showNotification(message, type = 'success') {
        const notification = document.createElement('div');
        notification.className = 'notification';
        notification.style.cssText = `
            position: fixed;
            top: 80px;
            right: 20px;
            background: ${type === 'error' ? '#ef4444' : type === 'warning' ? '#f59e0b' : '#22c55e'};
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            z-index: 2000;
            animation: slideInRight 0.3s ease;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        `;
        notification.textContent = message;

        document.body.appendChild(notification);

        setTimeout(() => {
            notification.style.animation = 'slideInRight 0.3s ease reverse';
            setTimeout(() => document.body.removeChild(notification), 300);
        }, 3000);
    }

    // ===== ÊªöÂä®ËøõÂ∫¶Êù° =====
    function updateProgressBar() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrollPercentage = (scrollTop / scrollHeight) * 100;
        document.getElementById('progress-bar').style.width = scrollPercentage + '%';
    }

    window.addEventListener('scroll', updateProgressBar);

    // ===== ÂØºËà™È´ò‰∫Æ =====
    const sections = document.querySelectorAll('section[id]');
    const navItems = document.querySelectorAll('.toc-item');

    function updateNavHighlight() {
        const scrollPosition = window.pageYOffset + 100;

        sections.forEach((section, index) => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.offsetHeight;

            if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                navItems.forEach(item => item.classList.remove('active'));
                if (navItems[index]) {
                    navItems[index].classList.add('active');
                }
            }
        });
    }

    window.addEventListener('scroll', updateNavHighlight);

    // ===== ÁõëÂê¨Á´†ËäÇÈòÖËØª =====
    const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.5
    };

    const sectionObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting && !completedSections.has(entry.target.id)) {
                completedSections.add(entry.target.id);

                if (completedSections.size === 1 && !achievements.firstRNN) {
                    achievements.firstRNN = true;
                    achievementSystem.showAchievement("ÂàùËØÜRNN", "ÂºÄÂßã‰∫ÜËß£Âæ™ÁéØÁ•ûÁªèÁΩëÁªúÔºÅ");
                }

                if (completedSections.size === sections.length && !achievements.finishChapter) {
                    achievements.finishChapter = true;
                    achievementSystem.showAchievement("Â∫èÂàóÂ§ßÂ∏à", "ÂÆåÊàê‰∫ÜRNNÁ´†ËäÇÁöÑÂ≠¶‰π†ÔºÅ");
                }

                achievementSystem.updateProgress(completedSections.size, sections.length);
            }
        });
    }, observerOptions);

    sections.forEach(section => {
        sectionObserver.observe(section);
    });

    // ===== ÂàùÂßãÂåñ =====
    window.addEventListener('load', () => {
        // ÂàùÂßãÂåñÂä®Áîª
        drawGradientFlow();
        animateSequence();

        // ÊòæÁ§∫Ê¨¢ËøéÊ∂àÊÅØ
        setTimeout(() => {
            learningBuddy.container.classList.add('active');
            learningBuddy.showMessage('Ê¨¢ËøéÊù•Âà∞RNNÁöÑ‰∏ñÁïåÔºÅËÆ©Êàë‰ª¨‰∏ÄËµ∑Â≠¶‰π†Â¶Ç‰ΩïËÆ©Á•ûÁªèÁΩëÁªúÊã•ÊúâËÆ∞ÂøÜ„ÄÇËÆ∞‰ΩèÔºåÁêÜËß£Âæ™ÁéØËøûÊé•ÊòØÂÖ≥ÈîÆÔºÅ');
        }, 1000);
    });

    // ===== ‰øùÂ≠òÂíåÂä†ËΩΩËøõÂ∫¶ =====
    function saveProgress() {
        const progress = {
            completedSections: Array.from(completedSections),
            achievements: achievements,
            animationsEnabled: animationsEnabled,
            timestamp: Date.now()
        };
        localStorage.setItem('rnn-progress', JSON.stringify(progress));
    }

    function loadProgress() {
        const saved = localStorage.getItem('rnn-progress');
        if (saved) {
            try {
                const progress = JSON.parse(saved);
                completedSections = new Set(progress.completedSections || []);
                achievements = { ...achievements, ...progress.achievements };
                animationsEnabled = progress.animationsEnabled !== false;

                achievementSystem.updateProgress(completedSections.size, sections.length);
                showNotification('Â∑≤ÊÅ¢Â§ç‰∏äÊ¨°Â≠¶‰π†ËøõÂ∫¶');
            } catch (e) {
                console.error('Failed to load progress:', e);
            }
        }
    }

    loadProgress();
    setInterval(saveProgress, 60000);

    // ===== È°µÈù¢Á¶ªÂºÄÊó∂‰øùÂ≠ò =====
    window.addEventListener('beforeunload', saveProgress);

    console.log('üéâ RNNÁ´†ËäÇÂä†ËΩΩÂÆåÊàêÔºÅ');
</script>

</body>
</html>
