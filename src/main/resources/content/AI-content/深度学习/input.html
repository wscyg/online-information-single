<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬8ç« ï¼šé•¿çŸ­æœŸè®°å¿†ç½‘ç»œLSTM - æ·±åº¦ç†è§£ä¸å®è·µ</title>
    <meta name="description" content="ä»åŸç†åˆ°å®è·µï¼Œæ·±å…¥ç†è§£LSTMçš„è®¾è®¡æ™ºæ…§ä¸æ•°å­¦åŸç†">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css">

    <style>
        /* ===== CSSå˜é‡å®šä¹‰ ===== */
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --lstm-gradient: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            --gru-gradient: linear-gradient(135deg, #fdbb2d 0%, #22c1c3 100%);
            --forget-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --input-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --output-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --cell-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --bg-dark: #0f172a;
            --bg-section: #1e293b;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --accent-red: #ef4444;
            --accent-green: #22c55e;
            --accent-blue: #3b82f6;
            --accent-yellow: #fbbf24;
            --accent-purple: #8b5cf6;
            --accent-pink: #ec4899;
            --accent-orange: #f97316;
            --accent-cyan: #06b6d4;
            --border-color: rgba(255, 255, 255, 0.1);
            --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        /* ===== å…¨å±€æ ·å¼ ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* ===== èƒŒæ™¯åŠ¨ç”» ===== */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            overflow: hidden;
            z-index: -1;
        }

        .bg-particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(168, 237, 234, 0.5);
            border-radius: 50%;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            from { transform: translateY(100vh) translateX(0); }
            to { transform: translateY(-100px) translateX(100px); }
        }

        /* ===== å¸ƒå±€ç»„ä»¶ ===== */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* ===== å¯¼èˆªæ  ===== */
        .nav-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            border-bottom: 1px solid var(--border-color);
            transition: transform 0.3s ease;
        }

        .nav-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 0;
        }

        .nav-title h1 {
            font-size: 1.25rem;
            font-weight: 600;
            background: var(--lstm-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: rgba(255, 255, 255, 0.1);
        }

        .progress-bar {
            height: 100%;
            background: var(--lstm-gradient);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* ===== ä¾§è¾¹å¯¼èˆª ===== */
        .sidebar {
            position: fixed;
            left: -300px;
            top: 60px;
            bottom: 0;
            width: 300px;
            background: var(--bg-section);
            border-right: 1px solid var(--border-color);
            padding: 2rem;
            overflow-y: auto;
            transition: transform 0.3s ease;
            z-index: 999;
        }

        .sidebar.open { transform: translateX(300px); }

        .toc-item {
            display: block;
            padding: 0.75rem 1rem;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
            margin-bottom: 0.25rem;
        }

        .toc-item:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            transform: translateX(4px);
        }

        .toc-item.active {
            background: var(--lstm-gradient);
            color: #0f172a;
        }

        /* ===== ä¸»å†…å®¹ ===== */
        main {
            margin-top: 80px;
            padding-bottom: 4rem;
        }

        /* ===== ç« èŠ‚æ ‡é¢˜ ===== */
        .chapter-hero {
            background: var(--lstm-gradient);
            padding: 6rem 0;
            margin-bottom: 3rem;
            position: relative;
            overflow: hidden;
        }

        .chapter-hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            color: #0f172a;
        }

        .chapter-hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            animation: fadeInUp 0.8s ease;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ===== å†…å®¹å¡ç‰‡ ===== */
        .section-card {
            background: var(--bg-section);
            border-radius: 1rem;
            padding: 3rem;
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-lg);
            position: relative;
            overflow: hidden;
        }

        /* ===== å…¬å¼è§£é‡Šå¸ƒå±€ ===== */
        .formula-explainer {
            display: grid;
            grid-template-columns: 1fr 1.5fr 1fr;
            gap: 2rem;
            background: var(--bg-section);
            border-radius: 1rem;
            padding: 2.5rem;
            margin: 2rem 0;
            border: 1px solid var(--border-color);
        }

        .formula-column h4 {
            color: var(--accent-cyan);
            margin-bottom: 1rem;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .formula-math {
            font-size: 1.3rem;
            text-align: center;
            padding: 2rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 0.5rem;
        }

        /* ===== ä¿¡æ¯å¡ç‰‡ç½‘æ ¼ ===== */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .info-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 0.75rem;
            padding: 2rem;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .info-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .card-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
            display: block;
        }

        .card-title {
            color: var(--accent-cyan);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        /* ===== é‡è¦æç¤ºæ¡† ===== */
        .insight-box {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(6, 182, 212, 0.1));
            border: 2px solid rgba(34, 197, 94, 0.3);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .insight-title {
            color: var(--accent-green);
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        /* ===== ä»£ç ç¤ºä¾‹ ===== */
        .code-example {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
            overflow-x: auto;
        }

        /* ===== æ¯”è¾ƒè¡¨æ ¼ ===== */
        .comparison-table {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 1rem;
            overflow: hidden;
            margin: 2rem 0;
            box-shadow: var(--shadow-lg);
        }

        .comparison-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .comparison-table th {
            background: var(--lstm-gradient);
            color: #0f172a;
            padding: 1.25rem;
            text-align: left;
            font-weight: 600;
        }

        .comparison-table td {
            padding: 1.25rem;
            border-bottom: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        /* ===== æµç¨‹å›¾ ===== */
        .lstm-flow-diagram {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
            border: 1px solid var(--border-color);
        }

        .flow-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .flow-block {
            background: var(--bg-section);
            border: 2px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            text-align: center;
            min-width: 150px;
            transition: all 0.3s ease;
        }

        .flow-block:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .flow-arrow {
            font-size: 2rem;
            color: var(--accent-purple);
        }

        /* ===== çŸ©é˜µå¯è§†åŒ– ===== */
        .matrix-visualization {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .matrix-container {
            position: relative;
            display: inline-block;
            margin: 0.5rem;
        }

        .matrix-grid {
            display: grid;
            gap: 0.5rem;
            padding: 0.5rem;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 0.5rem;
        }

        .matrix-cell {
            width: 3.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: 0.25rem;
            font-size: 0.85rem;
            transition: all 0.3s ease;
        }

        .matrix-cell:hover {
            background: rgba(79, 172, 254, 0.2);
            transform: scale(1.1);
        }

        /* ===== äº¤äº’å¼æ¼”ç¤º ===== */
        .interactive-demo {
            background: linear-gradient(135deg, rgba(6, 182, 212, 0.1), rgba(59, 130, 246, 0.05));
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
            border: 2px solid var(--accent-cyan);
        }

        .demo-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .control-group {
            text-align: center;
        }

        .control-value {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: rgba(255, 255, 255, 0.1);
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .forget-slider::-webkit-slider-thumb {
            background: var(--forget-gradient);
            box-shadow: 0 0 10px rgba(240, 147, 251, 0.5);
        }

        .input-slider::-webkit-slider-thumb {
            background: var(--input-gradient);
            box-shadow: 0 0 10px rgba(79, 172, 254, 0.5);
        }

        .output-slider::-webkit-slider-thumb {
            background: var(--output-gradient);
            box-shadow: 0 0 10px rgba(67, 233, 123, 0.5);
        }

        /* ===== æ—¶é—´çº¿ ===== */
        .timeline {
            position: relative;
            padding: 2rem 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--border-color);
        }

        .timeline-item {
            position: relative;
            margin: 2rem 0;
            padding: 0 2rem;
            opacity: 0;
            animation: fadeIn 0.5s ease forwards;
        }

        .timeline-item:nth-child(odd) {
            text-align: right;
            padding-right: 50%;
        }

        .timeline-item:nth-child(even) {
            padding-left: 50%;
        }

        .timeline-dot {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            background: var(--lstm-gradient);
            border-radius: 50%;
            z-index: 1;
        }

        /* ===== æ€è€ƒå¡ç‰‡ ===== */
        .think-card {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(236, 72, 153, 0.1));
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .think-card h3 {
            color: var(--accent-purple);
            margin-bottom: 1rem;
        }

        .think-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .think-option {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .think-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.3);
        }

        /* ===== æ•°å­¦æ¨å¯¼ ===== */
        .math-derivation {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.05));
            border-radius: 1rem;
            padding: 2.5rem;
            margin: 2rem 0;
        }

        .derivation-step {
            background: rgba(255, 255, 255, 0.05);
            border-left: 4px solid var(--accent-cyan);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 0.5rem 0.5rem 0;
            position: relative;
        }

        /* ===== æŒ‰é’®æ ·å¼ ===== */
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--lstm-gradient);
            color: #0f172a;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(168, 237, 234, 0.3);
        }

        .btn-secondary {
            background: transparent;
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        /* ===== æç¤ºæ¡† ===== */
        .tip {
            display: flex;
            gap: 1rem;
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin: 1.5rem 0;
            position: relative;
            overflow: hidden;
        }

        .tip::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            width: 4px;
        }

        .tip.info {
            background: rgba(79, 172, 254, 0.1);
            border: 1px solid rgba(79, 172, 254, 0.3);
        }
        .tip.info::before { background: var(--accent-blue); }

        .tip.warning {
            background: rgba(251, 191, 36, 0.1);
            border: 1px solid rgba(251, 191, 36, 0.3);
        }
        .tip.warning::before { background: var(--accent-yellow); }

        .tip.success {
            background: rgba(34, 197, 94, 0.1);
            border: 1px solid rgba(34, 197, 94, 0.3);
        }
        .tip.success::before { background: var(--accent-green); }

        /* ===== å“åº”å¼è®¾è®¡ ===== */
        @media (max-width: 1024px) {
            .formula-explainer { grid-template-columns: 1fr; }
            .card-grid { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
        }

        @media (max-width: 768px) {
            .chapter-hero h1 { font-size: 2.5rem; }
            .section-card { padding: 2rem; }
            .timeline-item:nth-child(odd),
            .timeline-item:nth-child(even) {
                padding-left: 3rem;
                padding-right: 1rem;
                text-align: left;
            }
            .timeline::before { left: 20px; }
            .timeline-dot { left: 20px; }
        }

        /* ===== åŠ¨ç”» ===== */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }

        /* ===== æ»šåŠ¨æ¡ç¾åŒ– ===== */
        ::-webkit-scrollbar { width: 10px; height: 10px; }
        ::-webkit-scrollbar-track { background: var(--bg-dark); }
        ::-webkit-scrollbar-thumb {
            background: var(--text-muted);
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover { background: var(--text-secondary); }
    </style>
</head>
<body>

<!-- èƒŒæ™¯åŠ¨ç”» -->
<div class="bg-animation" id="bgAnimation"></div>

<!-- å¯¼èˆªæ  -->
<nav class="nav-header" role="navigation" aria-label="ä¸»å¯¼èˆª">
    <div class="container">
        <div class="nav-content">
            <div class="nav-title">
                <button id="toggle-sidebar" class="btn btn-secondary" style="margin-right: 1rem;">
                    â˜° ç›®å½•
                </button>
                <h1>ç¬¬8ç« ï¼šé•¿çŸ­æœŸè®°å¿†ç½‘ç»œLSTM</h1>
            </div>
            <div>
                <button id="toggle-theme" class="btn btn-secondary">ğŸŒ™</button>
            </div>
        </div>
        <div class="nav-progress">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
    </div>
</nav>

<!-- ä¾§è¾¹æ ç›®å½• -->
<aside class="sidebar" id="sidebar">
    <h3 style="margin-bottom: 1.5rem; color: var(--accent-pink);">ğŸ“š ç›®å½•å¯¼èˆª</h3>
    <nav>
        <a href="#intro" class="toc-item active">åºè¨€ï¼šè®°å¿†çš„è‰ºæœ¯</a>
        <a href="#problem" class="toc-item">RNNçš„å›°å¢ƒ</a>
        <a href="#solution" class="toc-item">è§£å†³æ€è·¯</a>
        <a href="#lstm-structure" class="toc-item">LSTMæ ¸å¿ƒç»“æ„</a>
        <a href="#forget-gate" class="toc-item">é—å¿˜é—¨è¯¦è§£</a>
        <a href="#input-gate" class="toc-item">è¾“å…¥é—¨è¯¦è§£</a>
        <a href="#output-gate" class="toc-item">è¾“å‡ºé—¨è¯¦è§£</a>
        <a href="#integration" class="toc-item">æ•´åˆè¿‡ç¨‹</a>
        <a href="#math-proof" class="toc-item">æ•°å­¦è¯æ˜</a>
        <a href="#implementation" class="toc-item">ä»£ç å®ç°</a>
        <a href="#comparison" class="toc-item">LSTM vs GRU</a>
        <a href="#applications" class="toc-item">å®é™…åº”ç”¨</a>
        <a href="#summary" class="toc-item">æ€»ç»“ä¸å±•æœ›</a>
    </nav>
</aside>

<!-- ä¸»å†…å®¹ -->
<main>
    <!-- ç« èŠ‚æ ‡é¢˜ -->
    <section class="chapter-hero">
        <div class="container">
            <div class="chapter-hero-content">
                <h1>é•¿çŸ­æœŸè®°å¿†ç½‘ç»œï¼šè®©AIå­¦ä¼šé—å¿˜ä¸è®°å¿†</h1>
                <p style="font-size: 1.5rem; margin-bottom: 2rem;">æ·±å…¥ç†è§£LSTMçš„ç²¾å¦™è®¾è®¡ï¼ŒæŒæ¡é—¨æ§æœºåˆ¶çš„æ•°å­¦åŸç†</p>
            </div>
        </div>
    </section>

    <div class="container">
        <!-- åºè¨€ï¼šè®°å¿†çš„è‰ºæœ¯ -->
        <section id="intro" class="section-card">
            <h2 style="color: var(--accent-pink); margin-bottom: 2rem;">ğŸ“– åºè¨€ï¼šè®°å¿†çš„è‰ºæœ¯</h2>

            <p style="font-size: 1.2rem; line-height: 1.8; margin-bottom: 2rem;">
                1997å¹´ï¼Œå¾·å›½æ…•å°¼é»‘å·¥ä¸šå¤§å­¦çš„ç ”ç©¶å›¢é˜Ÿé¢ä¸´ç€ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜ï¼šå¦‚ä½•è®©ç¥ç»ç½‘ç»œçœŸæ­£"è®°ä½"é•¿æœŸçš„ä¿¡æ¯ï¼Ÿ
            </p>

            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <h4 style="color: var(--accent-pink);">1991å¹´</h4>
                    <p>Hochreiterå‘ç°æ¢¯åº¦æ¶ˆå¤±é—®é¢˜</p>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <h4 style="color: var(--accent-blue);">1997å¹´</h4>
                    <p>LSTMè®ºæ–‡å‘è¡¨ï¼Œå¼•å…¥é—¨æ§æœºåˆ¶</p>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <h4 style="color: var(--accent-green);">2000å¹´</h4>
                    <p>æ·»åŠ é—å¿˜é—¨ï¼ŒLSTMç»“æ„å®Œå–„</p>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <h4 style="color: var(--accent-orange);">2014å¹´</h4>
                    <p>LSTMåœ¨æœºå™¨ç¿»è¯‘ä¸­å¤§æ”¾å¼‚å½©</p>
                </div>
            </div>
        </section>

        <!-- RNNçš„å›°å¢ƒ -->
        <section id="problem" class="section-card">
            <h2 style="color: var(--accent-red); margin-bottom: 2rem;">ğŸ’” RNNçš„å›°å¢ƒï¼šæ¢¯åº¦æ¶ˆå¤±é—®é¢˜</h2>

            <div class="math-derivation">
                <h3 style="color: var(--accent-red); margin-bottom: 1.5rem;">ğŸ”¬ æ¢¯åº¦æ¶ˆå¤±çš„æ•°å­¦æœ¬è´¨</h3>

                <div class="derivation-step">
                    <h4>RNNçš„æ¢¯åº¦ä¼ æ’­</h4>
                    <p>å›å¿†RNNçš„éšè—çŠ¶æ€æ›´æ–°å…¬å¼ï¼š</p>
                    <div style="text-align: center; margin: 1rem 0; font-size: 1.2rem;">
                        $$\mathbf{h}_t = \tanh(\mathbf{W}_{hh} \mathbf{h}_{t-1} + \mathbf{W}_{xh} \mathbf{x}_t + \mathbf{b}_h)$$
                    </div>
                    <p>å½“è®¡ç®—æŸå¤±å¯¹æ—©æœŸéšè—çŠ¶æ€çš„æ¢¯åº¦æ—¶ï¼Œä¼šå‡ºç°è¿ä¹˜ï¼š</p>
                    <div style="text-align: center; margin: 1rem 0; font-size: 1.2rem;">
                        $$\frac{\partial L}{\partial \mathbf{h}_1} = \frac{\partial L}{\partial \mathbf{h}_T} \cdot \prod_{t=2}^{T} \frac{\partial \mathbf{h}_t}{\partial \mathbf{h}_{t-1}}$$
                    </div>
                </div>

                <div class="derivation-step">
                    <h4>é—®é¢˜çš„æ ¹æº</h4>
                    <p>ç”±äº $\tanh'(x) = 1 - \tanh^2(x) \in (0, 1]$ï¼Œæ¢¯åº¦ä¼šæŒ‡æ•°çº§è¡°å‡ï¼</p>
                </div>
            </div>

            <div class="tip warning">
                <span style="font-size: 1.5rem;">âš ï¸</span>
                <div>
                    <strong>å…³é”®æ´å¯Ÿï¼š</strong>å½“åºåˆ—é•¿åº¦ä¸º100æ—¶ï¼Œå¦‚æœæ¯æ­¥æ¢¯åº¦è¡°å‡0.9ï¼Œæœ€ç»ˆæ¢¯åº¦åªæœ‰åˆå§‹çš„ $0.9^{100} \approx 10^{-5}$ï¼
                </div>
            </div>
        </section>

        <!-- è§£å†³æ€è·¯ -->
        <section id="solution" class="section-card">
            <h2 style="color: var(--accent-blue); margin-bottom: 2rem;">ğŸ’¡ è§£å†³æ€è·¯ï¼šå¦‚ä½•è®¾è®¡æ›´å¥½çš„è®°å¿†æœºåˆ¶ï¼Ÿ</h2>

            <div class="think-card">
                <h3>ğŸ§  è®¾è®¡æ€è€ƒï¼šå¦‚æœä½ æ¥è®¾è®¡ï¼Œä¼šæ€ä¹ˆåšï¼Ÿ</h3>
                <p>åœ¨çœ‹LSTMçš„è§£å†³æ–¹æ¡ˆä¹‹å‰ï¼Œè®©æˆ‘ä»¬è‡ªå·±æ€è€ƒä¸€ä¸‹ï¼šå¦‚ä½•è®©ç½‘ç»œæ—¢èƒ½è®°ä½é‡è¦ä¿¡æ¯ï¼Œåˆèƒ½å¿˜è®°æ— ç”¨ä¿¡æ¯ï¼Ÿ</p>

                <div class="think-options">
                    <div class="think-option">
                        <h4 style="color: var(--accent-cyan);">ğŸ’­ æ€è€ƒ1</h4>
                        <p>å¦‚ä½•åˆ›å»ºä¸€æ¡"é«˜é€Ÿå…¬è·¯"ï¼Œè®©ä¿¡æ¯å¯ä»¥æ— æŸä¼ é€’ï¼Ÿ</p>
                    </div>
                    <div class="think-option">
                        <h4 style="color: var(--accent-pink);">ğŸ’­ æ€è€ƒ2</h4>
                        <p>å¦‚ä½•è®©ç½‘ç»œè‡ªå·±å†³å®šä»€ä¹ˆä¿¡æ¯é‡è¦ï¼Ÿ</p>
                    </div>
                    <div class="think-option">
                        <h4 style="color: var(--accent-green);">ğŸ’­ æ€è€ƒ3</h4>
                        <p>ç”¨ä»€ä¹ˆæ•°å­¦å·¥å…·æ¥å®ç°é€‰æ‹©æ€§æ§åˆ¶ï¼Ÿ</p>
                    </div>
                </div>
            </div>

            <div class="insight-box">
                <h3 class="insight-title">ğŸ¯ LSTMçš„æ ¸å¿ƒåˆ›æ–°</h3>
                <p>LSTMçš„å¤©æ‰ä¹‹å¤„åœ¨äºå¼•å…¥äº†<strong>ç»†èƒçŠ¶æ€ï¼ˆCell Stateï¼‰</strong>ä½œä¸ºä¿¡æ¯çš„é«˜é€Ÿå…¬è·¯ï¼Œ
                    å¹¶é€šè¿‡<strong>é—¨æ§æœºåˆ¶ï¼ˆGating Mechanismï¼‰</strong>æ¥æ§åˆ¶ä¿¡æ¯çš„æµåŠ¨ã€‚</p>
            </div>
        </section>

        <!-- LSTMæ ¸å¿ƒç»“æ„ -->
        <section id="lstm-structure" class="section-card">
            <h2 style="color: var(--accent-purple); margin-bottom: 2rem;">ğŸ¯ LSTMæ ¸å¿ƒç»“æ„</h2>

            <div class="lstm-flow-diagram">
                <h3 style="text-align: center; color: var(--accent-cyan); margin-bottom: 2rem;">LSTMä¿¡æ¯æµå‘å›¾</h3>
                <div class="flow-container">
                    <div class="flow-block">
                        <div style="font-size: 2rem;">ğŸ“Š</div>
                        <div style="color: var(--accent-green);">C<sub>t-1</sub></div>
                        <div style="font-size: 0.875rem;">å‰ä¸€æ—¶åˆ»ç»†èƒçŠ¶æ€</div>
                    </div>

                    <div class="flow-arrow">â†’</div>

                    <div class="flow-block">
                        <div style="font-size: 2rem;">ğŸšª</div>
                        <div style="color: var(--accent-pink);">é—å¿˜é—¨</div>
                        <div style="font-size: 0.875rem;">å†³å®šé—å¿˜ä»€ä¹ˆ</div>
                    </div>

                    <div class="flow-arrow">â†’</div>

                    <div class="flow-block">
                        <div style="font-size: 2rem;">ğŸ“¥</div>
                        <div style="color: var(--accent-cyan);">è¾“å…¥é—¨</div>
                        <div style="font-size: 0.875rem;">å†³å®šå­˜å‚¨ä»€ä¹ˆ</div>
                    </div>

                    <div class="flow-arrow">â†’</div>

                    <div class="flow-block">
                        <div style="font-size: 2rem;">ğŸ“¤</div>
                        <div style="color: var(--accent-yellow);">è¾“å‡ºé—¨</div>
                        <div style="font-size: 0.875rem;">å†³å®šè¾“å‡ºä»€ä¹ˆ</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- é—å¿˜é—¨è¯¦è§£ -->
        <section id="forget-gate" class="section-card">
            <h2 style="color: var(--accent-pink); margin-bottom: 2rem;">ğŸšª é—å¿˜é—¨è¯¦ç»†è§£æ</h2>

            <div class="formula-explainer">
                <div class="formula-column">
                    <h4>æ•°å­¦å…¬å¼</h4>
                    <div class="formula-math">
                        f<sub>t</sub> = Ïƒ(W<sub>f</sub> Â· [h<sub>t-1</sub>, x<sub>t</sub>] + b<sub>f</sub>)
                    </div>
                </div>

                <div class="formula-column">
                    <h4>çŸ©é˜µè¿ç®—å¯è§†åŒ–</h4>
                    <div class="matrix-visualization">
                        <div class="matrix-container">
                            <div class="matrix-grid" style="grid-template-columns: repeat(4, 1fr);">
                                <div class="matrix-cell">W<sub>f</sub></div>
                                <div class="matrix-cell">Ã—</div>
                                <div class="matrix-cell">[h,x]</div>
                                <div class="matrix-cell">= f<sub>t</sub></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="formula-column">
                    <h4>å«ä¹‰è§£é‡Š</h4>
                    <div>
                        <p><strong>f<sub>t</sub>:</strong> é—å¿˜é—¨è¾“å‡ºï¼Œæ§åˆ¶é—å¿˜ç¨‹åº¦</p>
                        <p><strong>Ïƒ:</strong> Sigmoidå‡½æ•°ï¼Œè¾“å‡º[0,1]</p>
                        <p><strong>W<sub>f</sub>:</strong> é—å¿˜é—¨æƒé‡çŸ©é˜µ</p>
                    </div>
                </div>
            </div>

            <div class="card-grid">
                <div class="info-card">
                    <span class="card-icon">ğŸ¯</span>
                    <h3 class="card-title">é—å¿˜é—¨çš„ä½œç”¨</h3>
                    <p>æ§åˆ¶å‘é‡ï¼Œæ¯ä¸ªå…ƒç´ âˆˆ[0,1]</p>
                    <ul style="margin-top: 0.5rem;">
                        <li>0 = å®Œå…¨é—å¿˜</li>
                        <li>1 = å®Œå…¨ä¿ç•™</li>
                        <li>0.5 = ä¿ç•™ä¸€åŠ</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ”„</span>
                    <h3 class="card-title">Sigmoidå‡½æ•°</h3>
                    <p>å°†ä»»æ„å€¼æ˜ å°„åˆ°[0,1]</p>
                    <p style="font-family: monospace;">Ïƒ(x) = 1/(1+e<sup>-x</sup>)</p>
                </div>

                <div class="info-card">
                    <span class="card-icon">âš¡</span>
                    <h3 class="card-title">æƒé‡çŸ©é˜µ</h3>
                    <p>å­¦ä¹ å¦‚ä½•ç»„åˆè¾“å…¥ä¿¡æ¯</p>
                    <p>ç»´åº¦ï¼šéšè—ç»´åº¦ Ã— (hç»´åº¦ + xç»´åº¦)</p>
                </div>
            </div>

            <div class="insight-box">
                <h3 class="insight-title">é—å¿˜é—¨å¦‚ä½•ä½œç”¨äºç»†èƒçŠ¶æ€ï¼Ÿ</h3>
                <div style="text-align: center; font-size: 1.5rem; margin: 1rem 0;">
                    C<sub>t</sub><sup>new</sup> = f<sub>t</sub> âŠ™ C<sub>t-1</sub>
                </div>
                <p>âŠ™ è¡¨ç¤ºé€å…ƒç´ ç›¸ä¹˜ï¼ˆHadamardç§¯ï¼‰</p>
            </div>
        </section>

        <!-- è¾“å…¥é—¨è¯¦è§£ -->
        <section id="input-gate" class="section-card">
            <h2 style="color: var(--accent-cyan); margin-bottom: 2rem;">ğŸ“¥ è¾“å…¥é—¨ä¸å€™é€‰å€¼è¯¦è§£</h2>

            <div class="formula-explainer">
                <div class="formula-column">
                    <h4>è¾“å…¥é—¨å…¬å¼</h4>
                    <div class="formula-math">
                        i<sub>t</sub> = Ïƒ(W<sub>i</sub> Â· [h<sub>t-1</sub>, x<sub>t</sub>] + b<sub>i</sub>)
                    </div>
                </div>

                <div class="formula-column">
                    <h4>å€™é€‰å€¼å…¬å¼</h4>
                    <div class="formula-math">
                        CÌƒ<sub>t</sub> = tanh(W<sub>C</sub> Â· [h<sub>t-1</sub>, x<sub>t</sub>] + b<sub>C</sub>)
                    </div>
                </div>

                <div class="formula-column">
                    <h4>æ–°ä¿¡æ¯è®¡ç®—</h4>
                    <div class="formula-math">
                        æ–°å¢ä¿¡æ¯ = i<sub>t</sub> âŠ™ CÌƒ<sub>t</sub>
                    </div>
                </div>
            </div>

            <div class="insight-box" style="background: linear-gradient(135deg, rgba(79, 172, 254, 0.1), rgba(0, 242, 254, 0.1)); border-color: var(--accent-cyan);">
                <h3 class="insight-title" style="color: var(--accent-cyan);">è¾“å…¥é—¨çš„ä½œç”¨æœºåˆ¶</h3>
                <p>è¾“å…¥é—¨é€šè¿‡ä¸¤æ­¥ç¡®å®šè¦å­˜å‚¨çš„æ–°ä¿¡æ¯ï¼š</p>
                <ul>
                    <li><strong>i<sub>t</sub>:</strong> å†³å®šå­˜å‚¨æƒé‡ï¼ˆ0=å¿½ç•¥ï¼Œ1=å…¨éƒ¨å­˜å‚¨ï¼‰</li>
                    <li><strong>CÌƒ<sub>t</sub>:</strong> å€™é€‰è®°å¿†å†…å®¹ï¼ˆèŒƒå›´[-1,1]ï¼‰</li>
                </ul>
            </div>
        </section>

        <!-- è¾“å‡ºé—¨è¯¦è§£ -->
        <section id="output-gate" class="section-card">
            <h2 style="color: var(--accent-yellow); margin-bottom: 2rem;">ğŸ“¤ è¾“å‡ºé—¨è¯¦è§£</h2>

            <div class="formula-explainer">
                <div class="formula-column">
                    <h4>è¾“å‡ºé—¨å…¬å¼</h4>
                    <div class="formula-math">
                        o<sub>t</sub> = Ïƒ(W<sub>o</sub> Â· [h<sub>t-1</sub>, x<sub>t</sub>] + b<sub>o</sub>)
                    </div>
                </div>

                <div class="formula-column">
                    <h4>éšè—çŠ¶æ€å…¬å¼</h4>
                    <div class="formula-math">
                        h<sub>t</sub> = o<sub>t</sub> âŠ™ tanh(C<sub>t</sub>)
                    </div>
                </div>

                <div class="formula-column">
                    <h4>è¾“å‡ºè¿‡æ»¤</h4>
                    <div class="formula-math">
                        ä»ç»†èƒçŠ¶æ€C<sub>t</sub>ä¸­<br>é€‰æ‹©æ€§è¾“å‡ºä¿¡æ¯
                    </div>
                </div>
            </div>

            <div class="insight-box" style="background: linear-gradient(135deg, rgba(250, 112, 154, 0.1), rgba(254, 225, 64, 0.1)); border-color: var(--accent-yellow);">
                <h3 class="insight-title" style="color: var(--accent-yellow);">è¾“å‡ºé—¨çš„æ™ºèƒ½é€‰æ‹©</h3>
                <p>è¾“å‡ºé—¨å†³å®šä»ä¸°å¯Œçš„ç»†èƒçŠ¶æ€ä¸­è¾“å‡ºå“ªäº›ä¿¡æ¯ï¼š</p>
                <ul>
                    <li>ç»†èƒçŠ¶æ€C<sub>t</sub>ä¿å­˜å®Œæ•´ä¿¡æ¯</li>
                    <li>é€šè¿‡tanhå‹ç¼©åˆ°[-1,1]èŒƒå›´</li>
                    <li>o<sub>t</sub>é€‰æ‹©æ€§è¿‡æ»¤è¾“å‡ºå†…å®¹</li>
                </ul>
            </div>
        </section>

        <!-- æ•´åˆè¿‡ç¨‹ -->
        <section id="integration" class="section-card" style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));">
            <h2 style="color: var(--accent-purple); margin-bottom: 2rem;">ğŸ”„ æ•´åˆè¿‡ç¨‹ï¼šä¸‰ä¸ªé—¨çš„ååŒæ•ˆæœ</h2>

            <div class="formula-explainer">
                <div class="formula-column">
                    <h4>ç»†èƒçŠ¶æ€æ›´æ–°</h4>
                    <div class="formula-math">
                        C<sub>t</sub> = f<sub>t</sub> âŠ™ C<sub>t-1</sub> + i<sub>t</sub> âŠ™ CÌƒ<sub>t</sub>
                    </div>
                </div>

                <div class="formula-column">
                    <h4>ä¸‰ä¸ªé—¨çš„ä½œç”¨</h4>
                    <div style="text-align: left; padding: 1rem;">
                        <p><span style="color: var(--accent-pink);">é—å¿˜é—¨:</span> é€‰æ‹©æ€§é—å¿˜</p>
                        <p><span style="color: var(--accent-cyan);">è¾“å…¥é—¨:</span> é€‰æ‹©æ€§è®°å¿†</p>
                        <p><span style="color: var(--accent-yellow);">è¾“å‡ºé—¨:</span> é€‰æ‹©æ€§è¾“å‡º</p>
                    </div>
                </div>

                <div class="formula-column">
                    <h4>æœ€ç»ˆæ•ˆæœ</h4>
                    <div style="text-align: center; padding: 1rem;">
                        <div style="font-size: 2rem;">âœ¨</div>
                        <p>ç²¾ç¡®æ§åˆ¶ä¿¡æ¯æµ<br>è§£å†³é•¿æœŸä¾èµ–é—®é¢˜</p>
                    </div>
                </div>
            </div>

            <!-- çŸ©é˜µç»´åº¦å˜åŒ–è¯¦è§£ -->
            <div class="insight-box" style="background: linear-gradient(135deg, rgba(167, 139, 250, 0.1), rgba(96, 165, 250, 0.1)); border-color: var(--accent-purple); margin-top: 3rem;">
                <h3 class="insight-title" style="color: var(--accent-purple);">ğŸ“ çŸ©é˜µç»´åº¦å˜åŒ–è¯¦è§£</h3>
                <div class="insight-content">
                    <p>å‡è®¾ï¼šéšè—ç»´åº¦ = 128ï¼Œè¾“å…¥ç»´åº¦ = 100ï¼Œæ‰¹æ¬¡å¤§å° = 32</p>

                    <div style="margin-top: 1.5rem;">
                        <h4 style="color: var(--accent-cyan); margin-bottom: 1rem;">ç¬¬ä¸€æ­¥ï¼šè¾“å…¥æ‹¼æ¥</h4>
                        <div style="background: rgba(0,0,0,0.2); padding: 1rem; border-radius: 0.5rem; font-family: monospace;">
                            [h<sub>t-1</sub>, x<sub>t</sub>] = [32Ã—128, 32Ã—100] â†’ 32Ã—228
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <h4 style="color: var(--accent-pink); margin-bottom: 1rem;">ç¬¬äºŒæ­¥ï¼šè®¡ç®—ä¸‰ä¸ªé—¨</h4>
                        <div style="background: rgba(0,0,0,0.2); padding: 1rem; border-radius: 0.5rem;">
                            <p style="font-family: monospace; margin-bottom: 0.5rem;">
                                f<sub>t</sub> = Ïƒ(W<sub>f</sub>[32Ã—228] + b<sub>f</sub>) â†’ 32Ã—128
                            </p>
                            <p style="font-family: monospace; margin-bottom: 0.5rem;">
                                i<sub>t</sub> = Ïƒ(W<sub>i</sub>[32Ã—228] + b<sub>i</sub>) â†’ 32Ã—128
                            </p>
                            <p style="font-family: monospace; margin-bottom: 0.5rem;">
                                o<sub>t</sub> = Ïƒ(W<sub>o</sub>[32Ã—228] + b<sub>o</sub>) â†’ 32Ã—128
                            </p>
                            <p style="font-family: monospace;">
                                CÌƒ<sub>t</sub> = tanh(W<sub>c</sub>[32Ã—228] + b<sub>c</sub>) â†’ 32Ã—128
                            </p>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <h4 style="color: var(--accent-green); margin-bottom: 1rem;">ç¬¬ä¸‰æ­¥ï¼šæ›´æ–°ç»†èƒçŠ¶æ€</h4>
                        <div style="background: rgba(0,0,0,0.2); padding: 1rem; border-radius: 0.5rem; font-family: monospace;">
                            <p style="margin-bottom: 0.5rem;">C<sub>t</sub> = f<sub>t</sub> âŠ™ C<sub>t-1</sub> + i<sub>t</sub> âŠ™ CÌƒ<sub>t</sub></p>
                            <p>= [32Ã—128] âŠ™ [32Ã—128] + [32Ã—128] âŠ™ [32Ã—128] â†’ 32Ã—128</p>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <h4 style="color: var(--accent-yellow); margin-bottom: 1rem;">ç¬¬å››æ­¥ï¼šè®¡ç®—è¾“å‡º</h4>
                        <div style="background: rgba(0,0,0,0.2); padding: 1rem; border-radius: 0.5rem; font-family: monospace;">
                            <p style="margin-bottom: 0.5rem;">h<sub>t</sub> = o<sub>t</sub> âŠ™ tanh(C<sub>t</sub>)</p>
                            <p>= [32Ã—128] âŠ™ tanh([32Ã—128]) â†’ 32Ã—128</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æ•ˆæœå±•ç¤º -->
            <div class="card-grid" style="margin-top: 3rem;">
                <div class="info-card">
                    <span class="card-icon">ğŸ¯</span>
                    <h3 class="card-title">é—å¿˜é—¨çš„æ•ˆæœ</h3>
                    <p>é€šè¿‡ f<sub>t</sub> âŠ™ C<sub>t-1</sub>ï¼š</p>
                    <ul style="margin-top: 0.5rem;">
                        <li>é€‰æ‹©æ€§ä¿ç•™å†å²ä¿¡æ¯</li>
                        <li>è¿‡æ»¤æ‰ä¸ç›¸å…³çš„è®°å¿†</li>
                        <li>é¿å…ä¿¡æ¯è¿‡è½½</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">âœ¨</span>
                    <h3 class="card-title">è¾“å…¥é—¨çš„æ•ˆæœ</h3>
                    <p>é€šè¿‡ i<sub>t</sub> âŠ™ CÌƒ<sub>t</sub>ï¼š</p>
                    <ul style="margin-top: 0.5rem;">
                        <li>æ§åˆ¶æ–°ä¿¡æ¯çš„å¼ºåº¦</li>
                        <li>é€‰æ‹©é‡è¦ç‰¹å¾å­˜å‚¨</li>
                        <li>é˜²æ­¢å™ªå£°å¹²æ‰°</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ”</span>
                    <h3 class="card-title">è¾“å‡ºé—¨çš„æ•ˆæœ</h3>
                    <p>é€šè¿‡ o<sub>t</sub> âŠ™ tanh(C<sub>t</sub>)ï¼š</p>
                    <ul style="margin-top: 0.5rem;">
                        <li>è¿‡æ»¤è¾“å‡ºä¿¡æ¯</li>
                        <li>ä¿æŒå†…éƒ¨çŠ¶æ€ç§å¯†</li>
                        <li>é€‚åº”ä¸åŒä»»åŠ¡éœ€æ±‚</li>
                    </ul>
                </div>
            </div>

            <!-- äº¤äº’å¼æ¼”ç¤º -->
            <div class="interactive-demo">
                <h3 style="color: var(--accent-cyan); text-align: center; margin-bottom: 2rem;">ğŸ® LSTMé—¨æ§äº¤äº’æ¼”ç¤º</h3>

                <div class="demo-controls">
                    <div class="control-group">
                        <label>é—å¿˜é—¨ f<sub>t</sub></label>
                        <div class="control-value" style="color: var(--accent-pink);" id="forget-value">0.5</div>
                        <input type="range" class="slider forget-slider" id="forget-slider" min="0" max="1" step="0.01" value="0.5">
                    </div>

                    <div class="control-group">
                        <label>è¾“å…¥é—¨ i<sub>t</sub></label>
                        <div class="control-value" style="color: var(--accent-cyan);" id="input-value">0.5</div>
                        <input type="range" class="slider input-slider" id="input-slider" min="0" max="1" step="0.01" value="0.5">
                    </div>

                    <div class="control-group">
                        <label>è¾“å‡ºé—¨ o<sub>t</sub></label>
                        <div class="control-value" style="color: var(--accent-yellow);" id="output-value">0.5</div>
                        <input type="range" class="slider output-slider" id="output-slider" min="0" max="1" step="0.01" value="0.5">
                    </div>
                </div>

                <div style="background: rgba(255, 255, 255, 0.05); border-radius: 0.75rem; padding: 2rem; margin-top: 2rem;">
                    <h4 style="color: var(--accent-purple); margin-bottom: 1rem;">è®¡ç®—ç»“æœ</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <div>
                            <strong>é—å¿˜åï¼š</strong><span id="after-forget">0.50</span><br>
                            <strong>æ–°å¢ä¿¡æ¯ï¼š</strong><span id="new-info">0.40</span>
                        </div>
                        <div>
                            <strong>æ–°ç»†èƒçŠ¶æ€ï¼š</strong>C<sub>t</sub> = <span id="new-cell">0.90</span><br>
                            <strong>æœ€ç»ˆè¾“å‡ºï¼š</strong>h<sub>t</sub> = <span id="final-output">0.36</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å®é™…æ•ˆæœå¯¹æ¯” -->
            <div style="margin-top: 3rem;">
                <h3 style="color: var(--accent-purple); text-align: center; margin-bottom: 2rem;">ğŸ”¬ å®é™…æ•ˆæœå¯¹æ¯”</h3>

                <div class="comparison-table">
                    <table>
                        <thead>
                        <tr>
                            <th>åœºæ™¯</th>
                            <th>é—å¿˜é—¨è®¾ç½®</th>
                            <th>è¾“å…¥é—¨è®¾ç½®</th>
                            <th>è¾“å‡ºé—¨è®¾ç½®</th>
                            <th>æ•ˆæœ</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td><strong>å¥å­å¼€å§‹</strong></td>
                            <td>f â‰ˆ 0.1 (ä½)</td>
                            <td>i â‰ˆ 0.9 (é«˜)</td>
                            <td>o â‰ˆ 0.8 (é«˜)</td>
                            <td>æ¸…ç©ºæ—§ä¿¡æ¯ï¼Œæ¥æ”¶æ–°å¥å­</td>
                        </tr>
                        <tr>
                            <td><strong>é‡è¦å®ä½“</strong></td>
                            <td>f â‰ˆ 0.9 (é«˜)</td>
                            <td>i â‰ˆ 0.8 (é«˜)</td>
                            <td>o â‰ˆ 0.5 (ä¸­)</td>
                            <td>ä¿ç•™å†å²ï¼Œæ·»åŠ æ–°ä¿¡æ¯</td>
                        </tr>
                        <tr>
                            <td><strong>æ ‡ç‚¹ç¬¦å·</strong></td>
                            <td>f â‰ˆ 0.8 (é«˜)</td>
                            <td>i â‰ˆ 0.1 (ä½)</td>
                            <td>o â‰ˆ 0.3 (ä½)</td>
                            <td>ç»´æŒçŠ¶æ€ï¼Œå¿½ç•¥æ— å…³ä¿¡æ¯</td>
                        </tr>
                        <tr>
                            <td><strong>å¥å­ç»“æŸ</strong></td>
                            <td>f â‰ˆ 0.7 (ä¸­é«˜)</td>
                            <td>i â‰ˆ 0.3 (ä½)</td>
                            <td>o â‰ˆ 0.9 (é«˜)</td>
                            <td>è¾“å‡ºæ€»ç»“ä¿¡æ¯</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="tip success">
                <span style="font-size: 1.5rem;">ğŸ¯</span>
                <div>
                    <strong>å…³é”®æ´å¯Ÿï¼š</strong>é€šè¿‡ä¸‰ä¸ªé—¨çš„ååŒå·¥ä½œï¼ŒLSTMå®ç°äº†ï¼š
                    <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                        <li><strong>æ¢¯åº¦ç¨³å®šä¼ æ’­ï¼š</strong>ç»†èƒçŠ¶æ€çš„çº¿æ€§è·¯å¾„é¿å…æ¢¯åº¦æ¶ˆå¤±</li>
                        <li><strong>é€‰æ‹©æ€§è®°å¿†ï¼š</strong>ç²¾ç¡®æ§åˆ¶ä¿¡æ¯çš„ä¿ç•™ã€æ›´æ–°å’Œè¾“å‡º</li>
                        <li><strong>é•¿æœŸä¾èµ–å»ºæ¨¡ï¼š</strong>é‡è¦ä¿¡æ¯å¯ä»¥è·¨è¶Šå¾ˆé•¿çš„æ—¶é—´æ­¥ä¼ é€’</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- æ•°å­¦è¯æ˜ -->
        <section id="math-proof" class="section-card">
            <h2 style="color: var(--accent-red); margin-bottom: 2rem;">ğŸ”¬ æ•°å­¦è¯æ˜ï¼šLSTMå¦‚ä½•è§£å†³æ¢¯åº¦æ¶ˆå¤±</h2>

            <div class="math-derivation">
                <h3 style="color: var(--accent-red); margin-bottom: 1.5rem;">ğŸ“ æ¢¯åº¦ä¼ æ’­åˆ†æ</h3>

                <div class="derivation-step">
                    <h4>ç»†èƒçŠ¶æ€çš„æ¢¯åº¦ä¼ æ’­</h4>
                    <p>ä»ç»†èƒçŠ¶æ€æ›´æ–°å…¬å¼å‡ºå‘ï¼š</p>
                    <div style="text-align: center; margin: 1rem 0; font-size: 1.2rem;">
                        $C_t = f_t \odot C_{t-1} + i_t \odot \tilde{C}_t$
                    </div>
                    <p>è®¡ç®—æ¢¯åº¦ï¼š</p>
                    <div style="text-align: center; margin: 1rem 0; font-size: 1.2rem;">
                        $\frac{\partial C_t}{\partial C_{t-1}} = \text{diag}(f_t)$
                    </div>
                </div>

                <div class="derivation-step">
                    <h4>å…³é”®æ´å¯Ÿ</h4>
                    <p>æ¢¯åº¦é€šè¿‡<strong>å¯¹è§’çŸ©é˜µ</strong>ä¼ æ’­ï¼Œè€Œä¸æ˜¯å¯†é›†çŸ©é˜µï¼</p>
                    <div class="tip success">
                        <span>ğŸ’¡</span>
                        <div>
                            è¿™æ„å‘³ç€ï¼š
                            <ul style="margin-left: 1.5rem;">
                                <li>æ¯ä¸ªç»´åº¦çš„æ¢¯åº¦ç‹¬ç«‹ä¼ æ’­</li>
                                <li>ç½‘ç»œå¯ä»¥å­¦ä¹ è®© f_t â‰ˆ 1 æ¥ä¿æŒæ¢¯åº¦</li>
                                <li>é¿å…äº†æ¢¯åº¦çš„æŒ‡æ•°çº§è¡°å‡</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ä»£ç å®ç° -->
        <section id="implementation" class="section-card">
            <h2 style="color: var(--accent-yellow); margin-bottom: 2rem;">ğŸ› ï¸ ä»é›¶å®ç°LSTM</h2>

            <div class="code-example">
                <pre><code class="language-python">import numpy as np

class LSTMCell:
    """LSTMå•å…ƒçš„NumPyå®ç°"""
    def __init__(self, input_dim, hidden_dim):
        # åˆå§‹åŒ–æƒé‡çŸ©é˜µ
        scale = np.sqrt(2.0 / (input_dim + hidden_dim))

        # é—å¿˜é—¨å‚æ•°
        self.Wf = np.random.randn(hidden_dim, input_dim + hidden_dim) * scale
        self.bf = np.ones((hidden_dim, 1))  # åˆå§‹åŒ–ä¸º1ï¼Œä¿ƒè¿›è®°å¿†

        # è¾“å…¥é—¨å‚æ•°
        self.Wi = np.random.randn(hidden_dim, input_dim + hidden_dim) * scale
        self.bi = np.zeros((hidden_dim, 1))

        # å€™é€‰å€¼å‚æ•°
        self.Wc = np.random.randn(hidden_dim, input_dim + hidden_dim) * scale
        self.bc = np.zeros((hidden_dim, 1))

        # è¾“å‡ºé—¨å‚æ•°
        self.Wo = np.random.randn(hidden_dim, input_dim + hidden_dim) * scale
        self.bo = np.zeros((hidden_dim, 1))

    def forward(self, x_t, h_prev, c_prev):
        """LSTMå‰å‘ä¼ æ’­"""
        # æ‹¼æ¥è¾“å…¥
        concat = np.vstack([h_prev, x_t])

        # è®¡ç®—å››ä¸ªé—¨
        f_t = self.sigmoid(np.dot(self.Wf, concat) + self.bf)  # é—å¿˜é—¨
        i_t = self.sigmoid(np.dot(self.Wi, concat) + self.bi)  # è¾“å…¥é—¨
        c_tilde_t = np.tanh(np.dot(self.Wc, concat) + self.bc)  # å€™é€‰å€¼
        o_t = self.sigmoid(np.dot(self.Wo, concat) + self.bo)  # è¾“å‡ºé—¨

        # æ›´æ–°ç»†èƒçŠ¶æ€
        c_t = f_t * c_prev + i_t * c_tilde_t

        # è®¡ç®—éšè—çŠ¶æ€
        h_t = o_t * np.tanh(c_t)

        return h_t, c_t

    @staticmethod
    def sigmoid(x):
        """æ•°å€¼ç¨³å®šçš„sigmoidå‡½æ•°"""
        return np.where(x >= 0,
                       1 / (1 + np.exp(-x)),
                       np.exp(x) / (1 + np.exp(x)))</code></pre>
            </div>
        </section>

        <!-- LSTM vs GRUå¯¹æ¯” -->
        <section id="comparison" class="section-card">
            <h2 style="color: var(--accent-yellow); margin-bottom: 2rem;">âš”ï¸ LSTM vs GRUï¼šç¹ä¸ç®€çš„æƒè¡¡</h2>

            <div class="comparison-table">
                <table>
                    <thead>
                    <tr>
                        <th>ç‰¹æ€§</th>
                        <th>LSTM (1997)</th>
                        <th>GRU (2014)</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td><strong>é—¨çš„æ•°é‡</strong></td>
                        <td>3ä¸ªé—¨ï¼ˆé—å¿˜ã€è¾“å…¥ã€è¾“å‡ºï¼‰</td>
                        <td>2ä¸ªé—¨ï¼ˆé‡ç½®ã€æ›´æ–°ï¼‰</td>
                    </tr>
                    <tr>
                        <td><strong>çŠ¶æ€æ•°é‡</strong></td>
                        <td>åŒçŠ¶æ€ï¼ˆç»†èƒçŠ¶æ€+éšè—çŠ¶æ€ï¼‰</td>
                        <td>å•çŠ¶æ€ï¼ˆåªæœ‰éšè—çŠ¶æ€ï¼‰</td>
                    </tr>
                    <tr>
                        <td><strong>å‚æ•°é‡</strong></td>
                        <td>4ä¸ªæƒé‡çŸ©é˜µ</td>
                        <td>3ä¸ªæƒé‡çŸ©é˜µ</td>
                    </tr>
                    <tr>
                        <td><strong>ä¼˜åŠ¿</strong></td>
                        <td>è¡¨è¾¾èƒ½åŠ›å¼ºï¼Œé€‚åˆå¤æ‚ä»»åŠ¡</td>
                        <td>å‚æ•°å°‘ï¼Œè®­ç»ƒå¿«</td>
                    </tr>
                    <tr>
                        <td><strong>åŠ£åŠ¿</strong></td>
                        <td>å‚æ•°å¤šï¼Œè®­ç»ƒæ…¢</td>
                        <td>è¡¨è¾¾èƒ½åŠ›ç¨å¼±</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- å®é™…åº”ç”¨ -->
        <section id="applications" class="section-card">
            <h2 style="color: var(--accent-green); margin-bottom: 2rem;">ğŸš€ å®é™…åº”ç”¨æ¡ˆä¾‹</h2>

            <div class="card-grid">
                <div class="info-card">
                    <span class="card-icon">ğŸŒ</span>
                    <h3 class="card-title">æœºå™¨ç¿»è¯‘</h3>
                    <p>Googleç¿»è¯‘ä½¿ç”¨LSTMå®ç°é«˜è´¨é‡çš„åºåˆ—åˆ°åºåˆ—ç¿»è¯‘ï¼Œå‡†ç¡®å¤„ç†é•¿å¥å­ä¸­çš„è¯­æ³•å’Œè¯­ä¹‰å…³ç³»ã€‚</p>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ—£ï¸</span>
                    <h3 class="card-title">è¯­éŸ³è¯†åˆ«</h3>
                    <p>Apple Siriã€Amazon Alexaç­‰è¯­éŸ³åŠ©æ‰‹ä½¿ç”¨LSTMå¤„ç†è¿ç»­è¯­éŸ³æµï¼Œå‡†ç¡®è¯†åˆ«ç”¨æˆ·æ„å›¾ã€‚</p>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ“ˆ</span>
                    <h3 class="card-title">æ—¶åºé¢„æµ‹</h3>
                    <p>é‡‘èå¸‚åœºé¢„æµ‹ã€å¤©æ°”é¢„æŠ¥ã€äº¤é€šæµé‡é¢„æµ‹ç­‰é¢†åŸŸå¹¿æ³›ä½¿ç”¨LSTMæ•è·æ—¶é—´åºåˆ—ä¸­çš„é•¿æœŸæ¨¡å¼ã€‚</p>
                </div>

                <div class="info-card">
                    <span class="card-icon">âœï¸</span>
                    <h3 class="card-title">æ–‡æœ¬ç”Ÿæˆ</h3>
                    <p>GPTç³»åˆ—æ¨¡å‹çš„å‰èº«ï¼ŒLSTMåœ¨æ–‡æœ¬ç”Ÿæˆã€è¯—æ­Œåˆ›ä½œã€ä»£ç è¡¥å…¨ç­‰ä»»åŠ¡ä¸­è¡¨ç°å‡ºè‰²ã€‚</p>
                </div>
            </div>
        </section>

        <!-- æ€»ç»“ä¸å±•æœ› -->
        <section id="summary" class="section-card">
            <h2 style="color: var(--accent-purple); margin-bottom: 2rem;">ğŸ¯ æœ¬ç« æ€»ç»“ï¼šLSTMçš„ç²¾å¦™è®¾è®¡</h2>

            <div class="card-grid">
                <div class="info-card">
                    <span class="card-icon">ğŸ¯</span>
                    <h3 class="card-title">æ ¸å¿ƒåˆ›æ–°</h3>
                    <ul>
                        <li>ç»†èƒçŠ¶æ€ï¼šçº¿æ€§ä¿¡æ¯é«˜é€Ÿå…¬è·¯</li>
                        <li>é—¨æ§æœºåˆ¶ï¼šç²¾ç¡®çš„ä¿¡æ¯æµæ§åˆ¶</li>
                        <li>æ¢¯åº¦é«˜é€Ÿè·¯ï¼šè§£å†³é•¿æœŸä¾èµ–</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸ’¡</span>
                    <h3 class="card-title">è®¾è®¡æ™ºæ…§</h3>
                    <ul>
                        <li>é—å¿˜é—¨ï¼šé€‰æ‹©æ€§é—å¿˜</li>
                        <li>è¾“å…¥é—¨ï¼šé€‰æ‹©æ€§è®°å¿†</li>
                        <li>è¾“å‡ºé—¨ï¼šæŒ‰éœ€æå–</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">ğŸš€</span>
                    <h3 class="card-title">åº”ç”¨é¢†åŸŸ</h3>
                    <ul>
                        <li>è‡ªç„¶è¯­è¨€å¤„ç†</li>
                        <li>è¯­éŸ³è¯†åˆ«</li>
                        <li>æ—¶åºé¢„æµ‹</li>
                        <li>åºåˆ—ç”Ÿæˆ</li>
                    </ul>
                </div>

                <div class="info-card">
                    <span class="card-icon">âš ï¸</span>
                    <h3 class="card-title">å±€é™æ€§</h3>
                    <ul>
                        <li>è®¡ç®—å¤æ‚åº¦é«˜</li>
                        <li>éš¾ä»¥å¹¶è¡ŒåŒ–</li>
                        <li>å‚æ•°é‡å¤§</li>
                        <li>è®­ç»ƒæ—¶é—´é•¿</li>
                    </ul>
                </div>
            </div>

            <div class="tip success" style="margin-top: 3rem;">
                <span style="font-size: 2rem;">ğŸ“</span>
                <div>
                    <h3 style="margin-bottom: 1rem;">å­¦ä¹ LSTMçš„æ”¶è·</h3>
                    <p style="font-size: 1.1rem; line-height: 1.8;">
                        é€šè¿‡æœ¬ç« çš„æ·±åº¦å­¦ä¹ ï¼Œä½ å·²ç»æŒæ¡äº†ï¼š<br>
                        â€¢ LSTMå¦‚ä½•é€šè¿‡å·§å¦™çš„é—¨æ§æœºåˆ¶è§£å†³æ¢¯åº¦æ¶ˆå¤±é—®é¢˜<br>
                        â€¢ ç»†èƒçŠ¶æ€ä½œä¸ºä¿¡æ¯é«˜é€Ÿå…¬è·¯çš„è®¾è®¡æ™ºæ…§<br>
                        â€¢ ä»é›¶å®ç°LSTMçš„å®Œæ•´ä»£ç å’Œæ•°å­¦æ¨å¯¼<br>
                        â€¢ LSTMä¸GRUçš„è¯¦ç»†å¯¹æ¯”å’Œé€‰æ‹©ç­–ç•¥<br>
                        â€¢ åœ¨å®é™…åº”ç”¨ä¸­çš„ä¼˜åŒ–æŠ€å·§å’Œæœ€ä½³å®è·µ
                    </p>
                    <p style="margin-top: 1rem; font-size: 1.2rem; color: var(--accent-cyan);">
                        <strong>ä¸‹ä¸€æ­¥ï¼š</strong>å­¦ä¹ Transformerå’Œè‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼Œäº†è§£åºåˆ—å»ºæ¨¡çš„æœ€æ–°çªç ´ï¼
                    </p>
                </div>
            </div>
        </section>
    </div>
</main>

<!-- é¡µè„š -->
<footer style="background: var(--bg-section); padding: 3rem 0; border-top: 1px solid var(--border-color);">
    <div class="container">
        <div style="text-align: center; color: var(--text-secondary);">
            <p style="margin-bottom: 1rem; font-size: 1.1rem;">
                ğŸ“– æ·±åº¦å­¦ä¹ åºåˆ—å»ºæ¨¡ | ç¬¬8ç« ï¼šé•¿çŸ­æœŸè®°å¿†ç½‘ç»œLSTM
            </p>
            <p>Â© 2024 Deep Learning Tutorial Series. æ•™è‚²ç›®çš„ä½¿ç”¨ã€‚</p>
        </div>
    </div>
</footer>

<script>
    // ä¸»è¦äº¤äº’åŠŸèƒ½
    (function() {
        'use strict';

        // å¯¼èˆªåŠŸèƒ½
        const toggleSidebar = document.getElementById('toggle-sidebar');
        const sidebar = document.getElementById('sidebar');

        toggleSidebar.addEventListener('click', () => {
            sidebar.classList.toggle('open');
        });

        // è¿›åº¦æ¡
        window.addEventListener('scroll', () => {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progress-bar').style.width = scrolled + '%';

            // æ›´æ–°ä¾§è¾¹æ é«˜äº®
            updateSidebarHighlight();
        });

        // æ›´æ–°ä¾§è¾¹æ é«˜äº®
        function updateSidebarHighlight() {
            const sections = document.querySelectorAll('section[id]');
            const tocItems = document.querySelectorAll('.toc-item');
            let current = '';

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });

            tocItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === `#${current}`) {
                    item.classList.add('active');
                }
            });
        }

        // äº¤äº’å¼æ¼”ç¤º
        const forgetSlider = document.getElementById('forget-slider');
        const inputSlider = document.getElementById('input-slider');
        const outputSlider = document.getElementById('output-slider');

        function updateCalculations() {
            const ft = parseFloat(forgetSlider.value);
            const it = parseFloat(inputSlider.value);
            const ot = parseFloat(outputSlider.value);

            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('forget-value').textContent = ft.toFixed(2);
            document.getElementById('input-value').textContent = it.toFixed(2);
            document.getElementById('output-value').textContent = ot.toFixed(2);

            // è®¡ç®—
            const Ct_prev = 1.0;
            const C_tilde = 0.8;

            const forgotten = ft * Ct_prev;
            const newInfo = it * C_tilde;
            const Ct = forgotten + newInfo;
            const ht = ot * Math.tanh(Ct);

            // æ›´æ–°ç»“æœ
            document.getElementById('after-forget').textContent = forgotten.toFixed(2);
            document.getElementById('new-info').textContent = newInfo.toFixed(2);
            document.getElementById('new-cell').textContent = Ct.toFixed(2);
            document.getElementById('final-output').textContent = ht.toFixed(2);
        }

        forgetSlider.addEventListener('input', updateCalculations);
        inputSlider.addEventListener('input', updateCalculations);
        outputSlider.addEventListener('input', updateCalculations);

        // åˆå§‹è®¡ç®—
        updateCalculations();

        // å¹³æ»‘æ»šåŠ¨
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

    })();
</script>

<!-- å¤–éƒ¨ä¾èµ–åŠ è½½ -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<script>
    // ä»£ç é«˜äº®
    if (window.hljs) {
        hljs.highlightAll();
    }

    // æ•°å­¦å…¬å¼æ¸²æŸ“
    if (window.renderMathInElement) {
        renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });
    }
</script>

</body>
</html>